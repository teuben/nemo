<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>XYIO(3NEMO) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
xyopen, xyclose, xyread, xywrite, xysetpl - line based image I/O 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<br>
<pre>#include &lt;stdinc.h&gt;#include &lt;xyio.h&gt;image *xyopen(handle, name, mode, naxis,
axes)int handle, naxis, axes[naxis];string name, mode;
void xyclose(handle)int
handle;
void xyclose(handle)int handle;
void xyread(handle, index, array)int
handle, index;real array[];
void xywrite(handle, index, array)int handle,
index;real array[];
void xysetpl(handle, naxis, nsize)int handle, naxis,
nsize[];
Descriptionxyopen opens an image file. For an input file, it determines
the size of each axis. For a output  file, it writes out this info. name
is the name of the file to be opened, mode the access mode. It can be "r"
or "w" to open the file in read or write mode, although the strings "old"
and "new" are also supported. naxis is the maximum number of axes that the
calling program can handle. For an input file, if the data file has fewer
than naxis axes, the higher dimensions are treated as having only one element.
If the data file has more than naxis axes, and the higher dimensions are
more than 1 element deep, xyopen will call error and die. axes is an input
array when writing and output for reading. It gives the number of elements
along each axis. xyopen returns a handle of the file, which is used in subsequent
operations.  xyclose closes a previously opened image file. 
xyread reads
a single row from an image. This accesses the plane given by the last call
to xysetpl(see below). index is the row number to read. This varies from
0 to axes[1]-1. array is the read row.  axes[0] elements are returned. xywrite
is the inverse of xyread. 
xysetpl sets up which (hyper) plane of a cube
is to be  accessed.  By default, if not called, the first plane will be
accessed. naxis is the size of the modified nsize array. nsize gives the
indices, along the 3rd, 4th, 5th, etc dimensions, of the plane that is
to be accessed. nsize[0] corresponds to the index along the 3rd dimension,
and can take values from 0 to axes[2]-1 etc. 
ExampleThe following example
shows how to sum all the pixel values in an an image: 
    real *data, sum=0;
    int  i, j, k, h, axes[3];
    xyopen(&amp;h,"ccd","r",3,axes);
    data = (real *) allocate(axes[0] * sizeof(real);
    for(k=0; k&lt;axes[2]; k++) {
        xysetpl(h,1,&amp;k);
        for(j=0; j&lt;axes[1]; j++) {
            xyread(h,j,data);
            for(i=0; i&lt;axes[0]; i++) sum += data[i];
        }
    }
    printf("Sum = %g0,sum);
</pre>
<h2><a name='sect4' href='#toc4'>Limitations</a></h2>
Although the interface specification is the same as those of
MIRIAD, images in NEMO are implemented only as 2- or 3D dimensional. Also,
note that <b>index</b> and <b>nsize</b> are 0 based in NEMO, not 1 based as they are
in MIRIAD. 
<h2><a name='sect5' href='#toc5'>See Also</a></h2>
<a href='image.3.html'>image(3NEMO)</a>
 
<h2><a name='sect6' href='#toc6'>Author</a></h2>
Peter Teuben 
<h2><a name='sect7' href='#toc7'>Files</a></h2>
<br>
<pre>~/src/image/io  <tt> </tt>&nbsp;<tt> </tt>&nbsp;xyio.c
</pre>
<h2><a name='sect8' href='#toc8'>Update History</a></h2>
<br>
<pre>15-may-92<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.0 Created       <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
7-jan-99<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.1 Fixed documentation bug<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre>
<p> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Example</a></li>
<li><a name='toc4' href='#sect4'>Limitations</a></li>
<li><a name='toc5' href='#sect5'>See Also</a></li>
<li><a name='toc6' href='#sect6'>Author</a></li>
<li><a name='toc7' href='#sect7'>Files</a></li>
<li><a name='toc8' href='#sect8'>Update History</a></li>
</ul>
</body>
</html>
