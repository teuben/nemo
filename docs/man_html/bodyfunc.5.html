<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>bodyfunc(5falcON) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<p> 
<h2><a name='sect0' href='#toc0'>Name</a></h2>
bodyfunc expression - used in generating <a href='bodyfunc.1falcON.html'><i>bodyfunc(1falcON)</i></a>
 functions:
functions taking body, time and a set of up to 10 parameters and returning
bool, int, real, or vector. 
<p> 
<h2><a name='sect1' href='#toc1'>Description</a></h2>
<i>bodyfunc expression</i>s are valid C
(in fact C++) expressions that evaluate to either a bool, an integer, a
real, or a vector. On construction of a <i>bodyfunc</i>, the C++ compiler is employed
to to generate on the fly (as the user runs the program) the function together
with type information and information on which body data are required,
see <a href='bodyfunc.1falcON.html'><i>bodyfunc(1falcON)</i></a>
. 
<p> 
<h2><a name='sect2' href='#toc2'>List of body properties</a></h2>
The bodyfunc expression may
contain the following sub-expressions for body properties. <p>
<br>
<pre>Name      Type      Description

 constants and global properties
Pi<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns 3.14159265358979323846264338328
N<tt> </tt>&nbsp;<tt> </tt>&nbsp;int<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns N, the total number of bodies
M<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns M, the total mass
t<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns t, the time of the snapshot
#d<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;parameter number d
 basic body properties
i<tt> </tt>&nbsp;<tt> </tt>&nbsp;int<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the index, between 0 and N-1
m<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the mass
pos<tt> </tt>&nbsp;<tt> </tt>&nbsp;vector<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the position vector
vel<tt> </tt>&nbsp;<tt> </tt>&nbsp;vector<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the velocity vector
acc<tt> </tt>&nbsp;<tt> </tt>&nbsp;vector<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the acceleration vector
aux<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns an auxiliary real
pot<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the potential
phi<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the potential
eps<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the individual softening length
key<tt> </tt>&nbsp;<tt> </tt>&nbsp;int<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the key, an auxiliary integer
 basic SPH body properties (only with falcON SPH)
h<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the smoothing length, 
n<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the number of gas neighbours
U<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the internal energy
Ui<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the (dU/dt)_internal
Ue<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the (dU/dt)_external
U<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the internal energy
S<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the entropy function
rho<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the gas density
f<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the factor f_i
s<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the sound speed
 components of basic body properties
x<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns x, the x-component of pos
y<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns y, the y-component of pos
z<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns z, the z-component of pos
vx<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns vx, the x-component of vel
vy<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns vy, the y-component of vel
vz<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns vz, the z-component of vel
ax<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns ax, the x-component of acc
ay<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns ay, the y-component of acc
az<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns az, the z-component of acc
 compounds from basic body properties
r<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns abs(pos), the radius
R<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns sqrt(x*x+y*y), the cylindrical radius
v<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns abs(vel), the total velocity
a<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns abs(acc), the total acceleration
vr<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns vr, the radial component of vel
vt<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns vt, the absolute value of tangential velocity
vphi<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns vphi, the azimuthal component of vel
l<tt> </tt>&nbsp;<tt> </tt>&nbsp;vector<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns l=x^v, the specific angular momentum
lx<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns Lx, the x-component of l
ly<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns Ly, the y-component of l
lz<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns Lz, the z-component of l
ltot<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns abs(l), the total specific angular momentum
jtot<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;the same as ltot, for NEMO compatibility
L<tt> </tt>&nbsp;<tt> </tt>&nbsp;vector<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns L=l*m, the angular momentum vector
Lx<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns Lx, the x-component of L
Ly<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns Ly, the y-component of L
Lz<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns Lz, the z-component of L
Ltot<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns abs(L), the total angular momentum
E<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns phi+vel*vel/2, the total energy
etot<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;the same as E, for NEMO compatibility
</pre>
<h2><a name='sect3' href='#toc3'>Operations and functions</a></h2>
In addition, the expression may use any standard
mathematical expressions, including math functions. For vectors, all operations
defined for tupel&lt;3,real&gt;, see <a href='tupel.5falcON.html'><i>tupel(5falcON)</i></a>
, are allowed. The following
lists some of these and additional functions supported. <p>
<br>
<pre>Name<tt> </tt>&nbsp;<tt> </tt>&nbsp;Type<tt> </tt>&nbsp;<tt> </tt>&nbsp;Description
vector*vector<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the scalar product
vector^vector<tt> </tt>&nbsp;<tt> </tt>&nbsp;vector<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the vector cross product
vector(x)<tt> </tt>&nbsp;<tt> </tt>&nbsp;vector<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;converts scalar to vector
real(x)<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;converts integer to real
norm(x)<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns x*x for any type
abs(vector)<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns sqrt(norm(vector))
abs(real)<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns |real|
max(x,y)<tt> </tt>&nbsp;<tt> </tt>&nbsp;scalar<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the greater of two scalars
max(vector)<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the greatest vector element<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;
min(x,y)<tt> </tt>&nbsp;<tt> </tt>&nbsp;scalar<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the smaller of two scalars
min(vector)<tt> </tt>&nbsp;<tt> </tt>&nbsp;real<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;returns the smallest vector element<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;

Compatibilitybodyfunc expressions are backward compatible with bodytrans(5NEMO)
expressions, i.e. any valid bodytrans expression may be used. Note, however
that bodyfunc allows more functionality, for example vector expressions.
 ExamplesThe following lists some example bodyfunc expressions 
expression<tt> </tt>&nbsp;<tt> </tt>&nbsp;Type<tt> </tt>&nbsp;<tt> </tt>&nbsp;Description
r&lt;2<tt> </tt>&nbsp;<tt> </tt>&nbsp;bool<tt> </tt>&nbsp;<tt> </tt>&nbsp;true if the radius is less than 2
norm(pos)&lt;#0<tt> </tt>&nbsp;<tt> </tt>&nbsp;bool<tt> </tt>&nbsp;<tt> </tt>&nbsp;same as before, but more efficient, since (1) no sqrt()
needed and (2) the limit is parametrized
E&lt;0? L:vector(zero)<tt> </tt>&nbsp;<tt> </tt>&nbsp;vector<tt> </tt>&nbsp;<tt> </tt>&nbsp;bound bodies: angular momentum, unbound: 0

See Alsobodyfunc(1falcON), bodytrans(5NEMO) AuthorWalter Dehnen Update
History
21-jul-2004 Created<tt> </tt>&nbsp;<tt> </tt>&nbsp;WD
07-nov-2004 parameters added, changed cond#expr to expr@cond<tt> </tt>&nbsp;<tt> </tt>&nbsp;WD
12-jul-2006 Updated<tt> </tt>&nbsp;<tt> </tt>&nbsp;WD
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Description</a></li>
<li><a name='toc2' href='#sect2'>List of body properties</a></li>
<li><a name='toc3' href='#sect3'>Operations and functions</a></li>
<li><a name='toc4' href='#sect4'>Compatibility</a></li>
<li><a name='toc5' href='#sect5'>Examples</a></li>
<li><a name='toc6' href='#sect6'>See Also</a></li>
<li><a name='toc7' href='#sect7'>Author</a></li>
<li><a name='toc8' href='#sect8'>Update History</a></li>
</ul>
</body>
</html>
