<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>STOO(1NEMO) manual page</title>
</head>
<body bgcolor='white'>
HTML automatically generated with <A HREF=http://manpages.ubuntu.com/manpages/bionic/man1/rman.1.html>rman</A><br>
<a href='#toc'>Table of Contents</a><p>

<p> 
<h2><a name='sect0' href='#toc0'>Name</a></h2>
stoo - convert snapshot to orbit 
<p> 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<p>
<b>stoo in=</b>snapshot <b>out=</b>orbit
[parameter=value] 
<p> 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<b>stoo</b> selects one or more bodies from a snapshot
file and converts it to orbit format. Orbits are stored sequentially, the
Key field in the snapshot is used to identify the particle making this
orbit. If no Key field is present, the first body has key 0. 
<p> 
<h2><a name='sect3' href='#toc3'>Parameters</a></h2>

The following parameters are recognized in order; they may be given in
any order if the keyword is also given. Use --help to confirm this man page
is up to date.  
<dl>

<dt><b>in=<i>in-file</i></b> </dt>
<dd>input file, in <a href='snapshot.5.html'><i>snapshot(5NEMO)</i></a>
 format. If in a
pipe, the number of snapshots to be converted to orbits needs to be given
via <b>nsteps=</b>, see below. [no default] </dd>

<dt><b>out=<i>out-file</i></b> </dt>
<dd>output file, will be in
<a href='orbit.5.html'><i>orbit(5NEMO)</i></a>
 format [no default] </dd>

<dt><b>ibody=<i>number</i></b> </dt>
<dd>ranking <i>number</i> of the star
in the snapshot file, normally the Key field.  Multiple stars can be selected
here, e.g. 0:1000:10 in the usual <a href='nemoinp.3.html'><i>nemoinp(3NEMO)</i></a>
 notation. However, all orbits
need to be allocated in memory. Use a negative number to process all bodies.
[default: <b>-1</b>]. </dd>

<dt><b>nsteps=<i>number</i></b> </dt>
<dd><i>number</i> of timesteps to be allocated. Use 0 to
allow the program to scan the input snapshot. However, if the input is from
a pipe, <b>nsteps</b> needs to be given the (maximum) number of steps allowed.

<p> [default: <b>0</b>]. 
<p> </dd>
</dl>

<h2><a name='sect4' href='#toc4'>Examples</a></h2>
Here is an example of producing a large snapshot,
in single precision, with <a href='gyrfalcon.1.html'><i>gyrfalcon(1NEMO)</i></a>
. Since currently <a href='stoo.1.html'><i>stoo(1NEMO)</i></a>

cannot read such single precision Positon/Velocity yet, they need to be
converted via <a href='snapcopy.1.html'><i>snapcopy(1NEMO)</i></a>
. Some timings are given.  The input snapshot
is 430MB, the output snapshot and orbit file are 860MB. <br>
<pre>   mkplummer p10k 10000
   gyrfalcON p10k p10k.out tstop=100 step=0.1 kmax=8 eps=0.1 give=mxvap &gt; p10k.log
   /usr/bin/time snapcopy p10k.out tmp.out
   2.52user 0.48system 0:03.02elapsed 99%CPU
   /usr/bin/time stoo tmp.out tmp.orb -1
   1.60user 1.04system 0:02.65elapsed 99%CPU
   /usr/bin/time orbstat tmp.orb &gt; tmp.orb.log
   0.49user 0.23system 0:00.73elapsed 99%CPU
</pre>
<p> Data-wide this "Particle-Attribute-Time" dataset  is 10000 x 11 x 1000 in
this case, but at various stages dimensions are shuffled around rather
haphazardly, and does not scale well for large numbers of particles and/or
times. 
<p> 
<p> 
<h2><a name='sect5' href='#toc5'>See Also</a></h2>
<a href='snapshot.5.html'>snapshot(5NEMO)</a>
, <a href='orbit.5.html'>orbit(5NEMO)</a>
, <a href='orblist.1.html'>orblist(1NEMO)</a>
, <a href='otos.1.html'>otos(1NEMO)</a>
,
<a href='orboom.1.html'>orboom(1NEMO)</a>
 
<p> 
<h2><a name='sect6' href='#toc6'>Author</a></h2>
Peter Teuben 
<p> 
<h2><a name='sect7' href='#toc7'>Files</a></h2>
<br>
<pre>~/src/orbit/misc   <tt> </tt>&nbsp;<tt> </tt>&nbsp;stoo.c
</pre>
<p> 
<h2><a name='sect8' href='#toc8'>Update History</a></h2>
<br>
<pre>27-jul-87<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.0 created<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
8-jun-88<tt> </tt>&nbsp;<tt> </tt>&nbsp;V2.1 new filestruct<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
23-jun-91<tt> </tt>&nbsp;<tt> </tt>&nbsp;V2.4 fixed bugs, upgraded doc for NEMO2 <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
24-jul-2013<tt> </tt>&nbsp;<tt> </tt>&nbsp;V3.0 added support for multiple orbits and use Key<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
11-nov-2015<tt> </tt>&nbsp;<tt> </tt>&nbsp;V3.1 efficient version without rewinding file<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
6-feb-2022<tt> </tt>&nbsp;<tt> </tt>&nbsp;V3.3 process all particles by default, init I1<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Parameters</a></li>
<li><a name='toc4' href='#sect4'>Examples</a></li>
<li><a name='toc5' href='#sect5'>See Also</a></li>
<li><a name='toc6' href='#sect6'>Author</a></li>
<li><a name='toc7' href='#sect7'>Files</a></li>
<li><a name='toc8' href='#sect8'>Update History</a></li>
</ul>
</body>
</html>
