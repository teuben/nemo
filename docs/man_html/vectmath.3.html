<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>VECTMATH(3NEMO) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
vectmath.h - vector and matrix math package 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
  <br>
<pre>#include &lt;vectmath.h&gt;
CLRV(v)                 v  = 0
                         i

UNITV(v,j)              v  = delta
                         i        ij

SETV(v,u)               v  = u
                         i    i

ADDV(v,u,w)             v  = u  + w
                         i    i    i

SUBV(v,u,w)             v  = u  - w
                         i    i    i

MULVS(v,u,s)            v  = u  s
                         i    i

DIVVS(v,u,s)            v  = u  / s
                         i    i

DOTVP(s,v,u)            s = v  u
                             i  i

dotvp(v,u)              v  u
                         i  i

ABSV(s,v)               s = sqrt(v  v )
                                  i  i

absv(v)                 sqrt(v  v )
                              i  i

DISTV(s,v,u)            s = sqrt((v  - u ) (v  - u ))
                                   i    i    i    i

distv(v,u)              sqrt((v  - u ) (v  - u ))
                               i    i    i    i

CROSSVP(s,v,u)          s = eps  v  u                   [only in 2-D]
                               ij i  j

CROSSVP(v,u,w)          v  = eps   u  w                 [only in 3-D]
                         i      ijk j  k

CLRM(p)                 p   = 0
                         ij

SETMI(p)                p   = delta
                         ij        ij

SETM(p,q)               p   = q
                         ij    ij

TRANM(p,q)              p   = q
                         ij    ji

ADDM(p,q,r)             p   = q   + r
                         ij    ij    ij

SUBM(p,q,r)             p   = q   - r
                         ij    ij    ij

MULM(p,q,r)             p   = q   r
                         ij    ik  kj

MULMS(p,q,s)            p   = q   s
                         ij    ij

DIVMS(p,q,s)            p   = q   / s
                         ij    ij

MULMV(v,p,u)            v  = p   u
                         i    ij  j

OUTVP(p,v,u)            p   = v  u
                         ij    i  j

TRACEM(s,p)             s = Tr(p)

tracem(p)               Tr(p)

SETVS(v,s)              v  = s
                         i

ADDVS(v,u,s)            v  = u  + s
                         i    i

SETMS(p,s)              p   = s
                         ij

MULVV(w,v,u)            w  = v  * u
                         i    i    i

SADDV(v,u)              v  = v  + u
                         i    i    i

SSUBV(v,u)              v  = v  - u
                         i    i    i

SMULVS(v,s)             v  = v * s
                         i    i    

SDIVVS(v,s)             v  = v / s
                         i    i   

SMULVV(v,u)             v  = v  * u
                         i    i    i

real s;
vector v, u, w;
matrix p, q, r;
</pre>
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<i>vectmath.h</i> provides various arithmetic operations on vectors
and matricies, represented as arrays of numbers. These operations allow
programmers to concentrate on the mathematical content of an algorithm
while abstracting away the details of how vectors and matricies are represented
and accessed. <p>
To specify how many dimensions vectors have, define ONE of
the following symbols to the C preprocessor: <br>
<pre>        TWODIM                    - for 2-D vectors
        THREEDIM                  - for 3-D vectors
        NDIM                      - for N-D vectors
</pre>The symbols <b>TWODIM</b> and <b>THREEDIM</b> are flags, and may be defined with any
value whatsoever. <b>NDIM</b> is used as a value, namely (of course) the number
of dimensions. If either <b>TWODIM</b> or <b>THREEDIM</b> are defined, <i>vectmath.h</i> will
define <b>NDIM</b> to be 2 or 3 respectively, incase <b>NDIM</b> is subsequently needed.
If none of these symbols is defined when <i>vectmath.h</i> is included, the default
is <b>THREEDIM</b>. Note that <i>CROSSVP</i> is defined only for <b>TWODIM</b> and <b>THREEDIM</b>. <p>
Unless
the symbol <b>NOTYPEDEF</b> is defined when <i>vectmath.h</i> is included, <b>vector</b> and
<b>matrix</b> will be defined as <b>NDIM</b> and <b>NDIM</b> by <b>NDIM</b> arrays of <b>real</b> numbers,
respectively (see <a href='stdinc.3NEMO.html'><i>stdinc</i>(3NEMO)</a>
 for a description of <b>real</b>). These may be
used to declare vector and matrix objects to be manipulated. <p>
The exact definitions
of these operations correspond to the index language expressions given
above.  Some of these definitions imply restrictions on placing the same
object on both sides of the assignment operation.  For example,  <br>
<pre>        ADDV(v, v, u);
</pre>does exactly the right thing, but <br>
<pre>        CROSSVP(v, v, u);
</pre>puts garbage into <b>v</b>, instead of the cross-product of <b>v</b> and <b>u</b>. <p>
Most of these
operations are implemented as macros which expand in line. A subtle point
connected with this is that syntactically, a reference to of one of these
macros is a statement, not an expression.  This means that, for example,
the code fragment <br>
<pre>        if (foobar)
            ADDV(x, y, z);
        else
            SUBV(x, y, z);
</pre>will not compile, because the terminating semi-colon following the ADDV
is seen as a seperate (null) statement.  The best way to solve this problem
is to code the above example as follows: <br>
<pre>        if (foobar) {
            ADDV(x, y, z);
        } else {
            SUBV(x, y, z);
        }
</pre>The enclosing curly-brackets insure that the code is syntactically correct
both before and after macro expansion. <p>
Those operators which return a scalar
value instead of storing it (currently, <i>dotvp, absv, distv, and tracem</i>)
are implemented by functions which are called from macro expansions.  These
functions need to know if their arguments are floating or double arrays;
<i>vectmath.h</i> uses the preprocessor symbol <b>SINGLEPREC</b> to determine the precision
in use.  Mixed-precision expressions yield incorrect results; for example,
<br>
<pre><tt> </tt>&nbsp;<tt> </tt>&nbsp;float x[NDIM];
<tt> </tt>&nbsp;<tt> </tt>&nbsp;double y[NDIM];
<tt> </tt>&nbsp;<tt> </tt>&nbsp;... dotvp(x,y);

will fail.  Consistent use of the abstractions real, vector,
and matrix is suggested.

Some impure, but useful, vector and matrix operations are also defined.

For example, ADDVS sets each element of a vector to a scalar,
and MULVV multiplies two vectors with each other, element by
element.

BugsYou cannot (easily)  mix vectors and matrices of different dimensionality
within the same source code. History
30-nov-86<tt> </tt>&nbsp;<tt> </tt>&nbsp;(man) Created                                 <tt> </tt>&nbsp;<tt> </tt>&nbsp;JEB
22-oct-90<tt> </tt>&nbsp;<tt> </tt>&nbsp;Merged in some starlab macros           <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
27-apr-92<tt> </tt>&nbsp;<tt> </tt>&nbsp;Added SMULVV and documented starlab macros<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Bugs</a></li>
<li><a name='toc4' href='#sect4'>History</a></li>
</ul>
</body>
</html>
