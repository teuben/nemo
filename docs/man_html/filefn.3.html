<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>FILEFN(3NEMO) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
root, extension, head, tail, defext, pathopen, pathfind, _mappath,
- file operations 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<br>
<pre>#include &lt;stdinc.h&gt;#include &lt;filefn.h&gt;string root(filename)string extension(filename)string
head(filename)string tail(filename)string fullname(filename)
string defext(filename,ext)stream
pathopen(path, filename, mode)string pathfind(path, filename)string _mappath(fn,
path, filename, arg)
string filename, ext, mode, path;
DescriptionThe first
four functions  root(), extension(), head(), and tail(), returns a component
of a file name and are equivalent to the C shell substitution characters
:r, :e, :h, and :t, respectively.  fullname() returns the full name of a
file, making it easier to find the file again if the user used chdir(2)
during the program. 
defext() adds an extension to a file name if none already
exists.  Alternatively, if the extension field ext begins with a *, any
old extension in filename is replaced with the given extension.        
      
     defext(filename, ".xxx")   --  add .xxx if no ext       
     defext(filename, "*.xxx")  --  force .xxx as ext        
</pre>Note:  defext returns a pointer to dynamically-allocated     string storage
which is never freed.  This is necessary      to ensure safety on multiple
calls in a single statement.    <p>
<i>pathopen()</i> is used to open files using a
      search path similar to that used, for example, by csh        in searching
for a command.  The pathopen routine has        the same structure as <a href='fopen.3.html'><i>fopen(3)</i></a>

and the <b>filename</b> and <b>mode</b> arguments are the same as in that      call. 
The path argument consists of a list of directories   which are prepended
to the filename, unless the filename     begins with either a / or a ~.
 The directories in the       list are separated by colons as in the definition
of the     PATH environment variable.  White space and empty fields    
are ignored to simplify formatting of paths in a definition  file.     
                                                  <p>
After each directory
name has been added, the            <i>pathopen</i> performs ~ (tilde) expansion
in the same form as   csh.  The path argument may be NULL, in which case
no directories are prepended.  This is useful if ~ expansion    is the only
required function.                               <p>
<i>pathopen()</i> returns an open
stream to          the indicated file, or NULL, if no existing file is
found.                                                       <p>
<i>pathfind()</i>
is similar to <i>pathopen</i>, except      that it does not try to open the file
but instead returns    the full name of the first file that exists along
the path,  or NULL if none exist.                                      
<p>
<i>_mappath()</i> maps the string function <b>fn</b> over each path/filename      combination,
stopping when <b>fn(name, arg)</b> returns non-null.   That value is returned.  If
the function always returns a NULL value for each element in the path,
NULL is returned    from _mappath.                                     
         
<h2><a name='sect3' href='#toc3'>Author</a></h2>
Eric Roberts 
<h2><a name='sect4' href='#toc4'>Files</a></h2>
<br>
<pre>~/src/kernel/cores<tt> </tt>&nbsp;<tt> </tt>&nbsp;filefn.c
</pre>
<h2><a name='sect5' href='#toc5'>Update History</a></h2>
<br>
<pre>11-jan-86<tt> </tt>&nbsp;<tt> </tt>&nbsp;Last modified   <tt> </tt>&nbsp;<tt> </tt>&nbsp;Roberts
6-dec-86<tt> </tt>&nbsp;<tt> </tt>&nbsp;Fixed some bugs and updated for Nemo<tt> </tt>&nbsp;<tt> </tt>&nbsp;Josh
6-oct-90<tt> </tt>&nbsp;<tt> </tt>&nbsp;Manual page written<tt> </tt>&nbsp;<tt> </tt>&nbsp;Peter
17-mar-06<tt> </tt>&nbsp;<tt> </tt>&nbsp;added fullname<tt> </tt>&nbsp;<tt> </tt>&nbsp;Peter
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Author</a></li>
<li><a name='toc4' href='#sect4'>Files</a></li>
<li><a name='toc5' href='#sect5'>Update History</a></li>
</ul>
</body>
</html>
