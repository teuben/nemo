<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>WAISSERVER(1) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
waisserver - serves WAIS requests 
<p> 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>waisserver</b> [ -p [ port_number
] ] [ -s ] [ -d directory ] [&nbsp;-e [ pathname ] ]  [&nbsp;-l log_level ] [-u user ] [
-v ] 
<dl>

<dt><b>waisserver.d</b> </dt>
<dd>[ same arguments ] 
<p> </dd>
</dl>

<h2><a name='sect2' href='#toc2'>Description</a></h2>
<p>
Part of the Wide Area Information
Server system. <p>
waisserver will take WAIS requests from a TCP port or standard-io
and return the appropriate response.  If the name of the command is waisserver.d,
then it is assumed it is running from inetd, and it uses stdio for its
I/O sockets.  See the examples below for inetd.conf. 
<p> In addition, waisserver
can act like an anonymous FTP server.  When the server is given a document
of type "FTP" as a relevant document, it will build a result list from
the directory of the file.  Subdirectories may be listed using by adding
them to the relevant document list. 
<p> Note that a minimal level of security
is present in two forms: 
<p> 1.  The server will never present directories
above the default server directory (-d option, described below). 
<p> 2.  The
server will only build a directory listing from a file of type FTP, and
that file must be in the specified database. 
<p> 
<h2><a name='sect3' href='#toc3'>Options</a></h2>

<dl>

<dt><b>-p<i> [ port ]  </i></b></dt>
<dd>Listen
to the port.  If the port is supplied, then that port number is used.  If
it is not supplied then the Z39.50 port (210) is used. </dd>

<dt><b>-s </b></dt>
<dd>listen to standard
I/O for queries. </dd>

<dt><b>-d<i> directory </i></b></dt>
<dd>Use this directory as the default location
of the indexes.  Therefore if the directory were /usr/local, then the database
foo would be found in /usr/local/foo (see waisindex for how to create an
index) </dd>

<dt><b>-e<i> [ filename ] </i></b></dt>
<dd>Redirect error output to pathname, if supplied, or
to /dev/null. Error output defaults to stderr, unless -s is selected, in
which case it defaults to /dev/null. </dd>

<dt><b>-l<i> log_level  </i></b></dt>
<dd>set logging level.  Currently
only levels 0, 1, 5 and 10 are meaningful: Level 0 means log nothing (silent).
 Level 1 logs only errors and warnings (messages of HIGH priority), level
5 logs messages of MEDIUM priority (like client init info).  Level 10 logs
everything. </dd>

<dt><b>-u<i> user </i></b></dt>
<dd>Set the server&rsquo;s user id to the user specified after attaching
the tcp-port.  This is only used if the server is started as root. </dd>

<dt><b>-v </b></dt>
<dd>Print
the current version and date of the server. </dd>
</dl>

<h2><a name='sect4' href='#toc4'>Examples</a></h2>
The following are examples
of <i>waisserver</i> usage: 
<dl>

<dt>waisserver&nbsp;-p&nbsp;8000&nbsp;-d&nbsp;wais-sources&nbsp;-e&nbsp;server.log </dt>
<dd>Runs waisserver
as a standalone server, using tcp port 8000 on directory wais-sources writing
messages to server.log </dd>
</dl>
<p>
Some example inetd.conf entries (note, these must
be on one line in inted.conf): <p>
hpux 7.0/800, Interactive/386 2.2.1: 
<dl>

<dt>z3950&nbsp;stream&nbsp;tcp&nbsp;nowait&nbsp;root&nbsp;/etc/waisserver&nbsp;waisserver.d
</dt>
<dd>-d&nbsp;/wais-sources&nbsp;-e&nbsp;/server.log </dd>
</dl>
<p>
Ultrix 4.1: 
<dl>

<dt>z3950&nbsp;stream&nbsp;tcp&nbsp;nowait&nbsp;/etc/waisserver&nbsp;waisserver.d
</dt>
<dd>-d&nbsp;/wais-sources&nbsp;-e&nbsp;/server.log </dd>
</dl>
<p>
Also, add the next line to /etc/services, and
tickle your YP server: <p>
z3950&nbsp;210/tcp&nbsp;#&nbsp;wide&nbsp;area&nbsp;information&nbsp;server&nbsp;(wais) 
<h2><a name='sect5' href='#toc5'>See
Also</a></h2>
<p>
<a href='waissearch.1.html'>waissearch(1)</a>
, <a href='waisindex.1.html'>waisindex(1)</a>
, <a href='waissearch-gmacs.1.html'>waissearch-gmacs(1)</a>
, <a href='xwais.1.html'>xwais(1)</a>
, <a href='xwaisq.1.html'>xwaisq(1)</a>
,
<a href='inetd.8C.html'>inetd(8C)</a>
, <a href='inetd.conf.5.html'>inetd.conf(5)</a>
 <p>
Wide Area Information Servers Concepts by Brewster
Kahle. <br>
Brewster@think.com 
<h2><a name='sect6' href='#toc6'>Diagnostics</a></h2>
<p>
The diagnostics produced by the waisserver
are meant to be self-explanatory. 
<h2><a name='sect7' href='#toc7'>Bugs</a></h2>
Malformed protocol packets can cause
the server to dump core (segmentation violation).  These are logged in the
server&rsquo;s log file. 
<p> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Options</a></li>
<li><a name='toc4' href='#sect4'>Examples</a></li>
<li><a name='toc5' href='#sect5'>See Also</a></li>
<li><a name='toc6' href='#sect6'>Diagnostics</a></li>
<li><a name='toc7' href='#sect7'>Bugs</a></li>
</ul>
</body>
</html>
