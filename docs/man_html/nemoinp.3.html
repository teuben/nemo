<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>NEMOINP(3NEMO) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
nemoinp, natof, natoi - decode and parse string into reals, integers,
logicals 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<br>
<pre>int nemoinpd (expr,doutv,nout)
int nemoinpf (expr,foutv,nout)
int nemoinpr (expr,routv,nout)
int nemoinpi (expr,ioutv,nout)
int nemoinpl (expr,loutv,nout)
int nemoinpb (expr,boutv,nout)
int nemoinpx (expr,doutv,nout)
double natof(expr)
int  natoi(expr)
char *expr;
double doutv[];
float  foutv[];
real   routv[];
int    ioutv[];
long   loutv[];
bool   boutv[];
int    nout;
</pre>
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<i>nemoinp*(3NEMO)</i> parses the input character string <b>Xexpr</b> into
 a list of basic C-data structure items, pointed to by <b>Xoutv</b>. The input string
must be comma, space or colon separated (TABs are considered dangerous).
A colon is used as  an implied do-loop, where the first number is the starting
value, the second the ending value, and an optional increment (which defaults
to 1). Hence the format is <b>s:e[:i]</b>. A repeat facility is also  built in by
using the double colon, and has the format <b>v::n</b>, the  number <b>v</b> is repeated
<b>n</b> times.  <b>nout</b> is the declared length of <b>Xoutv</b>. In case of success <i>nemoinpX</i>
returns the actual  number of items returned in <b>Xoutv</b>, otherwise it returns
a negative error code (see <a href='herinp.3NEMO.html'>herinp(3NEMO)</a>
.  A 0 return code means nothing
was present in the <b>expr</b> string, in which case preset defaults must be assumed.
<p>
For convenience, NEMO parsing  versions of the standard C library <a href='atof.3.html'><i>atof(3)</i></a>

and <a href='atoi.3.html'><i>atoi(3)</i></a>
 are provided as natof() and natoi(), but they do not provide
any error checking (most importantly if the string contains non-number parts,
except for the string "NaN" or "nan" in <i>natof()</i> where it will return the
appropriate IEEE <b>nan</b> value). <p>
An expression can have basic mathematical functions,
such as addition, most transcendental functions and  even some mathematical
and physical constants. See also <a href='herinp.3NEMO.html'><i>herinp(3NEMO)</i></a>
. <p>
The only exception to <a href='herinp.3NEMO.html'><i>herinp(3NEMO)</i></a>

parsing is <i>nemoinpx</i>,  which parses a string in <b>d:m:s.s</b> format, returning
the number(s) in fractional degrees. For h:m:s conversion, the user is responsible
for the extra factor of 15 between d:m:s and h:m:s. 
<h2><a name='sect3' href='#toc3'>Operators</a></h2>
The following
operators are known: <br>
<pre>+<tt> </tt>&nbsp;<tt> </tt>&nbsp;addition
-<tt> </tt>&nbsp;<tt> </tt>&nbsp;subtraction
*<tt> </tt>&nbsp;<tt> </tt>&nbsp;multiplication
/<tt> </tt>&nbsp;<tt> </tt>&nbsp;division
**<tt> </tt>&nbsp;<tt> </tt>&nbsp;power
</pre>
<h2><a name='sect4' href='#toc4'>Constants</a></h2>
The following constants are implemented (in SI units, where applicable)
<br>
<pre>pi<tt> </tt>&nbsp;<tt> </tt>&nbsp;3.14159....            
c<tt> </tt>&nbsp;<tt> </tt>&nbsp;speed of light (SI)
h<tt> </tt>&nbsp;<tt> </tt>&nbsp;Planck (SI)            
k<tt> </tt>&nbsp;<tt> </tt>&nbsp;Boltzmann (SI)
g<tt> </tt>&nbsp;<tt> </tt>&nbsp;gravitation (SI)       
s<tt> </tt>&nbsp;<tt> </tt>&nbsp;Stefan-Boltzman (SI)
m<tt> </tt>&nbsp;<tt> </tt>&nbsp;mass of sun (SI)       
p<tt> </tt>&nbsp;<tt> </tt>&nbsp;parsec (SI)
undef<tt> </tt>&nbsp;<tt> </tt>&nbsp;errorval
Note: the Hubble constant is not included.
</pre>
<h2><a name='sect5' href='#toc5'>Functions</a></h2>
The following mathematical functions are implemented: <br>
<pre>abs(x)    <tt> </tt>&nbsp;<tt> </tt>&nbsp;absolute value of x   
sqrt(x)    <tt> </tt>&nbsp;<tt> </tt>&nbsp;square root of x
sin(x)    <tt> </tt>&nbsp;<tt> </tt>&nbsp;sine of x             
asin(x)    <tt> </tt>&nbsp;<tt> </tt>&nbsp;inverse sine of x
cos(x)    <tt> </tt>&nbsp;<tt> </tt>&nbsp;cosine of x           
acos(x)    <tt> </tt>&nbsp;<tt> </tt>&nbsp;inverse cosine of x
tan(x)    <tt> </tt>&nbsp;<tt> </tt>&nbsp;tangent of x          
atan(x)    <tt> </tt>&nbsp;<tt> </tt>&nbsp;inverse tan of x
exp(x)   <tt> </tt>&nbsp;<tt> </tt>&nbsp;exponential of x      
sinh(x)    <tt> </tt>&nbsp;<tt> </tt>&nbsp;hyperbolic sine of x
ln(x)     <tt> </tt>&nbsp;<tt> </tt>&nbsp;natural log of x      
cosh(x)    <tt> </tt>&nbsp;<tt> </tt>&nbsp;hyperbolic cosine of x
log(x)    <tt> </tt>&nbsp;<tt> </tt>&nbsp;log (bas 10) of x     
tanh(x)    <tt> </tt>&nbsp;<tt> </tt>&nbsp;hyperbolic tangent of x
rad(x)    <tt> </tt>&nbsp;<tt> </tt>&nbsp;convert x to radians  
deg(x)     <tt> </tt>&nbsp;<tt> </tt>&nbsp;convert x to degrees
erf(x)   <tt> </tt>&nbsp;<tt> </tt>&nbsp;error function of x   
erfc(x)    <tt> </tt>&nbsp;<tt> </tt>&nbsp;1-error function
max(x,y)  <tt> </tt>&nbsp;<tt> </tt>&nbsp;maximum of x and y    
min(x,y)   <tt> </tt>&nbsp;<tt> </tt>&nbsp;minimum of x and y
sinc(x)  <tt> </tt>&nbsp;<tt> </tt>&nbsp;sin(x)/x              
atan2(x,y)<tt> </tt>&nbsp;<tt> </tt>&nbsp;inverse tan (mod 2pi); x = sin, y = cos
sign(x)   <tt> </tt>&nbsp;<tt> </tt>&nbsp;sign of x (-1,0,1)    
mod(x,y)   <tt> </tt>&nbsp;<tt> </tt>&nbsp;gives remainder of x/y
int(x)    <tt> </tt>&nbsp;<tt> </tt>&nbsp;truncates to integer  
nint(x)    <tt> </tt>&nbsp;<tt> </tt>&nbsp;nearest integer
ranu(x,y) <tt> </tt>&nbsp;<tt> </tt>&nbsp;generates uniform noise between x and y
rang(x,y) <tt> </tt>&nbsp;<tt> </tt>&nbsp;generates gaussian noise with mean x and dispersion y
ranp(x)   <tt> </tt>&nbsp;<tt> </tt>&nbsp;generates poisson noise with mean x
ifeq(x,y,a,b)  <tt> </tt>&nbsp;<tt> </tt>&nbsp;returns a if x equal y, else b
ifne(x,y,a,b)  <tt> </tt>&nbsp;<tt> </tt>&nbsp;returns a if x not equal y, else b
ifgt(x,y,a,b)  <tt> </tt>&nbsp;<tt> </tt>&nbsp;returns a if x greater y, else b
ifge(x,y,a,b)  <tt> </tt>&nbsp;<tt> </tt>&nbsp;returns a if x greater or equal y, else b
iflt(x,y,a,b)  <tt> </tt>&nbsp;<tt> </tt>&nbsp;returns a if x less y, else b
ifle(x,y,a,b)  <tt> </tt>&nbsp;<tt> </tt>&nbsp;returns a if x less or equal y, else b
</pre>
<h2><a name='sect6' href='#toc6'>Error Return Code</a></h2>
<br>
<pre>0   <tt> </tt>&nbsp;<tt> </tt>&nbsp;no error
-11   <tt> </tt>&nbsp;<tt> </tt>&nbsp;bad call
-12   <tt> </tt>&nbsp;<tt> </tt>&nbsp;unknown function
-13   <tt> </tt>&nbsp;<tt> </tt>&nbsp;syntax error
-14   <tt> </tt>&nbsp;<tt> </tt>&nbsp;illegal character
-15   <tt> </tt>&nbsp;<tt> </tt>&nbsp;wrong repeat argument (maximum is 32767)
-16   <tt> </tt>&nbsp;<tt> </tt>&nbsp;wrong number of arguments
-17   <tt> </tt>&nbsp;<tt> </tt>&nbsp;arithmetic error
-18   <tt> </tt>&nbsp;<tt> </tt>&nbsp;not enough internal memory
-19   <tt> </tt>&nbsp;<tt> </tt>&nbsp;conversion error
-20   <tt> </tt>&nbsp;<tt> </tt>&nbsp;unequal list length
-21   <tt> </tt>&nbsp;<tt> </tt>&nbsp;empty list
-22   <tt> </tt>&nbsp;<tt> </tt>&nbsp;nested lists
-23   <tt> </tt>&nbsp;<tt> </tt>&nbsp;output buffer overflow
-24   <tt> </tt>&nbsp;<tt> </tt>&nbsp;floating overflow/underflow in conversion
</pre>
<h2><a name='sect7' href='#toc7'>Bugs</a></h2>
The number e-floating number 0 (0.00000E+00) cannot be processed, nemoinp
complains about floating underflow. Begeman is looking into this (dec 88)

<h2><a name='sect8' href='#toc8'>Limitations</a></h2>
Each subexpression can contain at most 32767 items, e.g. "1::40000"
will not parse but "1::20000,1::20000" will correctly parse to 40000 1&rsquo;s.
<p>
Loops, repeats and lists cannot be nested!! 
<h2><a name='sect9' href='#toc9'>Example</a></h2>
<br>
<pre>1 2 3/3  sin(pi)      <tt> </tt>&nbsp;<tt> </tt>&nbsp;yields       <tt> </tt>&nbsp;<tt> </tt>&nbsp;1.0 2.0 1.0 0.0
log(10)::4            <tt> </tt>&nbsp;<tt> </tt>&nbsp;yields       <tt> </tt>&nbsp;<tt> </tt>&nbsp;1.0 1.0 1.0 1.0
log(10):log(100):2/4  <tt> </tt>&nbsp;<tt> </tt>&nbsp;yields       <tt> </tt>&nbsp;<tt> </tt>&nbsp;1.0 1.5 2.0
10**[0 1 2 3]         <tt> </tt>&nbsp;<tt> </tt>&nbsp;yields       <tt> </tt>&nbsp;<tt> </tt>&nbsp;1.0 10.0 100.0 1000.0
</pre>
<h2><a name='sect10' href='#toc10'>See Also</a></h2>
<a href='herinp.3NEMO.html'>herinp(3NEMO)</a>
, <a href='fie.3NEMO.html'>fie(3NEMO)</a>
, <a href='nemofie.3NEMO.html'>nemofie(3NEMO)</a>
, <a href='getrange.3NEMO.html'>getrange(3NEMO)</a>
 
<h2><a name='sect11' href='#toc11'>Author</a></h2>
Peter
Teuben 
<h2><a name='sect12' href='#toc12'>Update History</a></h2>
<br>
<pre>18-May-88<tt> </tt>&nbsp;<tt> </tt>&nbsp;Implemented in NEMO by calling GIPSY&rsquo;s herinp<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
xx-feb-89<tt> </tt>&nbsp;<tt> </tt>&nbsp;nemoinp made archaic - must now call nemoinpX<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
20-jun-89<tt> </tt>&nbsp;<tt> </tt>&nbsp;doc updated<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
4-mar-94<tt> </tt>&nbsp;<tt> </tt>&nbsp;added nemoinpf/r<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
31-may-01<tt> </tt>&nbsp;<tt> </tt>&nbsp;added natof/natoi<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
4-mar-03<tt> </tt>&nbsp;<tt> </tt>&nbsp;1.9 added nemoinpx()<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
28-jan-04<tt> </tt>&nbsp;<tt> </tt>&nbsp;recognize nan&rsquo;s in natof<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Operators</a></li>
<li><a name='toc4' href='#sect4'>Constants</a></li>
<li><a name='toc5' href='#sect5'>Functions</a></li>
<li><a name='toc6' href='#sect6'>Error Return Code</a></li>
<li><a name='toc7' href='#sect7'>Bugs</a></li>
<li><a name='toc8' href='#sect8'>Limitations</a></li>
<li><a name='toc9' href='#sect9'>Example</a></li>
<li><a name='toc10' href='#sect10'>See Also</a></li>
<li><a name='toc11' href='#sect11'>Author</a></li>
<li><a name='toc12' href='#sect12'>Update History</a></li>
</ul>
</body>
</html>
