<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>VMSFIX(1NEMO) manual page</title>
</head>
<body bgcolor='white'>
HTML automatically generated with <A HREF=http://manpages.ubuntu.com/manpages/bionic/man1/rman.1.html>rman</A><br>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
vmsfix - attempt to fix up mangled VMS FITS files 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<p>
<b>vmsfix in=</b>infile
<b>out=</b>outfile [parameter=value] 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<i>vmsfix</i> can fix up funny &lsquo;&lsquo;FITS&rsquo;&rsquo; files,
e.g. the ones written with the VMS copy command and winding up on a Unix
machine.  <p>
For example, the Unix command <a href='dd.1.html'><i>dd(1)</i></a>
 <br>
<pre>   % dd if=/dev/rmt5 of=temp bs=1024 
</pre>can be used to extract the mangled FITS files from tape, which is then
followed by a conversion to true FITS using <i>vmsfix</i>: <br>
<pre>   % vmsfix in=temp out=1.fits
</pre>(Note: <a href='zodiac.1L.html'><i>zodiac(1L)</i></a>
 can process both DECORDER=T and F files - see the <b>swap<b>
keyword below). 
<h2><a name='sect3' href='#toc3'></b></b>Parameters</a></h2>
The following parameters are recognized in any
order if the keyword is also given: 
<dl>

<dt><b>in=<i>infile</i></b> </dt>
<dd>input file, in funny VMS
fits format [no default]. </dd>

<dt><b>out=<i>outfile</i></b> </dt>
<dd>output file, more proper FITS format
without the VMS headers and trailers. [No default]. </dd>

<dt><b>swap=t|f</b> </dt>
<dd>If set to true,
swaps the DECORDERed bytes, corrects fits SIMPLE keyword to T and DECORDER
keyword to F. This is needed for display with programs like <a href='ds.1L.html'><i>ds(1L)</i></a>
 or if
true FITS files are needed. If <i>zodiac</i> processes the <i>outfile</i>, <b>swap=f</b> can
be used though, as long as DECORDER is specified correctly. Note: DECORDER
is not a standard FITS keyword, and its use is not recommended. [Default:
<b>t</b>]. </dd>

<dt><b>offset=<i>pixel-offset</i></b> </dt>
<dd>Extra offset into the FITS data block. The first <i>offset-pixel</i>s
are skipped in order to get the bias strip lined up on the left part of
the image. At this stage it is not understood why this is needed, merely
introduced as a kludge. It may also results into a few bad pixels near the
end of the image file, the last row(s). Perhaps the default is NAXIS1/2+1?
[Default: <b>521</b>] </dd>
</dl>

<h2><a name='sect4' href='#toc4'>BUGS and other FILE FORMAT NOTES</a></h2>
Can only handle two-dimensional
(NAXIS=2) and BITPIX=16 image FITS files. <p>
The input file is not truely 28800
blocked in the FITS sense. The header appears in the first 28800 bytes,
together with the first part of the data. The data in the second and subsequent
blocks is indeed in chunks of 28800 bytes, preceded by a 1024 byte VMS
header  (denoting the 28800 size of the block to come), and (since apparently
written in VMS 30 blocks of 1024 blocks) trailed by a small 896 byte block
garbage to be skipped too. <p>
The very first block of 1024 characters starting
with (0xFF,0xFF) is optional, followed by a 1024 VMS block size designator.
The program detect such not understood anomalies, and reports how many
bytes needed to be skipped to get at the FITS header. 
<h2><a name='sect5' href='#toc5'>See Also</a></h2>
<a href='scanfits.1.html'>scanfits(1NEMO)</a>
,
<a href='fits.5.html'>fits(5NEMO)</a>
 
<h2><a name='sect6' href='#toc6'>Author</a></h2>
Peter Teuben 
<h2><a name='sect7' href='#toc7'>Files</a></h2>
<br>
<pre>~/usr/pjt/clib<tt> </tt>&nbsp;<tt> </tt>&nbsp;vmsfix.c
</pre>
<h2><a name='sect8' href='#toc8'>Update History</a></h2>
<br>
<pre>9-jun-91<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.0: kludged created for Zodiac         <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
11-jun-91<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.2: finally got the real story, apart from offset=<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Parameters</a></li>
<li><a name='toc4' href='#sect4'>BUGS and other FILE FORMAT NOTES</a></li>
<li><a name='toc5' href='#sect5'>See Also</a></li>
<li><a name='toc6' href='#sect6'>Author</a></li>
<li><a name='toc7' href='#sect7'>Files</a></li>
<li><a name='toc8' href='#sect8'>Update History</a></li>
</ul>
</body>
</html>
