<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>PRUN(1NEMO) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
prun - cosmological particle-mesh (AP3M) integration code 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>prun</b>
 <b>dir=</b><i>run_directory</i> [parameter=value] 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<b>prun</b> is a cosmological
particle code, with the aim to follow the evolution of a large number of
 interacting particles under Newtonian gravity. A unique  aspect of this
version is the adaptive nature of the  P3M method. A max number of refinements
of the mesh calculations can be set, to be able to follow the evolution
at small scales when large degrees of clustering occur. <p>
The equations of
motion governing the evolution of the particle distribution in an expanding
cosmological model are solved in comoving coordinates. A time-centered leapfrog
integration is used. <p>
The current NEMO implementation of prun is a wrapper
program, with the usual nemo user interface. It creates a parameter file
and calls the fortran executable. In this way it also hides some of the
complexities of the fortran user interface. 
<h2><a name='sect3' href='#toc3'>Parameters</a></h2>
The following parameters
are recognized in any order if the keyword is also given: 
<dl>

<dt><b>dir=</b> </dt>
<dd>working
run directory. Must already exist yet (see <a href='pstart.1.html'><i>pstart(1NEMO)</i></a>
) Inside the working
directory a ASCII parameter file, <i>prun.dat</i> will be created, which contains
the input parameters for the program. This run directory will also contain
logfiles, and subdirectories where the data and Green&rsquo;s functions are stored
(but see below to override). No default. </dd>

<dt><b>irun=</b> </dt>
<dd>run label. This is a non-negative
integer, not to exceed 9999, which is used as a ID label. Data and log filenames
 are automatically derived from this label id.  [<b>9999</b>] </dd>

<dt><b>ipstop=</b> </dt>
<dd>final step.
Normally you want this to be a multiple of <b>ipout=</b> (see  below).  [<b>75</b>] </dd>

<dt><b>ipout=</b>
</dt>
<dd>steps between data output. The first step is not output (since it already
exists), but each multiple of <b>ipout</b> (called <i>iout</i>) is output. One file is
created per data output. The filename is  <i>$datadir/rv$irun(%04d).$iout(%04d)</i>
[<b>25</b>] </dd>

<dt><b>ipdump=</b> </dt>
<dd>steps between restart dump output. The filename is <i>$datadir/rvdump.dat1</i>.
[<b>4</b>] </dd>

<dt><b>dpnp1=</b> </dt>
<dd>delta-p, the time step. The starting time of these cosmological
simulations is always defined to be 1.0. [<b>0.84</b>]. </dd>

<dt><b>alpha=</b> </dt>
<dd>Accuracy parameter,
see also eq. (11.2)  in Couchman (1994). [<b>1.5</b>].     </dd>

<dt><b>sftinit=</b> </dt>
<dd>initial softening.
[<b>0.6</b>]. </dd>

<dt><b>sftmin=</b> </dt>
<dd>minimum softening allowed. Setting <i>sftinit = sftmin &gt;= 3.5</i> makes
the code run in PM mode, which speeds up the code by several (13) factors.
[<b>0.03</b>]. </dd>

<dt><b>perr=</b> </dt>
<dd>maximum pairwise force error (%).  This also influences the
efficiency of P3M and AP3M. Small errors require large mesh-force softenings
and hence large chaining cells. This value must be in the range of 3 to
10%. [<b>6.0</b>]. </dd>

<dt><b>nlmx=</b> </dt>
<dd>maximum refinement level. By setting this to 0 no mesh refinements
are done, and you can use this to estimate the time saving of the A3PM
algorithm. (In the standard case this  saves about 40% for the final steps)
[<b>4</b>]. </dd>

<dt><b>exe=</b> </dt>
<dd>Name of the fortran derived pstartP executable file, which can
reside  anywhere as long as the host OS can resolve it&rsquo;s location (e.g. under
UNIX anywhere in the <i>$path</i> command search path) [<b>pstart.exe</b>]. </dd>

<dt><b>greendir=</b> </dt>
<dd>Directory
to store Green&rsquo;s functions. Can require up to 5Mb. By default it is placed
inside the working run directory (see <b>dir=</b>) [<b>greenfn/</b>]. </dd>

<dt><b>datadir=</b> </dt>
<dd>Directory
to store data file storage. Requires about <b>6 Nobj</b> words (normally 4 bytes/word)
times the number of snapshots (<b>ipout/ipstop + 1</b>) By default it is placed
inside the working run directory (see <b>dir=</b>) [<b>data/</b>]. </dd>

<dt><b>startfile=</b> </dt>
<dd>initial
data file. By default it is derived from the one presumably created by <a href='pstart.1.html'><i>pstart(1NEMO)</i></a>
,
<i>$datadir/rv$irun(%04d).0000</i>. File must be in <a href='rvc.5.html'><i>rvc(5NEMO)</i></a>
 format. </dd>
</dl>

<h2><a name='sect4' href='#toc4'>Examples</a></h2>
The
following experiment sets up initial condition using <a href='pstart.1.html'><i>pstart(1NEMO)</i></a>
, integrates
them using <a href='prun.1.html'><i>prun(1NEMO)</i></a>
, converts data to NEMO&rsquo;s <a href='snapshot.5.html'><i>snapshot(5NEMO)</i></a>
 format and
plots the projected particle positions in a 2 by 2 panel using <a href='snapplot.1.html'><i>snapplot(1NEMO)</i></a>
:
<p>
<br>
<pre>        % pstart dir=run123 istart=123
        % prun dir=run123 irun=123
        % cat run123/data/rv* | rvcsnap - run123.snap
        % snapplot run123.snap xrange=1:33 yrange=1:33 nxy=2,2
</pre><p>
Note on the third line that  we can use a wildcard in the conversion pipe,
because the the lexicographically order is also in time order. 
<h2><a name='sect5' href='#toc5'>Timing</a></h2>
On
a Sparc 10-30 with the default parametrs <br>
<pre>    pstart   64"
    prun   5938"
</pre>
<h2><a name='sect6' href='#toc6'>See Also</a></h2>
<a href='pstart.1.html'>pstart(1NEMO)</a>
, <a href='snapcomove.1.html'>snapcomove(1NEMO)</a>
, <a href='rvcsnap.1.html'>rvcsnap(1NEMO)</a>
, <a href='rvc.5.html'>rvc(5NEMO)</a>
 <p>
&lsquo;&lsquo;<i>Cosmological
Simulations Using Particle-Mesh Methods</i>&rsquo;&rsquo;, H. Couchman, Ch. 11 in: XXX ed. Benz
et al. 1994. <p>
&lsquo;&lsquo;<i>XXX</i>&rsquo;&rsquo;, H. Couchman, (1991) ApJLett 368, L23-26. 
<h2><a name='sect7' href='#toc7'>Files</a></h2>
~/usr/couchman/adap

<h2><a name='sect8' href='#toc8'>Author</a></h2>
Hugh Couchman (fortran), Peter Teuben (C) 
<h2><a name='sect9' href='#toc9'>Update History</a></h2>
<br>
<pre>xx-xxx-xx<tt> </tt>&nbsp;<tt> </tt>&nbsp;Fortran version prun       <tt> </tt>&nbsp;<tt> </tt>&nbsp;HMPC
7-may-94<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.0 NEMO wrapper written        <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
16-may-95<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.1 new version from Couchman   <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Parameters</a></li>
<li><a name='toc4' href='#sect4'>Examples</a></li>
<li><a name='toc5' href='#sect5'>Timing</a></li>
<li><a name='toc6' href='#sect6'>See Also</a></li>
<li><a name='toc7' href='#sect7'>Files</a></li>
<li><a name='toc8' href='#sect8'>Author</a></li>
<li><a name='toc9' href='#sect9'>Update History</a></li>
</ul>
</body>
</html>
