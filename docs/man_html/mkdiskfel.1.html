<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>MKDISKFEL(1NEMO) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
mkdiskfel - set up a test disk in a spherical potential filling f(E,Lz)

<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>mkdiskfel out=</b>snapshot [parameters=values ...] 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<i>mkdiskfel</i>
sets up a disk of test particles launched from a specific axis (<b>x</b> or <b>y</b>)
in the gravitational potential of a user-supplied potential (in <a href='potential.5.html'><i>potential(5NEMO)</i></a>

format), in order to get a reasonable sample of all possible orbits in
the allowed phase space of bound orbits. The initial condition will thus
look very boring, and after an integration with programs such as  <a href='potcode.1.html'><i>potcode(1NEMO)</i></a>

and further analysis things will make more sense. <p>
For testing there is an
option to only populate particles on a "maxlz" orbit. For symmetric potentials
these are the closed loop orbits, for core-harmonic but non-axisymmetric
these approach the loop orbits outside the core, but of course cannot follow
the bifurcation within the core.  Need a cute figure to show this. 
<h2><a name='sect3' href='#toc3'>Parameters</a></h2>
The
following parameters are recognized in any order if the keyword is also
given: 
<dl>

<dt><b>out=<i>out_file</i></b> </dt>
<dd>The data are written to this file in <a href='snapshot.5.html'><i>snapshot(5NEMO)</i></a>

 format . Currently the potential and total energy are stored in the Potential
and Aux slots of the snapshot. [no default]. </dd>

<dt><b>nbody=<i>num_bodies</i></b> </dt>
<dd>Number of bodies
particles [default: <b>2048</b>] </dd>

<dt><b>potname=<i>potential_name</i></b> </dt>
<dd>name of the <a href='potential.5.html'><i>potential(5NEMO)</i></a>
.
[no default]. </dd>

<dt><b>potpars=<i>pot_pars</i></b> </dt>
<dd>Paramaters to the user supplied potential.
The number of parameters depends on the potential supplied, the first parameter
is reserved for the pattern speed. [default: not supplied, parameters as
defined by <a href='potential.5.html'>potential(5)</a>
]. </dd>

<dt><b>potfile=<i>pot_data</i></b> </dt>
<dd>Optional data file(s) to the
user supplied potential.  The number of files depends on the potential supplied.
[default: not supplied, or datafile(s) defined by <a href='potential.5.html'>potential(5)</a>
]. </dd>

<dt><b>rmin=<i>min_disk_radius</i></b>
</dt>
<dd>Inner cutoff radius of test-particle disk. [Default: <b>0</b>]. </dd>

<dt><b>rmax=<i>max_disk_radius</i></b>
</dt>
<dd>Outer cutoff radius of test-particle disk. [Default: <b>2</b>]. </dd>

<dt><b>emin=<i>min_energy</i></b> </dt>
<dd>Minimum
energy of orbits. If a value is given, this currently triggers emax=emin
and all orbits will be sampled at this energy.  </dd>

<dt><b>emax=<i>max_energy</i></b> </dt>
<dd>Maximum
energy of orbits. </dd>

<dt><b>mass=<i>tot_mass</i></b> </dt>
<dd>Total mass of the disk. The default total
mass is 0, since this is a testdisk. Since there are a few programs that
will not like mass-less particles, this keyword can be used, or <i>snapmass</i>
will have to be used before further action is taken. [default: <b>0</b>]. </dd>

<dt><b>seed=</b><i>random_seed</i>
</dt>
<dd>Use random number seed. If 0 is given, a random number is generated from
the time of the day. [default: <b>0</b>]. </dd>

<dt><b>sign=-1|1</b> </dt>
<dd>Sign of the angular momentum. 1
means counter clockwise rotation in the XY-plane (in case you were wondering,
 our galaxy has sign=-1). [Default: <b>1</b>]. </dd>

<dt><b>launch=x|y</b> </dt>
<dd>Launch axis. Since all orbits
are in the X-Y plane, the options here are <b>x</b> or <b>y</b>. </dd>

<dt><b>maxlz=t|f</b> </dt>
<dd>Try and find
only the maxlz orbits per energy/radius.  </dd>

<dt><b>headline=<i>message</i></b> </dt>
<dd>Text headline
for output file [default: not used]. </dd>
</dl>

<h2><a name='sect4' href='#toc4'>Examples</a></h2>
Plotting the initial conditions
in a few phase-plot types for both a "maxlz" orbits alone, and the more
fully samples phase space is done as follows. The first three are the "maxlz"
(circular) orbits: <br>
<pre>  mkdiskfel - 2048 rmin=0.1 rmax=2  maxlz=t | snapplot - xvar=y yvar=-vx xrange=0:2
yrange=0:1.6 yapp=1/xs
  mkdiskfel - 2048 rmin=0.1 rmax=2  maxlz=t | snapplot - xvar=etot yvar=jtot
xrange=-1:-0.2 yrange=0:1.6 yapp=2/xs
  mkdiskfel - 2048 rmin=0.1 rmax=2  maxlz=t | snapplot - xvar=y  yvar=etot
xrange=0:2 yrange=-1:-0.2 yapp=3/xs  
  mkdiskfel - 2048 rmin=0.1 rmax=2          | snapplot - xvar=y yvar=-vx xrange=0:2
yrange=0:1.6 yapp=11/xs
  mkdiskfel - 2048 rmin=0.1 rmax=2          | snapplot - xvar=etot yvar=jtot
xrange=-1:-0.2 yrange=0:1.6 yapp=12/xs
  mkdiskfel - 2048 rmin=0.1 rmax=2          | snapplot - xvar=y  yvar=etot
xrange=0:2 yrange=-1:-0.2 yapp=13/xs  
</pre>where in the last plot (13) you can clearly see the uniform sampling in
E-r space. <p>
In the example below we explore non-axisymmetric potentials, non-rotating.

<h2><a name='sect5' href='#toc5'>See Also</a></h2>
<a href='mkdisk.1.html'>mkdisk(1NEMO)</a>
, <a href='mktestdisk.1.html'>mktestdisk(1NEMO)</a>
, <a href='orbint.1.html'>orbint(1NEMO)</a>
, <a href='potcode.1.html'>potcode(1NEMO)</a>


<h2><a name='sect6' href='#toc6'>Update History</a></h2>
<br>
<pre>31-dec-2019<tt> </tt>&nbsp;<tt> </tt>&nbsp;V0.1  drafted during the Top-2000<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
1-jan-2020<tt> </tt>&nbsp;<tt> </tt>&nbsp;V0.4  finished sampling in E-r space<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
2-jan-2020<tt> </tt>&nbsp;<tt> </tt>&nbsp;V0.5  added emin= option to sample orbits at one energy<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Parameters</a></li>
<li><a name='toc4' href='#sect4'>Examples</a></li>
<li><a name='toc5' href='#sect5'>See Also</a></li>
<li><a name='toc6' href='#sect6'>Update History</a></li>
</ul>
</body>
</html>
