<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>RADPROF(1NEMO) manual page</title>
</head>
<body bgcolor='white'>
HTML automatically generated with <A HREF=http://manpages.ubuntu.com/manpages/bionic/man1/rman.1.html>rman</A><br>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
radprof - tabulate or display radial profiles of an N-body snapshot 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<p>
<b>radprof
in=</b>snapshot [parameter=value] 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<i>radprof</i> computes spherically averaged
density (and some derived quantities) of  an N-body realization.  Although
it can plot, it is often more useful to store the data in a table (<b>tab=t</b>)
and use other programs to plot. One can optionally plot the density, cumulative
mass or rotational velocity as a function of radius.  <p>
Using table output
(<b>tab=t</b>) the intrinsic cumulative mass profile is transformed to a spatial
and surface density, using 3D-angle averaging (hence assuming a spherical
system, <a href='snapscale.1.html'><i>snapscale(1NEMO)</i></a>
 has to be used  first if the averaging is to be
done on triaxial shells).  The density at radius of radius-sorted star <i>i</i>
(i=0..NBODY-1) is given by: <br>
<pre>                sum_{i-k}^{i+k} M(j)  -  0.5*(M(i-k)+M(i+k))
    rho(i) = -----------------------------------------------
                    4/3 * PI * ( r(i+k)^3 - r(i-k)^3 )
</pre>
<p> where M(i) is the mass of star <i>i</i>).  This equation is only valid for i=k...NBODY-1-k,
the two edge stars have different densities defined. See source code for
details. For points within &rsquo;k&rsquo; stars (see also <b>kmax=</b> below) of the minimum
and maximum radius, fewer stars will be used on one side of the interval,
but the formulae used is still the same. <p>
The table will contain 7 columns:
 (1) radius, (2) density, (3) circular velocity (assuming centrifugal balance),
(4) cumulative mass, (5) projected surface density, (6) radius to the power
0.25 <a href='and.7.html'>and (7)</a>
 -2.5*log(surface density).  
<h2><a name='sect3' href='#toc3'>Parameters</a></h2>
The following parameters
are recognized in any order if the keyword is also given: 
<dl>

<dt><b>in=<i>in-file</i></b> </dt>
<dd>input
file, in <a href='snapshot.5.html'><i>snapshot(5NEMO)</i></a>
 format [no default] </dd>

<dt><b>center=<i>x,y,z</i></b> </dt>
<dd>The center <i>(x,y,z)</i>
 from which the radial profile will be constructed [default: 0,0,0]. </dd>

<dt><b>mode=<i>name</i></b>
</dt>
<dd>Choice of variable against which the radial distribution is plotted. Options
are: <i>mass</i>, which plots the cumulative mass, <i>density</i>, which plots the stellar
density and <i>rotcur</i>, which plots the rotation curve for centrifugally bound
orbits. </dd>

<dt><b>rmax=<i>rmax</i></b> </dt>
<dd>This is a radial cutoff in the plot. [default: program
selects  <i>rmax</i> to be the particle with maximum radius from the center  (<i>x,y,z</i>)]
</dd>

<dt><b>dmax=<i>dmax</i></b> </dt>
<dd>Upper cutoff of the density [default: program selects the maximum
found density to fit on the plot]. </dd>

<dt><b>mmax=<i>mmax</i></b> </dt>
<dd>Upper cutoff of the cumulative
mass plot [default: 1.0]. </dd>

<dt><b>vmax=<i>vmax</i></b> </dt>
<dd>Upper cutoff of the rotation curve plot
[default: program selects the maximum found rotation curve to fit on the
plot]. </dd>

<dt><b>kmax=</b><i>k_max</i> </dt>
<dd>Number of nearest neighbors in radius on either side used
 determine the density.  This acts like a hanning type smoothing constant.
Note this means that each density point used <b>2 kmax + 1</b> points from the
snapshot. [Default: <b>1</b>]. </dd>

<dt><b>tab=<i>t|f</i></b> </dt>
<dd>Output as table? When true no plotting will
be done, only the table is produced on standard output: (1) radius, (2)
density, (3) circular velocity, (4) cumulative mass, (5) projected surface
density, (6) radius to the <a href='power.7.html'>power (7)</a>
 0.25 and -2.5*log(surface density). [default:
<b>f</b>]. </dd>

<dt><b>headline=</b> </dt>
<dd>Optional text for plot header. [no header]. </dd>
</dl>

<h2><a name='sect4' href='#toc4'>Bugs</a></h2>
<br>
<pre>Tables (tab=t): the density is crummy.
Plot: no logarithmic scaling can be done.
</pre>
<h2><a name='sect5' href='#toc5'>See Also</a></h2>
<a href='snapdens.1.html'>snapdens(1NEMO)</a>
, <a href='hackdens.1.html'>hackdens(1NEMO)</a>
, <a href='tabplot.1.html'>tabplot(1NEMO)</a>
, <a href='snapshot.5.html'>snapshot(5NEMO)</a>


<h2><a name='sect6' href='#toc6'>Author</a></h2>
Peter Teuben 
<h2><a name='sect7' href='#toc7'>Files</a></h2>
<br>
<pre>~src/nbody/reduc<tt> </tt>&nbsp;<tt> </tt>&nbsp;radprof.c
</pre>
<h2><a name='sect8' href='#toc8'>Update History</a></h2>
<br>
<pre>18-Mar-87<tt> </tt>&nbsp;<tt> </tt>&nbsp;document created        <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
 8-Apr-87<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.0 coding             <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
21-Apr-87<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.1 rotcur added       <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
 1-jun-88<tt> </tt>&nbsp;<tt> </tt>&nbsp;V2.0 new filestruct + table<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
28-Mar-89<tt> </tt>&nbsp;<tt> </tt>&nbsp;V2.0c bug remarks in man page<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
12-feb-92       V2.1a Nemo V2.x         <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
25-jul-97<tt> </tt>&nbsp;<tt> </tt>&nbsp;V3.0 added kmax= and changed density computation<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
20-jun-02<tt> </tt>&nbsp;<tt> </tt>&nbsp;V3.1 able to read PhaseSpace as well as Pos/Vel data<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Parameters</a></li>
<li><a name='toc4' href='#sect4'>Bugs</a></li>
<li><a name='toc5' href='#sect5'>See Also</a></li>
<li><a name='toc6' href='#sect6'>Author</a></li>
<li><a name='toc7' href='#sect7'>Files</a></li>
<li><a name='toc8' href='#sect8'>Update History</a></li>
</ul>
</body>
</html>
