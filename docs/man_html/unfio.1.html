<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>UNFIO(1NEMO) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
unfio - access fortran unformatted I/O files 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>unfio</b> <b>in=</b><i>input_file</i>
[parameter=value] 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<b>unfio</b> scans (and optionally dumps) a binary
file, created with a  FORTRAN program with the <i>form=&rsquo;unformatted&rsquo;</i> OPEN statement.
<p>
It is currently only implemented for BSD-type fortran compilers with arbitrary
endianism of the bytes (i.e. probably excluding  VMS and Cray compilers).
Depending on the compiler, the header size can be 8 instead of the classic
4. See <b>header=</b> below. 
<h2><a name='sect3' href='#toc3'>Parameters</a></h2>
The following parameters are recognized in
any order if the keyword is also given: 
<dl>

<dt><b>in=</b> </dt>
<dd>input file. No default. </dd>

<dt><b>out=</b>
</dt>
<dd>output file. Fortran headers and trailers have been stripped off. If you
need ASCII output, this keyword should be left alone, use type=,format=
to control how you want to "see" the numbers. Default: no output. </dd>

<dt><b>block=</b>
</dt>
<dd>which block to display (0=all, default: scan). By default it will scan the
file and report the blocksize. </dd>

<dt><b>type=</b> </dt>
<dd>Format (valid are: {int, float, double})
of the data-item. This assumes all data in a block has the same type. </dd>

<dt><b>select=</b>
</dt>
<dd>Which items to select in a block. The default is all. Any  <a href='nemoinp.3NEMO.html'><i>nemoinp(3NEMO)</i></a>

 expression can be given. Default: all. </dd>

<dt><b>format=</b> </dt>
<dd>The <a href='printf.3.html'><i>printf(3)</i></a>
 format to use
when displaying a block display [%d,%g]. </dd>

<dt><b>count=t|f</b> </dt>
<dd>A logical denoting if
to display an element counter too?. </dd>

<dt><b>maxbuf=</b> </dt>
<dd>buffersize in bytes, to read
a block. </dd>

<dt><b>swap=</b> </dt>
<dd>Swap bytes after low level read? This only applies to the
header, not to the actual data. Programmers must still do this themselves.
If using a specific block to display, the data bytes are swapped based
on the data type given by <b>type=</b>. </dd>

<dt><b>header=|0|4|8</b> </dt>
<dd>Size of the header uses in unformatted
fortran data. This used to be 4, but modern compilers (e.g. gfortran) may
very well use 8. By default it is not specified, and the value determined
to be the correct one during install (UNFIO_HDR_SIZE) is used. This keyword
can be used to force another value. 0 is also supported to read raw binary
data. </dd>
</dl>

<h2><a name='sect4' href='#toc4'>Examples</a></h2>
Suppose we have a dataset that somebody dumped via fortran,
and  <br>
<pre>unfio dump.dat
52
2400000
2400000
</pre>which after knowing from the author that there are 200,000 bodies in here,
and positions and velocities are written seperately, we can decipher in
the following way <br>
<pre>unfio dump.dat - 2 f maxbuf=2400000 | tabtos - pos.snap nbody=200000 time=1
</pre><p>
Here is an example of reading the frequency table of a miriad bandpass
calibration file with 6 spectral windows, on an little endian architecture
machine: <br>
<pre>   % unfio vis/freqs header=0 maxbuf=152 format=%g block=1 count=1 swap=t
type=d
   % unfio vis/freqs header=0 maxbuf=152 format=%d block=1 count=t swap=t
type=i
</pre>
<h2><a name='sect5' href='#toc5'>Files</a></h2>
src/kernel/fortran<tt> </tt>&nbsp;<tt> </tt>&nbsp;: code, plus example program to check default header
size 
<h2><a name='sect6' href='#toc6'>See Also</a></h2>
<a href='bswap.1NEMO.html'>bswap(1NEMO)</a>
, <a href='unfio.3NEMO.html'>unfio(3NEMO)</a>
, <a href='bswap.3NEMO.html'>bswap(3NEMO)</a>
 
<h2><a name='sect7' href='#toc7'>Author</a></h2>
Peter Teuben

<h2><a name='sect8' href='#toc8'>Update History</a></h2>
<br>
<pre>9-Aug-95<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.1 Documented <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
21-jun-97<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.2 added select=<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
7-feb-98<tt> </tt>&nbsp;<tt> </tt>&nbsp;V2.0 added out=    <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
19-mar-99<tt> </tt>&nbsp;<tt> </tt>&nbsp;V2.1 out= also uses select= now <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
1-mar-06<tt> </tt>&nbsp;<tt> </tt>&nbsp;V2.2 added header=4|8<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
4-mar-06<tt> </tt>&nbsp;<tt> </tt>&nbsp;V2.3 header=now blank value<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
8-may-08<tt> </tt>&nbsp;<tt> </tt>&nbsp;V2.4 support header=0<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Parameters</a></li>
<li><a name='toc4' href='#sect4'>Examples</a></li>
<li><a name='toc5' href='#sect5'>Files</a></li>
<li><a name='toc6' href='#sect6'>See Also</a></li>
<li><a name='toc7' href='#sect7'>Author</a></li>
<li><a name='toc8' href='#sect8'>Update History</a></li>
</ul>
</body>
</html>
