<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>POTENTIAL(3NEMO) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
get_potential - obtain potential descriptor and pattern speed 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<br>
<pre>#include &lt;stdinc.h&gt;proc get_potential (potname, potpars, potfile)potproc_double
get_potential_double (potname, potpars, potfile)potproc_float  get_potential_float
(potname, potpars, potfile)string potname;    <tt> </tt>&nbsp;<tt> </tt>&nbsp;/* generic name of potential
*/string potpars;    <tt> </tt>&nbsp;<tt> </tt>&nbsp;/* parameters, separated by comma&rsquo;s */string potfile;
    <tt> </tt>&nbsp;<tt> </tt>&nbsp;/* optional (file) name or string */
proc get_inipotential ()real get_pattern()</pre>
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<a href='potential.3.html'><i>potential(3NEMO)</i></a>

provides a uniform interface to handle the input of the <a href='potential.5.html'><i>potential(5NEMO)</i></a>

&rsquo;datafile&rsquo; format.  It returns a pointer to the function wich computes potentials,
forces etc. <p>
<i>get_potential</i> reads a formulation file of a potential (see <a href='potential.5.html'><i>potential(5NEMO)</i></a>
).
<i>potname</i> is the generic name of the filename, which <b>must</b> contain at least
two entry points <b>inipotential</b> and  <b>potential</b> with a predefined parameter
sequence. Modern compilers with stricter prototyping should use the _double
or _float versions of the same function. 
<p> 
<p> A default search path is provided
by an environment variable <b>POTPATH</b>, normally set by the NEMO environment
startup script <b>NEMORC</b>. Potential datafiles can be stored in c-source form
(<b>.c</b>) or (e.g. in case you only them available in another language) object
form (<b>.o</b>). In case only the source is available, it is compiled to an object
file with a simple system call to the <a href='cc.1.html'><i>cc(1)</i></a>
 compiler. <p>
Once a potential has
been loaded, two additional routines allow access to intrinsic properties
of that potential: <p>
<i>get_pattern</i> returns the pattern speed of the potential,
which is conventionally the first parameter of the <i>potpars</i> list. Potentials
which compute the pattern speed from another parameter (e.g. from the lagrangian
radius) should return the pattern speed in the first array element of <i>ini_potential</i>.
This routine is heavily used by routines which need the pattern speed. <p>
<i>get_inipotential</i>
returns a pointer to the function which initializes the potential. In this
way one could re-initialize and re-use the potential.  
<h2><a name='sect3' href='#toc3'>Example</a></h2>
<br>
<pre>potproc mypot, get_potential();double pot,time;vector pos, acc;int ndim=NDIM;...mypot
= get_potential("harmonic","0.0,1.0,0.5",NULL);(*mypot)(&amp;ndim,pos,acc,&amp;pot,&amp;time);...</pre>
<h2><a name='sect4' href='#toc4'>See
Also</a></h2>
<a href='potlist.1.html'>potlist(1NEMO)</a>
,<a href='potential.5.html'>potential(5NEMO)</a>
,<a href='loadobj.3.html'>loadobj(3NEMO)</a>
,<a href='acceleration.3.html'>acceleration(3NEMO)</a>


<h2><a name='sect5' href='#toc5'>Bugs</a></h2>
Uses a dynamic object loader. See <a href='loadobj.3.html'>loadobj(3NEMO)</a>
 for implementations,
but see below for a standalone loader. <p>
Fortran C interface only works on
certain implementation where a fortran  character string gets its length
passed by value as the last argument. 
<h2><a name='sect6' href='#toc6'>Examples</a></h2>
The non-loadobj version of
the potential loader is called  <i>potential0.c</i> and it can compile programs
as follows: <br>
<pre>    make orbint L="$NEMOLIB/potential0.o -lnemo $NEMOOBJ/potential/plummer.o"
</pre>and make sure <i>potential0.o</i> is loaded before the nemo library. 
<h2><a name='sect7' href='#toc7'>Author</a></h2>
Peter
Teuben 
<h2><a name='sect8' href='#toc8'>Files</a></h2>
<br>
<pre>~/src/orbit/potential  <tt> </tt>&nbsp;<tt> </tt>&nbsp;potential.c potential0.c
</pre>
<h2><a name='sect9' href='#toc9'>Update History</a></h2>
<br>
<pre>13-Jul-87<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.0: Original created<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
8-Apr-88<tt> </tt>&nbsp;<tt> </tt>&nbsp;V2.0: added &rsquo;name&rsquo; parameter for hackforce<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
13-mar-89<tt> </tt>&nbsp;<tt> </tt>&nbsp;V2.1: &rsquo;name_len&rsquo; in case Fortran was used<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
9-feb-89<tt> </tt>&nbsp;<tt> </tt>&nbsp;V3.0: added time parameter to potential()-repair doc<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
25-oct-90<tt> </tt>&nbsp;<tt> </tt>&nbsp;V3.2: minor upgrades<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
10-mar-93<tt> </tt>&nbsp;<tt> </tt>&nbsp;-- also added potential0.c when loadobj doesn&rsquo;t work<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
11-oct-93<tt> </tt>&nbsp;<tt> </tt>&nbsp;V5.0: added get_pattern   <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
13-sep-01<tt> </tt>&nbsp;<tt> </tt>&nbsp;V5.4: added _float/_double versions w/ prototyping<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Example</a></li>
<li><a name='toc4' href='#sect4'>See Also</a></li>
<li><a name='toc5' href='#sect5'>Bugs</a></li>
<li><a name='toc6' href='#sect6'>Examples</a></li>
<li><a name='toc7' href='#sect7'>Author</a></li>
<li><a name='toc8' href='#sect8'>Files</a></li>
<li><a name='toc9' href='#sect9'>Update History</a></li>
</ul>
</body>
</html>
