<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>MKTABDISK(1NEMO) manual page</title>
</head>
<body bgcolor='white'>
HTML automatically generated with <A HREF=http://manpages.ubuntu.com/manpages/bionic/man1/rman.1.html>rman</A><br>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
mktabdisk - create a test disk with density, circular velocity and dispersion
given by a table 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>mktabdisk</b> [parameter=value] 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<b>mktabdisk</b>
creates an idealized test disk with a given tabular form of density, circular
velocity and velocity dispersion as function of radius. It can also optionally
compute the asymmetric drift correction. <p>
For clarity the Asymmetric Drift
Correction output is split in three: a density, velocity and dispersion
related component. They are linear, but recall they are added (or subtracted)
in quadrature, so we print the sign of the correction as well. See EXAMPLES
below. The three are (many references in the literature with some assumptions
of isotropicity): <br>
<pre>     adc_D^2 = S^2 dlnD/dlnR
     adc_V^2 = S^2 (1-dlnV/dlnR) / 2
     adc_S_2 = S^2 dS^2/dlnR
     
</pre>Normally only the <i>adc_V^2</i> term increases the rotation curve, the other two
act like an outward bound force, and subtract from the rotation curve to
give the observed streaming velocity. 
<h2><a name='sect3' href='#toc3'>Parameters</a></h2>
The following parameters
are recognized in any order if the keyword is also given: 
<dl>

<dt><b>in=</b> </dt>
<dd>Input table
(radius,density,velocity,dispersion). No default. </dd>

<dt><b>out=</b> </dt>
<dd>Output file name in
standard <a href='snapshot.5.html'><i>snapshot(5NEMO)</i></a>
 format. </dd>

<dt><b>nbody=</b> </dt>
<dd>Number of disk particles [2048]
   </dd>

<dt><b>rmin=</b> </dt>
<dd>Inner disk radius [min radius from table] </dd>

<dt><b>rmax=</b> </dt>
<dd>Outer cutoff radius
[max radius from table] </dd>

<dt><b>mass=</b> </dt>
<dd>Rescale total mass to this?. By default not
scaled, if a positive value given, this will be the total mass [1.0] </dd>

<dt><b>seed=</b>
</dt>
<dd>Usual random number seed, see also <a href='xrandom.1.html'><i>xrandom(1NEMO)</i></a>
 [0]    </dd>

<dt><b>sign=</b> </dt>
<dd>Sign of
Z-angular momentum vector of disk. +1 means counter clock wise. [1] </dd>

<dt><b>adc=t|f</b>
</dt>
<dd>Produce a table of Asymmetric Drift Corrections. If choosen, a simple ascii
table with 7 columns is printed: <i>rad, den (D), vel (V), sig (S), adc_D,
adc_V, adc_S, vobs</i> [f] </dd>

<dt><b>mode=</b> </dt>
<dd>Select mode of initial conditions. 1: regular
in Radius, but random in Theta. <b>nbody=</b> will be exact. 2: cartesian grid,
but keeping within <b>rmax</b>.  <b>nbody=</b> will be approximate. [1]. </dd>

<dt><b>sigmaz=</b> </dt>
<dd>Scaling
factor by which the vertical velocity dispersions are computed compared
to the (isotropic) planar. Remember this is a toy model. The default is 3D
isotropic, but use <b>sigmaz=0</b> if you want a truly planar disk in all phase
space coordinates  [1]. </dd>

<dt><b>headline=</b><i>message</i> </dt>
<dd>Text headline for output file [default:
not used]. </dd>
</dl>

<h2><a name='sect4' href='#toc4'>Examples</a></h2>
Here is an example of producing the ADC table of an exponential
disk with an isothermal halo rotation curve and constant velocity dispersion
at 10% of the peak velocity: <br>
<pre>     nemoinp 0:5:0.2 | tabmath - - &rsquo;exp(-%1),%1/sqrt(1+%1**2),0.1&rsquo; &gt; tab1
     mktabdisk tab1 . adc=true
     # R  D          V         S    adc_D      adc_V     adc_S  Vobs
     0.2  0.818731   0.196116  0.1  -0.0447318 0.0145238 0      0.191498
     0.4  0.67032    0.371391  0.1  -0.0632403 0.0261482 0      0.3669
     0.6  0.548812   0.514496  0.1  -0.0774612 0.036386  0      0.509931
     ...
     4.6  0.0100518  0.977176  0.1  -0.214485  0.0690972 0      0.955847
     4.8  0.00822975 0.97898   0.1  -0.219031  0.0692244 0      0.956671
     5.0  0.00673795 0.980581  0.1  -0.223867  0.0693351 0      0.957199
</pre>or a colorful plot with various velocity components plotted, and where
the V/sigma &lt; 1 in the nuclear region <br>
<pre>     nemoinp 0.001,0.1:15:0.1 | tabmath - - &rsquo;exp(-%1),%1/sqrt(1+%1**2),0.4-0.3*%1/(1+%1)&rsquo;
&gt; tab2
     mktabdisk tab2 . adc=true &gt; tab2.adc
     tabplot tab2.adc 1 3,4,5,6,7,8 0 16 -0.5 1.1 line=1,1,1,1,1,2 color=3,4,2,3,4,3
ycoord=0 xcoord=1
</pre>
<h2><a name='sect5' href='#toc5'>Caveats</a></h2>
The current version distributes particles regularly by radius, but
randomnly in angle. 
<h2><a name='sect6' href='#toc6'>See Also</a></h2>
<a href='mkdisk.1.html'>mkdisk(1NEMO)</a>
, <a href='snapshot.5.html'>snapshot(5NEMO)</a>
 
<h2><a name='sect7' href='#toc7'>Files</a></h2>
$NEMO/src/nbody/init/mktabdisk.c

<h2><a name='sect8' href='#toc8'>Author</a></h2>
Peter Teuben 
<h2><a name='sect9' href='#toc9'>Update History</a></h2>
<br>
<pre>16-may-2020<tt> </tt>&nbsp;<tt> </tt>&nbsp;V0.1 drafted<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
27-may-2020<tt> </tt>&nbsp;<tt> </tt>&nbsp;V0.5 add sigmaz=<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Parameters</a></li>
<li><a name='toc4' href='#sect4'>Examples</a></li>
<li><a name='toc5' href='#sect5'>Caveats</a></li>
<li><a name='toc6' href='#sect6'>See Also</a></li>
<li><a name='toc7' href='#sect7'>Files</a></li>
<li><a name='toc8' href='#sect8'>Author</a></li>
<li><a name='toc9' href='#sect9'>Update History</a></li>
</ul>
</body>
</html>
