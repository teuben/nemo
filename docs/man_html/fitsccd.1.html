<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>FITSCCD(1NEMO) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
fitsccd - read a (fits) image file from disk 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<p>
<b>fitsccd in=</b>image
<b>out=</b>fits [parameter=value] 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<b>fitsccd</b> reads a (fits) image file
from disk. The input is normally in  <a href='fits.5NEMO.html'><i>fits(5NEMO)</i></a>
 format, although certain
foreign data formats can  also be read in a limited form of <i>raw</i> mode (see
<b>FOREIGN FORMATS</b> below). This effectively allows you to read formats such
as MIRIAD, GIPSY, IRAF, ZODIAC and AIPS data,  given the right parameters...
The output will always be in  standard <a href='image.5NEMO.html'><i>image(5NEMO)</i></a>
 format. Typicall you
will need the keywords <b>bitpix=</b>,<b>offset=</b> and <b>naxis=</b>. <p>
See old notes in <a href='ccdfits.1NEMO.html'><i>ccdfits(1NEMO)</i></a>

how to process fits files from tape instead disk. 
<h2><a name='sect3' href='#toc3'>Parameters</a></h2>
The following
parameters are recognized in any order if the keyword is also given: 
<dl>

<dt><b>in=<i>fits-file</i></b>
</dt>
<dd>input file, must be <a href='fits.5.html'><i>fits(5)</i></a>
 format unless <b>mode=raw</b> (see below) [no default].
</dd>

<dt><b>out=<i>image-file</i></b> </dt>
<dd>output file, will be in <a href='image.5.html'><i>image(5)</i></a>
 format. If no output file
give, some output about the WCS in fits is given, which can be used by
other programs. Default: blank. </dd>

<dt><b>planes=<i>p1,p2..</i></b> </dt>
<dd>List of planes to be read from
the fits file in case a cube was processed. If no list supplied, all are
used. Planes count from 0 upwards.  [Default: all]. </dd>

<dt><b>box=<i>xmin,ymin,xmax,ymax</i></b>
</dt>
<dd>If used, 4 integers in the range 1..NAXIS1 (for x) and 1..NAXIS2 (for y) are
needed in the order <i>xmin,ymin,xmax,ymax</i>. It selects a box that needs to
be fully contained in the fits XY plane. Default: none. </dd>

<dt><b>blocking=<i>factor</i></b> </dt>
<dd>Integer
that denotes the blocking factor with which file was written. It is the
multiple of blocks of 2880 bytes. [default: <b>1</b>]. </dd>

<dt><b>mode=<i>mode</i></b> </dt>
<dd>Format mode of
input file. Choises are <i>fits</i> and <i>raw</i>. In raw mode various relevant header
parameters must be given using remaining keywords listed below. All keyword
following this one are only effective in <i>raw</i> mode. [Default: <b>fits</b>]. </dd>

<dt><b>blocksize=<i>blocksize</i></b>
</dt>
<dd>Basic blocksize of a raw input file. The actual blocksize applied includes
padding, and is hence <i>blocksize*blocking</i>.  It is only used in <i>raw</i> mode. [default:
<b>1</b>]. </dd>

<dt><b>offset=<i>offset</i></b> </dt>
<dd>Byte offset where the data starts in the file.  It is only
used in <i>raw</i> mode. [Default: <b>0</b>] </dd>

<dt><b>bitpix=<i>bitpix</i></b> </dt>
<dd>FITS Bitpix used in conversion.
Allowed are 16, 32 and -32, denoting 16 and 32 bit integers, and 32 bit
IEEE floating point resp. It is only used in <i>raw</i> mode. [Default <b>-32</b>]. </dd>

<dt><b>naxis=<i>nz,ny,nz</i></b>
</dt>
<dd>Size of all relevant axes in the data-"cube". It is only used in <i>raw</i> mode.
No default! </dd>

<dt><b>cdelt=<i>r1,r2,r3</i></b> </dt>
<dd>Pixel separation. It is only used in <i>raw</i> mode.
[Default: <i>2/nx,2/ny,2/nz</i>] </dd>

<dt><b>crpix=<i>r1,r2,r3</i></b> </dt>
<dd>Reference pixel. It is only used
in <i>raw</i> mode. [Default: <b>0,0,0</b>]. </dd>

<dt><b>crval=<i>r1,r2,r3</i></b> </dt>
<dd>Value at reference pixel. It
is only used in <i>raw</i> mode. [Default: <b>0,0,0</b>]. </dd>

<dt><b>bscale=<i>bscale</i></b> </dt>
<dd>Scaling constant
from raw data to internal data. It is only used in <i>raw</i> mode. [Default: <b>1</b>].
</dd>

<dt><b>bzero=<i>bzero</i></b> </dt>
<dd>Offset constant from raw data to internal data. It is only used
in <i>raw</i> mode. [Default: <b>0</b>]. </dd>

<dt><b>blank=</b>blank_value </dt>
<dd>If a magic value from the input
dataset needs to be  replaced in the output image, give that value here.
It is not yet possible to use the FITS <b>BLANK</b> keyword for this. [Default:
not used]. </dd>

<dt><b>relcoords=f|t</b> </dt>
<dd>Use relative coordinates instead of absolute coordinates?
 [false] </dd>

<dt><b>axistype=0|1</b> </dt>
<dd>Old style (0) or new style with crpix-type header <a href='information.1.html'>information
(1)</a>
 passed through. Default: 0 </dd>
</dl>

<h2><a name='sect4' href='#toc4'>Foreign Formats</a></h2>
An <i>AIPS</i> dataset... <p>
An <i>IRAF</i> dataset...
<p>
A <i>GIPSY</i> dataset uses offset=0 and bitpix=-32. Dataset name  normally has
extension ".IMAGE". Use the GIPSY  program <i>gds</i> or <i>header</i> to find out relevant
header parameters. <br>
<pre>    % fitsccd in=10.IMAGE out=10.ccd mode=raw offset=0 bitpix=-32 ...
</pre><p>
A <i>MIRIAD</i> dataset is converted using an offset of 4 bytes and bitpix of
-32 into the <i>dataset/image</i> file. Various header parameters must be retrieved
from the  header using the Miriad program <i>itemize</i>: <br>
<pre>    % fitsccd in=dat.mir/image out=dat.ccd mode=raw offset=4 bitpix=-32 ...
</pre><p>
A <i>ZODIAC</i> dataset uses offset=0 and bitpix=-32. Dataset names are preceded
with an underscore. For a zodiac image with  <br>
<pre>    % fitsccd in=_zim out=zim.ccd mode=raw offset=0 bitpix=-32 ...
</pre>
<h2><a name='sect5' href='#toc5'>Examples</a></h2>
The following example presents some parameters of each axis in
the cube: (listed are naxis, crpix, crval, cdelt, xmin, xmax) <br>
<pre>% fitsccd L1451.mom0.fits 
### nemo Debug Info: FITS file: Image size 1324 832
AXIS1: 1324 607 51.2543 -0.000277778    0.168194 -0.199306
AXIS2:  832 444 30.364   0.000277778   -0.122917  0.107917
AXIS3:    1   0 4079.75 -23565         -35347.5  -35347.5
</pre>notice the third axis is bogus in this example. The last two columns (xmin,xmax)
include half the pixel, so mean to signify the edges of this cells, in
units relative to the reference pixel (crpix), not in units of 
<h2><a name='sect6' href='#toc6'>Other</a></h2>
Most
packages in astronomy can write a fits file from their native format, here
are some examples: <br>
<pre>MIRIAD  <tt> </tt>&nbsp;<tt> </tt>&nbsp;fits in=cube.mir out=cube.fits op=xyout
CLASS/GILDAS<tt> </tt>&nbsp;<tt> </tt>&nbsp;vectorts cube.fits from cube.lmv
CASA<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;exportfits("cube.im","cube.fits")
GIPSY<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;wfits
</pre>
<h2><a name='sect7' href='#toc7'>Caveats</a></h2>
There are FITS image files stored as extensions to a dummy HDU. In
those cases <a href='scanfits.1NEMO.html'><i>scanfits(1NEMO)</i></a>
 must be used to extract the correct HDU and
continue the data analysis, e.g. <br>
<pre>    % scanfits abc.fits abc1.fits hdu=2
    % ccdfits abc1.fits abc1.ccd
</pre>Note that FITS files in NEMO do now allow the use of pipes. 
<h2><a name='sect8' href='#toc8'>See Also</a></h2>
<a href='ccdfits.1NEMO.html'>ccdfits(1NEMO)</a>
,
<a href='snapccd.1NEMO.html'>snapccd(1NEMO)</a>
, <a href='iofits.1NEMO.html'>iofits(1NEMO)</a>
, <a href='scanfits.1NEMO.html'>scanfits(1NEMO)</a>
, <a href='image.5NEMO.html'>image(5NEMO)</a>
, <a href='fits.5NEMO.html'>fits(5NEMO)</a>
,
<a href='dd.1.html'>dd(1)</a>
 
<h2><a name='sect9' href='#toc9'>Author</a></h2>
Peter Teuben 
<h2><a name='sect10' href='#toc10'>Files</a></h2>
<br>
<pre>~/src/image/fits  <tt> </tt>&nbsp;<tt> </tt>&nbsp;fitsccd.c fitsccd.1
</pre>
<h2><a name='sect11' href='#toc11'>Update History</a></h2>
<br>
<pre>7-mar-90<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.0 Written<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
1-oct-90<tt> </tt>&nbsp;<tt> </tt>&nbsp;V3.0 New fitsio routines from Sault<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
11-oct-90<tt> </tt>&nbsp;<tt> </tt>&nbsp;V3.1 Added &rsquo;raw&rsquo; mode  <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
10-sep-91<tt> </tt>&nbsp;<tt> </tt>&nbsp;V3.3 Added blank= keyword, more doc  <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
18-may-99<tt> </tt>&nbsp;<tt> </tt>&nbsp;V3.6 added support to read CD_i_j based files<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
21-mar-00<tt> </tt>&nbsp;<tt> </tt>&nbsp;V3.6a fixed offset bug for raw cubes<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
7-nov-00<tt> </tt>&nbsp;<tt> </tt>&nbsp;V3.7 added relcoords=<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
23-nov-04<tt> </tt>&nbsp;<tt> </tt>&nbsp;V4.9 added axistype=  for new image format PJT
19-feb-2015<tt> </tt>&nbsp;<tt> </tt>&nbsp;V5.1 added box= to select a subregion in XY<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Parameters</a></li>
<li><a name='toc4' href='#sect4'>Foreign Formats</a></li>
<li><a name='toc5' href='#sect5'>Examples</a></li>
<li><a name='toc6' href='#sect6'>Other</a></li>
<li><a name='toc7' href='#sect7'>Caveats</a></li>
<li><a name='toc8' href='#sect8'>See Also</a></li>
<li><a name='toc9' href='#sect9'>Author</a></li>
<li><a name='toc10' href='#sect10'>Files</a></li>
<li><a name='toc11' href='#sect11'>Update History</a></li>
</ul>
</body>
</html>
