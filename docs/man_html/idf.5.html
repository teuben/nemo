<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>IDF(5NEMO) manual page</title>
</head>
<body bgcolor='white'>
HTML automatically generated with <A HREF=http://manpages.ubuntu.com/manpages/bionic/man1/rman.1.html>rman</A><br>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
idf - Input Directive File format 
<h2><a name='sect1' href='#toc1'>Description</a></h2>
<b>idf</b> files describe named
and typed parameters in a textual layout, which is then matched to an actual
instantiation of this parameter file. Programs such as <a href='idf.1.html'><i>idf(1NEMO)</i></a>
 can then
be used to replaced such named parameters and create a new parameter file,
to be used by an external non-NEMO program to be run. 
<h2><a name='sect2' href='#toc2'>Format</a></h2>
Parameters are
(uniquely) typed and named, using the : as separator. Comment lines that
don&rsquo;t count in the matching parameter file can be given using the usual
# symbol, true comment lines are  directives that start with c: <br>
<pre>  #  a comment line for the sake of commenting the IDF, otherwise ignored
  c:comment    # a comment line (expected in the parameter file)
  r:eps        # a real parameter, named eps
  i:nmax       # an integer
  b:verbose    # a boolean
  s:name       # a string, no quotes 
  qs:file      # a (single) quoted string
  i:n1 i:n2    # a line with multiple parameters is allowed too
  r:size[n1]   # an array with &rsquo;n1&rsquo; values, can span many lines ** not implemented
**
  r:rad[]      # an array with as many values as left in the file (one
per line)
</pre>
<h2><a name='sect3' href='#toc3'>Examples</a></h2>
In the following example, we use the technique in NEMO where named
parameters are defined before the <b>"--"</b>, and client parsed command line arguments
after. See also the <i>getargv()</i> function in <a href='getparam.3.html'><i>getparam(3NEMO)</i></a>
 <br>
<pre>   % idf idf=nbody.idf par=run1.par out=run2.par  --   eps=0.02 n1=4 size=1,2,3,4
rad=10,20,30,40
   % cat run2.par
   Example to run that fortran nbody program
   0.02   
   10   
   T      
   Benchmark Example 
   &rsquo;file.out&rsquo;
   4 6 
   1 2 3 4 
   10 
   20 
   30
   40
   % nbody0 &lt; run2.par
</pre>
<h2><a name='sect4' href='#toc4'>Caveats</a></h2>
This parameter list is very static, there is no room for an additional
line, depending on the value or presence of another parameter, the only
exception being the last (list) of numbers <p>
The idea of an array <b>"r:size[n1]"</b>
is still just an idea, there is no use case for this yet.  Also we probably
need to agree if they can (or must) be on a single line, or can they span.
What if you then allow two array parameters, like <b>"r:x[n1] r:y[n1]"</b>, that
would suggest to pair them up <br>
<pre>      x1 y1
      x2 y2
      ...
</pre>otherwise they should appear on two separate lines. So most likely a array
notation like this means they should be on separate lines <p>
What about the
filler space in the parameter file. Should we allow an option to have them
comma separated? Currently only spaces are produced, although the input
parameter file can have spaces and tabs. <p>
The (single) quoted string is sometimes
needed in fortran, but not in C. Makes one wonder if we need a double quoted
(qqs?) string at some point. 
<h2><a name='sect5' href='#toc5'>Future1</a></h2>
Should there be an option to start with
an IDF file that has defaults set? Viz. <br>
<pre>i:n=10
r:eps=0.03
qs:in=&rsquo;test.in&rsquo;
</pre>
<h2><a name='sect6' href='#toc6'>Future2</a></h2>
Should it be able to process a classic fortran NAMELIST?  Example
of <i>cmhogin</i> we use: <br>
<pre>$ggen2 nbl=256,ymin=0.02,ymax=16.0,yrat=1.02646,igrid=1,lgrid=.true. $end
</pre>which gets processed to <i>cmhogout</i>: <br>
<pre>&amp;GGEN2
 NBL=        256,
 YMIN= 1.99999996E-02,
 YMAX=  16.000000    ,
 IGRID=          1,
 YRAT=  1.0264601    ,
 DYMIN=  0.0000000    ,
 VGY=  0.0000000    ,
 LGRID=T,
 /
</pre>
<h2><a name='sect7' href='#toc7'>See Also</a></h2>
<a href='runvelfitss07.1.html'>runvelfitss07(1NEMO)</a>
, <a href='rungalaxy.1.html'>rungalaxy(1NEMO)</a>
, <a href='idf.1.html'>idf(1NEMO)</a>
, <a href='run.3.html'>run(3NEMO)</a>
,
<a href='idfio.3.html'>idfio(3NEMO)</a>
, <a href='getparam.3.html'>getparam(3NEMO)</a>
 
<h2><a name='sect8' href='#toc8'>Author</a></h2>
Peter Teuben 
<h2><a name='sect9' href='#toc9'>Update History</a></h2>
<br>
<pre>12-aug-2014<tt> </tt>&nbsp;<tt> </tt>&nbsp;documentation written, after some implementation<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
13-aug-2014<tt> </tt>&nbsp;<tt> </tt>&nbsp;finished implementing opend ended array <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre>
<p> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Description</a></li>
<li><a name='toc2' href='#sect2'>Format</a></li>
<li><a name='toc3' href='#sect3'>Examples</a></li>
<li><a name='toc4' href='#sect4'>Caveats</a></li>
<li><a name='toc5' href='#sect5'>Future1</a></li>
<li><a name='toc6' href='#sect6'>Future2</a></li>
<li><a name='toc7' href='#sect7'>See Also</a></li>
<li><a name='toc8' href='#sect8'>Author</a></li>
<li><a name='toc9' href='#sect9'>Update History</a></li>
</ul>
</body>
</html>
