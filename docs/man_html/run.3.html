<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>RUN(3NEMO) manual page</title>
</head>
<body bgcolor='white'>
HTML automatically generated with <A HREF=http://manpages.ubuntu.com/manpages/bionic/man1/rman.1.html>rman</A><br>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
run_ - utility functions to aid running programs in a clean directory

<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<br>
<pre>#include &lt;nemo.h&gt;
#include &lt;run.h&gt;
int run_mkdir(string name);
int run_cd(string name);
int run_sh(string cmd);
int run_popen1(string exe, string file);
</pre>
<h2><a name='sect2' href='#toc2'></b>Description</a></h2>
See also <a href='nemo.1.html'><i>nemo(1NEMO)</i></a>
 in the description how to run non-NEMO programs.
<p>
This interface encourages a unified approach how to run non-NEMO programs
from a NEMO frontend.  <p>
In particular, the "runme" script created by <a href='runbulgerot.1.html'><i>runbulgerot(1NEMO)</i></a>

should be employed by all run environments.   <p>
The <b>run_popen1</b> is meant to
simulate the <br>
<pre>      echo file | exe
</pre>style of running a program. The more general <b>run_sh</b> deals with most cases
such as <br>
<pre>      exe &lt; infile &gt; outfile
</pre>with optional <i>infile</i> and <i>outfile</i> 
<h2><a name='sect3' href='#toc3'>Example</a></h2>
In a typical example, work is done
inside of a clean run directory, because alien programs often use a parameter
file with a fixed name, and thus cannot easily run side by side in the
same directory. Here&rsquo;s a typical example: <br>
<pre>   string rundir = getparam("rundir");
   string exe    = getparam("exe");
   char tmp[256];
   stream fstr;
   string cmd = "#! /bin/sh\n" 
                " rm -rf foobar.dat\n" 
                " %s &lt;foobar.inp &gt;foobar.log 2&gt;&amp;1\n";
   run_mkdir(rundir);
   sprintf(tmp,"%s/foobar.dat",rundir);
   fstr = stropen(tmp,"w");
   fprintf(fstr,"%d",getiparam("n"));
   fprintf(fstr,"%g",getrparam("x"));
   strclose(fstr);
   sprintf(tmp,"%s/%s",rundir,"runme");
   fstr = stropen(tmp,"w");
   fprintf(fstr,cmd,exefile);
   strclose(fstr);
   run_cd(rundir);
   run_sh("sh runme");
</pre>The creation of the "runme" script is not really needed, the <i>run_sh()</i> could
directory use the  
<h2><a name='sect4' href='#toc4'>See Also</a></h2>
<a href='nemo.1.html'>nemo(1NEMO)</a>
, <a href='idfio.3.html'>idfio(3NEMO)</a>
, <a href='idf.1.html'>idf(1NEMO)</a>
 
<h2><a name='sect5' href='#toc5'>Author</a></h2>
Peter
Teuben 
<h2><a name='sect6' href='#toc6'>History</a></h2>
<br>
<pre>16-sep-2013<tt> </tt>&nbsp;<tt> </tt>&nbsp;document created<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Example</a></li>
<li><a name='toc4' href='#sect4'>See Also</a></li>
<li><a name='toc5' href='#sect5'>Author</a></li>
<li><a name='toc6' href='#sect6'>History</a></li>
</ul>
</body>
</html>
