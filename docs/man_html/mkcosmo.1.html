<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>MKCOSMO(1NEMO) manual page</title>
</head>
<body bgcolor='white'>
HTML automatically generated with <A HREF=http://manpages.ubuntu.com/manpages/bionic/man1/rman.1.html>rman</A><br>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
mkcosmo - create a cosmology cube of equal mass particles 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>mkcosmo</b>
[parameter=value] 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
From an input cube with given (relative) densities
on a regular grid, initial conditions that correspond to the density variations
at a given  redshift <b>z</b> (use <b>z=0</b> for non-comoving coordinates) are set based
on 3 sweeps of cumulative mass computations along X, Y and Z. <p>
Note that
this routine will only work well in the linear regime when the fluctuations
are very small, resulting in small perturbations from the central location
in a cell. The code will warn when a particle falls outside the cell boundary,
but otherwise happily allow that. <p>
It is also possible to generate unequal
mass particles, by assigning a single mass in each cell based on the local
density, by using <b>densit=t</b>. This could be useful if subsequent forces are
used to initialize the velocities in a cosmological setting. <p>
This program
is currently under development, features change on an almost daily basis
and the manual page can easily be out of sync with the program itself 
<h2><a name='sect3' href='#toc3'>Parameters</a></h2>
The
following parameters are recognized in any order if the keyword is also
given: 
<dl>

<dt><b>in=</b> </dt>
<dd>Input density (fluctuation) cube.  No default </dd>

<dt><b>out=</b> </dt>
<dd>Output file
name.  No default. </dd>

<dt><b>z=</b> </dt>
<dd>Redshift (for density correction). Only used if given,
and if given the growth function is hardcoded as 1/(1+z). z=0 means no change
made to densities.  Default: not used. </dd>

<dt><b>D=</b> </dt>
<dd>Growth function, by which the densities
will be multiplied to get the density. Only used if given. Default: not used.
</dd>

<dt><b>a=</b> </dt>
<dd>Additional rhob scaling? </dd>

<dt><b>absrho=</b> </dt>
<dd>Is map absolute density or relative
d(rho)/rho? [t] </dd>

<dt><b>sigma=</b> </dt>
<dd>Also perturb distances by (gaussian) sigma. This
option is normally not used for cosmology. Default: 0 </dd>

<dt><b>seed=</b> </dt>
<dd>Initial seed
 [0] </dd>

<dt><b>density=t|f</b> </dt>
<dd>Use density map to make an exact lattice grid (under TEST).
Typically one would then compute the forces, followed by setting the initial
velocities based on the accellerations (see <i>snap*<a href='vel.1.html'>vel(1NEMO)</i></a>
). Default: f
</dd>

<dt><b>rejection=t|f</b> </dt>
<dd>Use rejection technique to seed the &rsquo;grid&rsquo;. This will generally
result  in a very noisy distribution, unsuitable for cosmological initial
conditions. </dd>

<dt><b>nbody=</b> </dt>
<dd>Use this number instead of NX*NY*NZ if rejection is used.
  </dd>

<dt><b>headline=</b> </dt>
<dd>Random verbiage added to output snapshot. </dd>
</dl>

<h2><a name='sect4' href='#toc4'>Examples</a></h2>
Here&rsquo;s an example
creating 1000 particles from a truely random gaussian field: <br>
<pre>ccdmath "" - &rsquo;fie=rang(1,0.01)&rsquo; size=10,10,10 | mkcosmo - snap1
  ### nemo Debug info: Generating a map from scratch
  ### nemo Debug info: MinMax = 0.969161 1.03211
</pre>Note this cube is not centered on 0,0,0 but instead one of the corners
coincides with it. <p>
Here is an example of using density based masses: <br>
<pre>   mkcosmo ccd0 snap0 density=t ....
   gyrfalcON snap0 snap1 give=mxva hmin=6 tstop=0
   snapvel snap1 snap2 alpha=0.001432 ...
</pre>
<h2><a name='sect5' href='#toc5'>Caveats</a></h2>
The code assumes in a few places that the cube is really a cube
with equal sizes in all 3 dimensions. This is not always checked! 
<h2><a name='sect6' href='#toc6'>See Also</a></h2>
<a href='mkcube.1.html'>mkcube(1NEMO)</a>
,
<a href='ccdmath.1.html'>ccdmath(1NEMO)</a>
, <a href='snapvel.1.html'>snapvel(1NEMO)</a>
, <a href='image.5.html'>image(5NEMO)</a>
, <a href='snapshot.5.html'>snapshot(5NEMO)</a>
 <p>
grafics and
cosmics (Ed Bertschinger&rsquo;s programs) 
<h2><a name='sect7' href='#toc7'>Files</a></h2>
src/nbody/init/mkcosmo.c<tt> </tt>&nbsp;<tt> </tt>&nbsp;-- source

<h2><a name='sect8' href='#toc8'>Author</a></h2>
Peter Teuben, Ed Shaya, Alan Peel 
<h2><a name='sect9' href='#toc9'>Update History</a></h2>
<br>
<pre>1-Nov-06<tt> </tt>&nbsp;<tt> </tt>&nbsp;V0.1 Created<tt> </tt>&nbsp;<tt> </tt>&nbsp;Peter Teuben/Ed Shaya
9-nov-06<tt> </tt>&nbsp;<tt> </tt>&nbsp;V0.5 added rhob=, a=, rejection=, nbody=<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
16-nov-06<tt> </tt>&nbsp;<tt> </tt>&nbsp;V0.6 merged PJT and AP version<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
17-nov-06<tt> </tt>&nbsp;<tt> </tt>&nbsp;V0.6 added density= to play with<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Parameters</a></li>
<li><a name='toc4' href='#sect4'>Examples</a></li>
<li><a name='toc5' href='#sect5'>Caveats</a></li>
<li><a name='toc6' href='#sect6'>See Also</a></li>
<li><a name='toc7' href='#sect7'>Files</a></li>
<li><a name='toc8' href='#sect8'>Author</a></li>
<li><a name='toc9' href='#sect9'>Update History</a></li>
</ul>
</body>
</html>
