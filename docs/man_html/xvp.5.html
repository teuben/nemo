<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>XVP(5NEMO) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
xvp, xvm - direct access binary format for N-body data 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<br>
<pre>xvpread(model,filename,header,x,y,z,vx,vy,vz,pmass,ppot,ierr)
xvpwrite(model,filename,header,x,y,z,vx,vy,vz,pmass,ppot,ierr)
</pre>
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<b>xvp</b> is a format-compatible <i>Balcells</i> extension to the <b>xvm</b> format
in use by <i>Quinn</i> to store fixed size N-body data using FORTRAN direct access
I/O.  <p>
In the original <b>xmv</b> (<i>Quinn</i>) version (3-dimensional) positions, velocities,
and masses were stored,  including a header, which describes the size of
the upcoming data. <p>
In the <b>xvp</b> <i>Balcells</i>-extension the masses are stored in
the header (assuming the masses come in up to 13 groups) and the column
which used to store the masses now contain the potentials.  <p>
Since this extension
is annotated in the header, the <b>xvp</b> format is upward compatible with the
<b>xvm</b> format. 
<h2><a name='sect3' href='#toc3'>Format</a></h2>
The format consist of one header block, followed by many
data blocks. Each block (excluding the VMS case) has a size of <i>7*128*NOBYTES</i>
bytes, with all atomic data being floating point numbers with  <i>NOBYTES</i>
bytes per number (being 4 or 8).  
<h2><a name='sect4' href='#toc4'>Header</a></h2>
The header consists of 128 real
numbers, with the following conventions (<i>new upward compatible ones may
be added in the future</i>): <br>
<pre>     header(1)=number of particles in this (and all subsequent) snapshot(s)
     header(2)=iteration number
     header(3)=time
     header(4)=total energy
     header(5)=total angular momentum
     header(6)=total mass
     header(8)=G (Newton&rsquo;s constant)
     header(9)=epsilon (the gravitational softening length)
     header(18)=1 if a satellite is present , 0 if not. <tt> </tt>&nbsp;<tt> </tt>&nbsp;| ???
     header(19)=ndim (only 3 is supported)
     header(20)=1 if two-galaxies model, 0 otherwise
     header(21)=ngal1+1  <tt> </tt>&nbsp;<tt> </tt>&nbsp;| gal2 comes after gal1
     header(22)=mtot1
     header(23)=r0 galaxy 1 (half mass radius)
     header(24)=rmax galaxy 1 (initial rmax)
     header(25,26,27)= am(x,y,z) galaxy 1
     header(28)=mtot2
     header(29)=r0 galaxy 2 (half mass radius)
     header(30)=rmax galaxy 2 (initial rmax)
     header(31,32,33)= am(x,y,z) galaxy 2
     header(100) = 1         file contains xvp, not xvm, 0 otherwise
     header(101) = nmasses   number of body mass groups
     header(102) = n1        bodies 1:n1 have mass m1
     header(103) = m1        the body mass m1
     header(104) = n2        bodies n1+1:n2 have mass m2
     header(105) = m2
     header(106) = n3
     header(107) = m3        etc.    max 13 mass groups
     ...
     header(126) = n13
     header(127) = m13
<tt> </tt>&nbsp;<tt> </tt>&nbsp;
     header(128)<tt> </tt>&nbsp;<tt> </tt>&nbsp;| currently unused 
     header(129)<tt> </tt>&nbsp;<tt> </tt>&nbsp;| remainder unused 
     ...
     header(896) <tt> </tt>&nbsp;<tt> </tt>&nbsp;| last header element
</pre>Note that formally up to 7*128 are available,  but the last 6*128 are currently
not in use. 
<h2><a name='sect5' href='#toc5'>Data</a></h2>
The data consist of records of 128 particles each, with
positions, velocities and an auxiliary (masses or potentials, as determined
from the header) <br>
<pre>    data(1,2,3)     positions (NDIM=3 assumed here)
    data(4,5,6)     velocities
    data(7)         auxilliary (mass/potential)
    data(8,9,10)    positions
    ... etc.
</pre>
<h2><a name='sect6' href='#toc6'>Bugs</a></h2>
<i>xvp</i> multi-snapshot files must contain snapshots of equal size, so you
cannot concatenate files of different particle size. <p>
The header has no record
of <i>NOBYTES</i> (4 or 8) or a version number (sic). <p>
<p>
VMS may not be supported
in NEMO. 
<h2><a name='sect7' href='#toc7'>See Also</a></h2>
<a href='nora.l.html'>nora(l)</a>
, <a href='snapshot.5.html'>snapshot(5NEMO)</a>
 
<h2><a name='sect8' href='#toc8'>Author</a></h2>
Peter Quinn, Marc Balcells,
Peter Teuben 
<h2><a name='sect9' href='#toc9'>Files</a></h2>
<br>
<pre>~/src/nbody/io/xvpsnap.c<tt> </tt>&nbsp;<tt> </tt>&nbsp;sample conversion code
~/usr/balcells/nora/{xvpread.f,xvpwrite.f}<tt> </tt>&nbsp;<tt> </tt>&nbsp;sample I/O routines
</pre>
<h2><a name='sect10' href='#toc10'>Update History</a></h2>
<br>
<pre>25-may-94<tt> </tt>&nbsp;<tt> </tt>&nbsp;documentation written    <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre>
<p> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Format</a></li>
<li><a name='toc4' href='#sect4'>Header</a></li>
<li><a name='toc5' href='#sect5'>Data</a></li>
<li><a name='toc6' href='#sect6'>Bugs</a></li>
<li><a name='toc7' href='#sect7'>See Also</a></li>
<li><a name='toc8' href='#sect8'>Author</a></li>
<li><a name='toc9' href='#sect9'>Files</a></li>
<li><a name='toc10' href='#sect10'>Update History</a></li>
</ul>
</body>
</html>
