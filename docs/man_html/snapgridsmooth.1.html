<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>SNAPGRIDSMOOTH(1NEMO) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
snapgridsmooth - grid a snapshot into a 3D image cube with adaptive
smoothing 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<p>
<b>snapgridsmooth in=</b>snapshot <b>out=</b>image [parameter=value]

<h2><a name='sect2' href='#toc2'>Description</a></h2>
<i>snapgridsmooth</i> grids three arbitrary bodytrans expressions 
(default: <b>x</b>, <b>y</b> and <b>z</b>) of a snapshot into a datacube with adaptive smoothing
based on a bodytrans variable. Unlike <a href='snapgrid.1NEMO.html'><i>snapgrid(1NEMO)</i></a>
, which handles 2D
projections and certain types of line-of-sight processing, this program simply
accumulates the emission in each cell, and optional smoothing, normalization
and periodicity. 
<h2><a name='sect3' href='#toc3'>Parameters</a></h2>
The following parameters can be given in any
order if the keyword is also passed with it: 
<dl>

<dt><b>in=<i>in-file</i></b> </dt>
<dd>input file, must
be in <a href='snapshot.5NEMO.html'><i>snapshot(5NEMO)</i></a>
 format. Multiple snapshots can be stacked uses the
<b>times=</b> keyword: see <b>stack=</b> below.  [no default]. </dd>

<dt><b>out=<i>out-file</i></b> </dt>
<dd>output file,
will be in <a href='image.5NEMO.html'><i>image(5NEMO)</i></a>
 format. Depending on the use of <b>times=</b>, <b>stack=</b> and
<b>evar=</b> (see below) one more multiple cubes can be output. [no default]. </dd>

<dt><b>times=</b><i>t1:t2,t3,..</i>
</dt>
<dd>Selection of the times of snapshots to be selected for gridding. For <b>stack=t</b>
all snapshots will be co-added into one image, however selecting <b>stack=f</b>
or selecting multiple <b>evar</b>&rsquo;s one can request multiple output images. [Default:
<b>all</b>]. </dd>

<dt><b>xrange=<i>xb:xe</i></b> </dt>
<dd>Range in <b>xvar</b> to bin. Note that all particles outside
this grid will be discarded, even if <b>periodic=t</b>  (see below). [default:
<b>-2:2</b>]. </dd>

<dt><b>yrange=<i>xb:xe</i></b> </dt>
<dd>Range in <b>yvar</b> to bin [default: <b>-2:2</b>]. </dd>

<dt><b>zrange=<i>xb:xe</i></b> </dt>
<dd>Range
in <b>zvar</b> to bin [default: <b>-2:2</b>]. </dd>

<dt><b>xvar=</b><i>x-expression</i> </dt>
<dd>The value of <i>x-expression</i>
is gridded along the X axis. [default: <b>x</b>]. </dd>

<dt><b>yvar=</b><i>y-expression</i> </dt>
<dd>The value of
<i>y-expression</i> is gridded along the Y axis. [default: <b>y</b>]. </dd>

<dt><b>zvar=</b><i>z-expression</i> </dt>
<dd>The
value of <i>z-expression</i> is gridded along the Z axis [default: <b>z</b>]. </dd>

<dt><b>evar=<i>emissivity</i></b>
</dt>
<dd>Variable to denote emissivity (density if you wish) per particle. You can
select more than 1 expression, in which case different images will be written
out (only in <b>stack=f</b> mode) [default: <b>m</b>]. </dd>

<dt><b>svar=<i>smoothing</i></b> </dt>
<dd>Variable to denote
gaussian smoothing  </dd>

<dt><b>nx=<i>x-pixels</i></b> </dt>
<dd>Number of pixels along the X axis of the
cube [default: <b>64</b>]. </dd>

<dt><b>ny=<i>y-pixels</i></b> </dt>
<dd>Number of pixels along the Y axis of the
cube [default: <b>64</b>]. </dd>

<dt><b>nz=<i>z-pixels</i></b> </dt>
<dd>Number of pixels along the Z axis of the
cube [default: <b>64</b>]. </dd>

<dt><b>stack=t|f</b> </dt>
<dd>Should all snapshots from the input file be
stacked, or write one image per selected (see <b>times=</b>) time? [default: <b>f</b>].
</dd>

<dt><b>periodic=t|f</b> </dt>
<dd>If set true, smoothing results will be applied on a periodic
grid.  Particles that fell outside the x,y,z grid, however, are discarded
and never smoothed/aliased into the visible grid.  [Default: f] </dd>

<dt><b>normalize=t|f</b>
</dt>
<dd>If set, and if gaussian smoothing is applied (see svar=), the emission
(evar=) is normalized as to conserve it. [Default: t] </dd>
</dl>

<h2><a name='sect4' href='#toc4'>Examples</a></h2>
The following
example ... 
<h2><a name='sect5' href='#toc5'>Caveat</a></h2>
This program was cloned from <a href='snapgrid.1NEMO.html'><i>snapgrid(1NEMO)</i></a>
, and the keywords
stack= and multiple values for evar= have not been tested out. <p>
Unlike <a href='snapgrid.1NEMO.html'><i>snapgrid(1NEMO)</i></a>
,
this program is meant to use the 3 gridding variables in the same units.
The snapgridsmooth an x-y-vz cube is tricky. <p>
With normalized smoothing and
no periodic boundaries, the normalization factor for particles near the
edge the normalization factor is lower, since it still wants to preserve
the total emission. 
<h2><a name='sect6' href='#toc6'>Units</a></h2>
Units are maintained in the same way as in snapshots,
they don&rsquo;t have a specific name, but carry their normal meaning &rsquo;length&rsquo;,
&rsquo;velocity&rsquo; and &rsquo;mass&rsquo;. Since <i>snapgridsmooth</i> calculates space densities, its
units are formally &rsquo;mass&rsquo; per cubic &rsquo;length&rsquo; 
<h2><a name='sect7' href='#toc7'>See Also</a></h2>
<a href='snapgrid.1NEMO.html'>snapgrid(1NEMO)</a>
, <a href='uns_2dplot.1NEMO.html'>uns_2dplot(1NEMO)</a>
,
<a href='tsf.1NEMO.html'>tsf(1NEMO)</a>
, <a href='snapshot.5NEMO.html'>snapshot(5NEMO)</a>
, <a href='image.5NEMO.html'>image(5NEMO)</a>
 
<h2><a name='sect8' href='#toc8'>Author</a></h2>
Peter Teuben 
<h2><a name='sect9' href='#toc9'>Files</a></h2>
<br>
<pre>src/nbody/image  <tt> </tt>&nbsp;<tt> </tt>&nbsp;snapgridsmooth.c
</pre>
<h2><a name='sect10' href='#toc10'>Update History</a></h2>
<br>
<pre>1-nov-06<tt> </tt>&nbsp;<tt> </tt>&nbsp;V0.1: Created<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT/ES
6-nov-06<tt> </tt>&nbsp;<tt> </tt>&nbsp;V0.3: added normalize= and fixes for that<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Parameters</a></li>
<li><a name='toc4' href='#sect4'>Examples</a></li>
<li><a name='toc5' href='#sect5'>Caveat</a></li>
<li><a name='toc6' href='#sect6'>Units</a></li>
<li><a name='toc7' href='#sect7'>See Also</a></li>
<li><a name='toc8' href='#sect8'>Author</a></li>
<li><a name='toc9' href='#sect9'>Files</a></li>
<li><a name='toc10' href='#sect10'>Update History</a></li>
</ul>
</body>
</html>
