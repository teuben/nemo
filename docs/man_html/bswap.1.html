<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>BSWAP(1NEMO) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
bswap - swap bytes in a file 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>bswap</b> [parameter=value] 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<b>bswap</b>
swaps the bytes in a file. This can be useful if the file was copied between
different endian machines (e.g. Sparc-Solaris and pc-linux), and consists of
a homogeneous datatype. (most NEMO files, e.g. those made via <a href='filestruct.5NEMO.html'><i>filestruct(5NEMO)</i></a>

are notable example where you cannot use this technique, though NEMO&rsquo;s binary
files swap on-the-fly if they detect them to be originating from another
endian-type machine). <p>
This program also has a few keyword to aid benchmarking
file I/O and different sized word swapping speed. The reported speed will
be in Mswaps (mega word swaps per second). 
<h2><a name='sect3' href='#toc3'>Parameters</a></h2>
The following parameters
are recognized in any order if the keyword is also given: 
<dl>

<dt><b>in=</b> </dt>
<dd>Input file
to read and swap bytes of. No default. </dd>

<dt><b>out=</b> </dt>
<dd>Output filename for which all
the bytes have been swapped. If no filename given, data will not be written,
and CPU usage will be reported. Default: no output. </dd>

<dt><b>len=</b> </dt>
<dd>Itemlength in bytes
during swapping . Common are 2, 4 and 8, for which the code is optimized.
Any other (even) number can be handled too though. [Default: <b>2</b>]. </dd>

<dt><b>oneswap=t|f</b>
</dt>
<dd>One swap call? Only useful to set false under benchmark circumstances. [Default:
<b>t</b>]. </dd>

<dt><b>offset=</b> </dt>
<dd>Offset (in bytes) before which no swapping is done. [Default:
<b>0</b>]. </dd>

<dt><b>endian=</b> </dt>
<dd>If used, the input file will be assumed of this type of endian.
Options are thus &rsquo;big&rsquo; (e.g. sparc, powerpc) or &rsquo;little&rsquo; (e.g. i385)  endian. Depending
on what kind of machine you are, this could result in a  no-operation.  By
default this option is not used and swapping is always applied. </dd>

<dt><b>memcpy=t|f</b>
</dt>
<dd>Test swapping data as 8-byte doubles via memcpy. len=8 is required for this
to work. Default:f  </dd>

<dt><b>repeat=</b><i>repeat-count</i> </dt>
<dd>Number of times to repeat swapping
all the words,  only good for more accurate benchmarking. Default: 0 </dd>
</dl>

<h2><a name='sect4' href='#toc4'>Bugs</a></h2>
Be
careful with pipes, they don&rsquo;t seem to work on an input file yet. 
<h2><a name='sect5' href='#toc5'>Examples</a></h2>
The
following example will byte-swap a binary file with only 4-byte  data (INTEGER*4,
REAL*4) created using fortran unformatted I/O from the  following statement:
<br>
<pre><tt> </tt>&nbsp;<tt> </tt>&nbsp;PROGRAM junk
<tt> </tt>&nbsp;<tt> </tt>&nbsp;INTEGER MAXP,i,np,nv
<tt> </tt>&nbsp;<tt> </tt>&nbsp;PARAMETER (MAXP=100)
<tt> </tt>&nbsp;<tt> </tt>&nbsp;REAL x(MAXP), y(MAXP), z(MAXP)
<tt> </tt>&nbsp;<tt> </tt>&nbsp;np=10
<tt> </tt>&nbsp;<tt> </tt>&nbsp;nv=3
<tt> </tt>&nbsp;<tt> </tt>&nbsp;OPEN(1,FILE=&rsquo;junk.dat&rsquo;,FORM=&rsquo;unformatted&rsquo;)
<tt> </tt>&nbsp;<tt> </tt>&nbsp;WRITE(1) np,nv
<tt> </tt>&nbsp;<tt> </tt>&nbsp;WRITE(1) (x(i),i=1,np),(y(i),i=1,np),(z(i),i=1,np)
<tt> </tt>&nbsp;<tt> </tt>&nbsp;CLOSE(1)
<tt> </tt>&nbsp;<tt> </tt>&nbsp;END
</pre>with <a href='unfio.1NEMO.html'><i>unfio(1NEMO)</i></a>
 one can see the blocks, and optionally data: <br>
<pre>    $ unfio junk.dat
    1   8
    2   120
    $ unfio junk.dat block=1
    10
    3
</pre>If this file was created on a machine of which the endianism is reversed
from the machine where it is being read, the <b>unfio</b> would have returned
nothing, it would need to be swapped with <b>len=4</b>: <br>
<pre>    $ bswap junk.dat junks.dat 4
</pre>This above example is a bit contrived, since <a href='unfio.1NEMO.html'><i>unfio(1NEMO)</i></a>
 also has a <b>swap=</b>
keyword to read files from the opposite endianism machine. 
<h2><a name='sect6' href='#toc6'>See Also</a></h2>
<a href='filestruct.5NEMO.html'>filestruct(5NEMO)</a>
,
<a href='unfio.1NEMO.html'>unfio(1NEMO)</a>
, <a href='dd.1.html'>dd(1)</a>
, <a href='bswap.3NEMO.html'>bswap(3NEMO)</a>
 
<h2><a name='sect7' href='#toc7'>Author</a></h2>
Peter Teuben 
<h2><a name='sect8' href='#toc8'>Update History</a></h2>
<br>
<pre>27-Feb-94<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.1b Documented<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
23-feb-97<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.3 allow offset before swapping starts<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
15-dec-98<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.4 add streaming mode to I/O    <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
6-jun-01<tt> </tt>&nbsp;<tt> </tt>&nbsp;more verbosities, plus an example<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
30-sep-03<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.5 added memcpy=, repeat=<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
20-sep-05<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.6 added endian=<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Parameters</a></li>
<li><a name='toc4' href='#sect4'>Bugs</a></li>
<li><a name='toc5' href='#sect5'>Examples</a></li>
<li><a name='toc6' href='#sect6'>See Also</a></li>
<li><a name='toc7' href='#sect7'>Author</a></li>
<li><a name='toc8' href='#sect8'>Update History</a></li>
</ul>
</body>
</html>
