<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>COMMON(3NEMO) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
common - access routines for high speed I/O common blocks 
<h2><a name='sect1' href='#toc1'>Synopsys</a></h2>
<br>
<pre>set_common(cid, byte_size)int cid, byte_size;
int get_common(cid, elt_size,
bucket_size)int cid, elt_size, bucket_size;
byte *open_common(cid)int cid;
close_common(cid)int
cid;
Descriptioncommon provide a set of simple interface routines to safely
define and access a common block in memory which can be used for high speed
I/O operations. A common block can be useful to prevent frequent allocation
and de-allocation of memory in a long serialized  operation, or to prevent
allocating large buffers when multi-dimensional data need to be transposed
between disk and memory (see e.g. Iget_snap(3NEMO)). Although a common block
will have a default size (commonly 1024 bytes), one can re-define its size
with set_common(cid, byte_size), with cid the common id (any non-zero integer
up to a maximum define by the library code), and byte_size the size of
the common in bytes. 
The address of a common block can be obtained with
 open_common(cid), however, it is often useful how many buckets of a certain
size fit in this common block.  get_common(cid, elt_size, bucket_size) will
return this. 
Finally, close_common(cid) should be called to free the common
for subsequent use. 
ExamplesHere is some code to transfer data from a large
array to a small array using random access I/O routines: 
    int n;
    float *fp;
    set_common(0, 8196);
    n = get_common(0, sizeof(float), nx);
    fp = open_common(0);
    ..
    close_common(0);
    
</pre>
<h2><a name='sect4' href='#toc4'>Bugs</a></h2>
The common id (<i>cid</i>) is not used yet, just one "blank" common can be
defined. 
<h2><a name='sect5' href='#toc5'>Author</a></h2>
Peter Teuben 
<h2><a name='sect6' href='#toc6'>See Also</a></h2>
<a href='filestruct.3.html'>filestruct(3NEMO)</a>
 
<h2><a name='sect7' href='#toc7'>Update History</a></h2>
<br>
<pre>7-jan-99<tt> </tt>&nbsp;<tt> </tt>&nbsp;developed for get_snap/put_snap              <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsys</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Examples</a></li>
<li><a name='toc4' href='#sect4'>Bugs</a></li>
<li><a name='toc5' href='#sect5'>Author</a></li>
<li><a name='toc6' href='#sect6'>See Also</a></li>
<li><a name='toc7' href='#sect7'>Update History</a></li>
</ul>
</body>
</html>
