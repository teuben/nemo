<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>CCDELLINT(1NEMO) manual page</title>
</head>
<body bgcolor='white'>
This HTML automatically generated with <A HREF=http://manpages.ubuntu.com/manpages/bionic/man1/rman.1.html>rman</A> for <A HREF=https://astronemo.readthedocs.io>NEMO</A><br>
<a href='#toc'>Table of Contents</a><p>

<p> 
<h2><a name='sect0' href='#toc0'>Name</a></h2>
ccdellint - integrate map or cube in elliptical (like) rings 
<p> 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>ccdellint</b>
[parameter=value] 
<p> 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<b>ccdellint</b> integrates a Position-Position-Velocity
(PPV) cube in elliptical annuli in the first two dimensions, reducing it
to a Radius-Velocity (RV) image. <p>
This program also handles 2D images, in
which case the output is a table, consisting of 6 columns: <br>
<pre>   rad = outer radius of the annulus;
   npix = number of pixels in the annulus;
   int = average in the annulus; (no support for median yet)
   rms = rms in the annulus;
   sum = sum in the annulus;
   cumsum = cumulative sum for all annuli so far.
   
</pre>This is the same order and meaning as the table from <a href='ellint.1MIRIAD.html'><i>ellint(1MIRIAD)</i></a>
. <p>
The
particle based program <a href='snapshell.1.html'><i>snapshell(1NEMO)</i></a>
 does something similar in 3D. <p>
The
metric of how the radius is computed can be changed using the <b>metric=</b> keyword.
For metric=2 these would be called true rings, for metric=1 a square. 
<p> 
<h2><a name='sect3' href='#toc3'>Parameters</a></h2>

The following parameters are recognized in order; they may be given in
any order if the keyword is also given. Use <b>--help</b> to confirm this man page
is up to date.  
<dl>

<dt><b>in=</b> </dt>
<dd>input data cube. No default.    </dd>

<dt><b>radii=</b> </dt>
<dd>radii of the ring
boundaries (Nring+1). See <b>metric=</b> below for different ways to change the
metric of computing a radius. No default. </dd>

<dt><b>pa=</b> </dt>
<dd>position angle of disk, astronomical
convention. [0]    </dd>

<dt><b>inc=</b> </dt>
<dd>inclination angle of disk [0]    </dd>

<dt><b>center=</b> </dt>
<dd>rotation
center (mapcenter if left blank, 0,0=lower left) </dd>

<dt><b>vsys=</b> </dt>
<dd>systemic velocity.
Only needed for cube. [0]      </dd>

<dt><b>blank=</b> </dt>
<dd>Value of the blank pixel to be ignored
[0.0] </dd>

<dt><b>norm=</b> </dt>
<dd>Normalize values to number of pixels in ring. This only has an
effect on the image written, not on the table, which uses both.  [t] </dd>

<dt><b>out=</b>
</dt>
<dd>RV image, useful for 3D cubes. If not given, no image will be written. Default:
not used </dd>

<dt><b>tab=</b> </dt>
<dd>Output table, useful for 2D images. If not give, no table
will be written. Default: not used </dd>

<dt><b>rscale=</b> </dt>
<dd>Convenience factor by which radii
are multiplied for display in the table. For FITS images this is usually
3600.  [1] </dd>

<dt><b>iscale=</b> </dt>
<dd>Convenience factor by which intensities are multiplied
for display in the table. For FITS images this is usually 1 / (1.133*(beam/pixel)**2).
 [1] </dd>

<dt><b>metric=N</b>  </dt>
<dd>The exponent of the r^N = x^N + y^N metric to compute a radius.
N=2 is the traditional cartesian [2] 
<p> </dd>
</dl>

<h2><a name='sect4' href='#toc4'>DISKY vs BOXY</a></h2>

<p> The parameter <b>metric=</b>
described the type of ellipse to be integrated over. For metric&lt;2 disky isophotes
are used, for metric&gt;2 they are boxy. See also Athanassoula et al. 1990 MNRAS_245:130,
although they used c0=metric-2. 
<p> 
<h2><a name='sect5' href='#toc5'>Caveats</a></h2>
As with most of these codes, the
center of pixel determines to which ring the pixel belongs in it total.
<p>
A value of <b>metric=1</b> can be interesting, though the position angle may need
to be adjusted, as the box is mis-aligned by 45 degrees from the major axis.
For large values of <b>metric</b> the box is aligned along the major axis. 
<p> 
<p> 
<h2><a name='sect6' href='#toc6'>Examples</a></h2>
Example
of generating a gaussian profile from a 2D gauss image <br>
<pre>% ccdgen out=- object=gauss spar=1,50 size=256,256 | ccdellint - 0:100:5 tab=-
  5 80 0.997464 0.00145455 79.7971 79.7971
  10 236 0.987487 0.00426892 233.047 312.844
  ...
  95 2924 0.180558 0.0096899 527.951 13127.6
  100 3056 0.149281 0.00837475 456.204 13583.8
</pre><p>
For a map in K.km/s that needs to be converted to Jy.km/s, with Jy/K=2.5 and
a beam of 12.65 arcsec and 5.5 pixels there are 6 points per beam, therefore
the rscale=3600 is needed to view the table in arcsec, and iscale=2.5/6
for viewing in Jy.km/s: <br>
<pre>  % fitsccd M100_97520_99703.mom0.fits  - |\
       ccdellint - 0:250/3600:10/3600 pa=150 inc=40 center=45,45 rscale=3600
iscale=1.41/0.65/6.00 tab=-
  10 7 16.3524 0 114.467 114.467
  20 24 11.824 0 283.776 398.243
  ..
  240 290 0.0505762 0 14.6671 3057.86
  250 241 -0.0573514 0 -13.8217 3044.04
  
</pre>
<p> <p>
Some examples of PPV-&gt;RV <br>
<pre>  % fitsccd ngc6503.cube.fits - |\
      ccdellint - 0:1000/3600:10/3600 pa=-60 inc=40 center=163,122 out=ngc6503.rv.ccd
norm=f
</pre>
<h2><a name='sect7' href='#toc7'>See Also</a></h2>
<a href='ccdzshift.1.html'>ccdzshift(1NEMO)</a>
, <a href='ellipse.1.html'>ellipse(1NEMO)</a>
, <a href='snapshell.1.html'>snapshell(1NEMO)</a>
, <a href='image.5.html'>image(5NEMO)</a>


<p> 
<h2><a name='sect8' href='#toc8'>Files</a></h2>
NEMO/src/image/misc/ccdellint.c 
<p> 
<h2><a name='sect9' href='#toc9'>Author</a></h2>
Peter Teuben 
<p> 
<h2><a name='sect10' href='#toc10'>Update History</a></h2>
<br>
<pre>30-nov-2020<tt> </tt>&nbsp;<tt> </tt>&nbsp;V0.1 drafted<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
23-nov-2022<tt> </tt>&nbsp;<tt> </tt>&nbsp;V0.3 confirmed 2D images, added table output<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
6-dec-2022<tt> </tt>&nbsp;<tt> </tt>&nbsp;V0.6 use metric= to allow other radius methods<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Parameters</a></li>
<li><a name='toc4' href='#sect4'>DISKY vs BOXY</a></li>
<li><a name='toc5' href='#sect5'>Caveats</a></li>
<li><a name='toc6' href='#sect6'>Examples</a></li>
<li><a name='toc7' href='#sect7'>See Also</a></li>
<li><a name='toc8' href='#sect8'>Files</a></li>
<li><a name='toc9' href='#sect9'>Author</a></li>
<li><a name='toc10' href='#sect10'>Update History</a></li>
</ul>
</body>
</html>
