<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>MANIPULATOR(3falcON) manual page</title>
</head>
<body bgcolor='white'>
HTML automatically generated with <A HREF=http://manpages.ubuntu.com/manpages/bionic/man1/rman.1.html>rman</A><br>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
manipulator - plugins for N-body simulators performing work on a snapshot

<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<br>
<pre>#include &lt;public/manip.h&gt;#include &lt;public/defman.h&gt;namespace {
  using namespace falcON;
    class foobar : public manipulator {
      public:
      const char* name() const;
      const char* describe const;
      fieldset need() const;
      fieldset change() const;
      fieldset provide() const;
   
      bool manipulate(const snapshot*) const;
      foobar(const double *pars, int npar, const char *file);
      !foobar();
   };
}
__DEF__MAN(foobar)
</pre>The <i>foobar</i> class gets compiled into a shared object <i>foobar.so</i>, and is required
to have a specific type of constructor and a number of  member functions.
The __DEF__MAN macro will then create an extern "C"  function, called <i>inimanip</i>,
which can be loaded by the dynamic  object loaded (see also <a href='loadobj.3.html'><i>loadobj(3NEMO)</i></a>
).
It will instantiate a <b>foobar</b> object, and made available to the code. <p>

<p> On
the "server" side, i.e. the code that needs to initialize and distribute
the work, the <b>Manipulator</b> class constrols this. 
<p> <br>
<pre> class Manipulator;
</pre>
<p> 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<i>manipulator</i>s are plugins that can be used to perform action(s)
on a snapshots that are not known at compile time, but can be dynamically
choosen by the user at run-time. Similar to <a href='potential.5.html'><i>potential(5NEMO)</i></a>
 and  <a href='acceleration.5.html'><i>acceleration(5NEMO)</i></a>
,
they are code (in this case a C++ class, see the example above) that has
been pre-compiled and can be loaded at run-time, based on a descriptive name
and an optional set of parameters and files. <p>
From a user&rsquo;s perspective a
name must be given to find the manipulator (typically the class name),
as well as an optional set of parameters and files for that manipulator.
As usual these will present them to the user as a set of keywords: <br>
<pre>manipname=<tt> </tt>&nbsp;<tt> </tt>&nbsp;name of the manipulator (multiple can be given, see below)
manippars=<tt> </tt>&nbsp;<tt> </tt>&nbsp;a set of parameters this manipulator will understand (optional)
manipfile=<tt> </tt>&nbsp;<tt> </tt>&nbsp;a set of character strings, ususally one or more files (optional)
manippath=<tt> </tt>&nbsp;<tt> </tt>&nbsp;search path (or use $MANIPPATH if left blank???)
manipinit=<tt> </tt>&nbsp;<tt> </tt>&nbsp;? manipulate initial snapshot ? [specific to gyrfalcON]
</pre>Multiple manipulator can be given, and are processed in the order given
on the <b> manipname= </b> keyword. Here is an example: <br>
<pre>manipname=name1+name2+name3manippars=";1,2,3;"manipfile="file1;;file3a,file3b"</pre>where
the first manipulator has no parameters, and one file, the 2nd manipulator
has 3 parameters given, and no file, and the third has no parameters and
2 files.  Instead of the <b>;</b> symbol to separate parameters or files, a single
space (not a tab) can also be used. For manipulator names the <b>,</b> symbol can
also be used to separate their names. 
<p> 
<h2><a name='sect3' href='#toc3'>Examples</a></h2>
Examples can be found within
the <a href='gyrfalcON.1.html'><i>gyrfalcON(1NEMO)</i></a>
 source tree. Here is an example, actually taken from
the glnemo source tree, of the integrator able to send snapshot data, as
they are produced, into the <a href='glnemo.1.html'><i>glnemo(1NEMO)</i></a>
 display server via a manipulator:
<br>
<pre>  host1% mkexpdisk disk1 50000
  host1% gyrfalcon in=disk1 out=disk1.out step=100 manipname=glnemo
  host2% glnemo server=host1
</pre>This particular manipulator is only using <b>manippars</b> as an optional keyword,
and is interpreted as a single integer denoting the port number on which
glnemo is talking (<b>port=444</b> in glnemo) 
<p> 
<h2><a name='sect4' href='#toc4'>Environment</a></h2>
The environment variable
<b>MANIPPATH</b> can be used to search for accelerations in other than the local
directory. This feature is however not implemented everywhere, hence the
<b>manippath=</b> keyword. 
<h2><a name='sect5' href='#toc5'>See Also</a></h2>
<a href='acceleration.5.html'>acceleration(5NEMO)</a>
, <a href='potential.5.html'>potential(5NEMO)</a>
, <a href='gyrfalcON.1.html'>gyrfalcON(1NEMO)</a>
,
<a href='loadobj.5.html'>loadobj(5NEMO)</a>
 <p>
<a href='http://www.tntnet.org/cxxtools.bhtm'>http://www.tntnet.org/cxxtools.bhtm</a>
 for another c++ wrapper
example to loadobj 
<h2><a name='sect6' href='#toc6'>Author</a></h2>
Walter Dehnen 
<h2><a name='sect7' href='#toc7'>Files</a></h2>
<br>
<pre>NEMO/usr/dehnen/falcON<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;tree code that accepts manipulators, plus some examples
NEMO/src/nbody/glnemo/manipulators<tt> </tt>&nbsp;<tt> </tt>&nbsp;example glnemo manipulator
NEMO/usr/dehnen/falcON/manip<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;repository of manipulator files
NEMO/obj/manip<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;repository of manipulator files
</pre>
<h2><a name='sect8' href='#toc8'>Update History</a></h2>
<br>
<pre>7-nov-05<tt> </tt>&nbsp;<tt> </tt>&nbsp;initial man page written<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
12-jul-06<tt> </tt>&nbsp;<tt> </tt>&nbsp;&rsquo;#&rsquo; no longer allowed as separator, but space is<tt> </tt>&nbsp;<tt> </tt>&nbsp;WD
</pre>
<p> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Examples</a></li>
<li><a name='toc4' href='#sect4'>Environment</a></li>
<li><a name='toc5' href='#sect5'>See Also</a></li>
<li><a name='toc6' href='#sect6'>Author</a></li>
<li><a name='toc7' href='#sect7'>Files</a></li>
<li><a name='toc8' href='#sect8'>Update History</a></li>
</ul>
</body>
</html>
