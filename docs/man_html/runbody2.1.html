<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>RUNBODY2(1NEMO) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
runbody2 - Ahmad-Cohen N-body code 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<br>
<pre>runbody2 [parameter=value]
nbody2   &lt; nbody2.in
</pre>
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<b>runbody2</b> is a frontend to the NBODY2 fortran program, running
the code in a run directory where all files are stored. <p>
The new version
2.x interface tries to mimic to run nbody1 in virial units with a default
input and output. In previous versions the defaults were more geared towards
running the classic interface where data were scaled and times were measured
in crossing times, making comparisons with other codes in NEMO much harder.
This however means it is now more work to make nbody1 run in classic mode.
Parameters names and meaning have not changed, except for the introduction
of kz(19), to work in code (virial) units. 
<h2><a name='sect3' href='#toc3'>Parameters</a></h2>
The following parameters
are recognized in any order if the keyword is also given: 
<dl>

<dt><b>in=</b> </dt>
<dd>input file
(optional, see <b>nbody=</b> to generate your own input  data on the fly). If input
data are given, it forces <a href='KZ.4.html'>KZ(4)</a>
=2 (see  below).  Can also be a directory,
in which case the input file for a restart run is assumed to be the default
(fort.4)  in native  format. Default: not used. </dd>

<dt><b>outdir=</b> </dt>
<dd>Output run directory.
This directory should not exist, although can be overriden with NEMO&rsquo;s standard
<b>error=</b> system keyword. No default. </dd>

<dt><b>nbody=</b> </dt>
<dd>Total particle number. The maximum
value (NMAX) is compiled into the NBODY2 program. Note that even if <i>in=</i>
is supplied, this parameter is needed. No default. </dd>

<dt><b>nfix=</b> </dt>
<dd>Output frequency
of data save or binaries; KZ(3 &amp; 6) [Default: 1] </dd>

<dt><b>nrand=</b> </dt>
<dd>Random number sequence
skip. [Default: 0] </dd>

<dt><b>nnbmax=</b> </dt>
<dd>Maximum number of neighbours. Should be less then
LMAX, which  is compiled into the NBODY2 program. [Default: 40] </dd>

<dt><b>nrun=</b> </dt>
<dd>Run
identification index. [Default: 1] </dd>

<dt><b>etai=</b> </dt>
<dd>Time-step parameter for irregular
force polynomial. [Default: 0.02] </dd>

<dt><b>etar=</b> </dt>
<dd>Time-step parameter for regular force
polynomial. [Default: 0.04] </dd>

<dt><b>rs0=</b> </dt>
<dd>Initial radius of neighbour sphere. [Default:
1] </dd>

<dt><b>deltat=</b> </dt>
<dd>Output time interval in units of the crossing. [Default: 0.25]
</dd>

<dt><b>tcrit=</b> </dt>
<dd>Termination time in units of the crossing time. [Default: 5] </dd>

<dt><b>qe=</b>
</dt>
<dd>Energy tolerance (restart if DE/E &gt; 5*QE &amp; <a href='KZ.2.html'>KZ(2)</a>
 &gt; 1) [Default: 2e-5] </dd>

<dt><b>eps=</b>
</dt>
<dd>Potential softening parameter      [Default: 0.01] </dd>

<dt><b>kz=</b> </dt>
<dd>Non-zero options for
alternative paths (see below)  [Default: 1,2,1,2,0,0,0,0,0,0,1,0,0,0,0,1,0,0,1,0]
<br>
<pre> 1  <tt> </tt>&nbsp;<tt> </tt>&nbsp;COMMON save on unit 1 at end of run (=2: every 100*NMAX steps) [1]
 2  <tt> </tt>&nbsp;<tt> </tt>&nbsp;COMMON save on unit 2 at output (=1); restart if DE/E &gt; 5*QE (=2) [2]
 3  <tt> </tt>&nbsp;<tt> </tt>&nbsp;Basic data written to unit 3 at output time (frequency NFIX) [1]
 4 <tt> </tt>&nbsp;<tt> </tt>&nbsp;Initial conditions on unit 4 (=1: output; =2: input) [2]
 5  <tt> </tt>&nbsp;<tt> </tt>&nbsp;Initial conditions (=0: uniform &amp; isotropic; =1: Plummer  model) [0]
 6  <tt> </tt>&nbsp;<tt> </tt>&nbsp;Output of significant binaries (=2: frequency NFIX) [0]
 7  <tt> </tt>&nbsp;<tt> </tt>&nbsp;Lagrangian radii (=1: unit 6; =2: unit 7; =3: both types) [0]
 8  <tt> </tt>&nbsp;<tt> </tt>&nbsp;Core radius &amp; density centre (N &gt; 20 only) [0]
 9  <tt> </tt>&nbsp;<tt> </tt>&nbsp;Individual bodies printed at output time (MIN(5**KZ(9),N)) [0]
 10  <tt> </tt>&nbsp;<tt> </tt>&nbsp;No unique density centre (skips velocity modification of RS(I)) [0]
 11  <tt> </tt>&nbsp;<tt> </tt>&nbsp;Modification of ETAI &amp; ETAR by tolerance QE [1]
 12  <tt> </tt>&nbsp;<tt> </tt>&nbsp;Inelastic mergers (&gt;1: diagnostic output) [0]
 13  <tt> </tt>&nbsp;<tt> </tt>&nbsp;Escaper removal (R &gt; 2*RTIDE; RTIDE = 10*RSCALE) [0]
 14  <tt> </tt>&nbsp;<tt> </tt>&nbsp;Skip full predictor loop if NNB &gt; KZ(14) = &lt;NNB&gt; &amp; KZ(14) &gt; [0]
 15  <tt> </tt>&nbsp;<tt> </tt>&nbsp;External potential (=1: Plummer model; =2: logarithmic potential)
[0]
 16  <tt> </tt>&nbsp;<tt> </tt>&nbsp;No scaling of initial conditions [1]
 17  <tt> </tt>&nbsp;<tt> </tt>&nbsp;Generation of two subsystems (merger experiment) [0]
 18  <tt> </tt>&nbsp;<tt> </tt>&nbsp;Adjustment of coordinates &amp; velocities to c.m. condition [0]
 19  <tt> </tt>&nbsp;<tt> </tt>&nbsp;Use code units for tcrit/deltat [1]
 20  <tt> </tt>&nbsp;<tt> </tt>&nbsp;Not used at present [0]
</pre></dd>

<dt><b>xtpar1=</b> </dt>
<dd>Mass of external Plummer model (KZ(15) = 1; [Default: 1] </dd>

<dt><b>xtpar2=</b>
</dt>
<dd>Length scale for Plummer model (KZ(15) = 1) [Default: 2] </dd>

<dt><b>zmgas=</b> </dt>
<dd>Mass scale
for logarithmic potential (KZ(15) = 2) </dd>

<dt><b>rgas=</b> </dt>
<dd>Length scale for logarithmic
potential (KZ(15) = 2) </dd>

<dt><b>alphas=</b> </dt>
<dd>Power-law index for initial mass function
(routine DATA) [Default: 2.3] </dd>

<dt><b>body1=</b> </dt>
<dd>Maximum particle mass before scaling
   [Default: 5.0] </dd>

<dt><b>bodyn=</b> </dt>
<dd>Minimum particle mass before scaling    [Default:
1.0] </dd>

<dt><b>q=</b> </dt>
<dd>Virial ratio (q=0.5 for virial equilibrium)   [Default: 0] </dd>

<dt><b>vxrot=</b>
</dt>
<dd>XY-velocity scaling factor (&gt; 0 for solid-body rotation) [Default: 0] </dd>

<dt><b>vzrot=</b>
</dt>
<dd>Z-velocity scaling factor (not used if VXROT = [Default: 0] </dd>

<dt><b>rbar=</b> </dt>
<dd>Virial
radius in pc (for scaling to physical [Default: 1] </dd>

<dt><b>zmbar=</b> </dt>
<dd>Mean mass in
solar units    [Default: 1] </dd>

<dt><b>xcm=</b> </dt>
<dd>Displacement for subsystem (routine SCALE;
KZ(17))  </dd>

<dt><b>ecc=</b> </dt>
<dd>Eccentricity of relative motion for subsystem (ECC =&lt; 1) </dd>
</dl>

<h2><a name='sect4' href='#toc4'>Examples</a></h2>
<b>nbody2</b>
can also be used to generate snapshots. Here is an example to create a 1024
body homogeneous sphere in the directory run1 and a plummer sphere in run2.
<br>
<pre>    runbody2 "" run1 1024 tcrit=0 kz=0,0,1
    u3tos run1/OUT3 run1/run1.snap
    runbody2 "" run2 1024 tcrit=0 kz=0,0,1,0,1
    u3tos run2/OUT3 run2/run2.snap
</pre><p>
You can also supply existing NEMO snapshots as initial conditions <br>
<pre>    runbody2 run4.snap run4 tcrit=0 kz=0,0,1,2
        (this option doesn&rsquo;t work yet)
</pre>
<h2><a name='sect5' href='#toc5'>Bugs</a></h2>
Scaling can cause output to become out of bounds. 
<h2><a name='sect6' href='#toc6'>See Also</a></h2>
<a href='nbody2.1.html'>nbody2(1NEMO)</a>
,
<a href='nbody0.1.html'>nbody0(1NEMO)</a>
, <a href='runbody1.1.html'>runbody1(1NEMO)</a>
, <a href='snapshot.5.html'>snapshot(5NEMO)</a>
, <a href='u3tos.1.html'>u3tos(1NEMO)</a>
, <a href='stou4.1.html'>stou4(1NEMO)</a>


<h2><a name='sect7' href='#toc7'>Files</a></h2>
<br>
<pre>$NEMO/src/nbody/evolve/aarseth/tools<tt> </tt>&nbsp;<tt> </tt>&nbsp;code
$outdir/fort.1                       <tt> </tt>&nbsp;<tt> </tt>&nbsp;restart dump (compile time dep. size)
$outdir/fort.2                         <tt> </tt>&nbsp;<tt> </tt>&nbsp;restart dump (compile time dep. size)
$outdir/fort.4                         <tt> </tt>&nbsp;<tt> </tt>&nbsp;restart dump (compile time dep. size)
$outdir/OUT3                        <tt> </tt>&nbsp;<tt> </tt>&nbsp;particle dump (see u3tos(1NEMO))
AuthorPeter Teuben Update History
15-jun-97<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.0 Created<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
15-jul-97<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.2 out= now outdir=, nbody= now required value<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
5-mar-98<tt> </tt>&nbsp;<tt> </tt>&nbsp;readying for new release<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
17-mar-06<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.4 using fullname for in=<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
9-feb-2019<tt> </tt>&nbsp;<tt> </tt>&nbsp;V2.0 better defaults for snapshot input<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Parameters</a></li>
<li><a name='toc4' href='#sect4'>Examples</a></li>
<li><a name='toc5' href='#sect5'>Bugs</a></li>
<li><a name='toc6' href='#sect6'>See Also</a></li>
<li><a name='toc7' href='#sect7'>Files</a></li>
<li><a name='toc8' href='#sect8'>Author</a></li>
<li><a name='toc9' href='#sect9'>Update History</a></li>
</ul>
</body>
</html>
