<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>VELCUBE(1NEMO) manual page</title>
</head>
<body bgcolor='white'>
HTML automatically generated with <A HREF=http://manpages.ubuntu.com/manpages/bionic/man1/rman.1.html>rman</A><br>
<a href='#toc'>Table of Contents</a><p>

<p> 
<h2><a name='sect0' href='#toc0'>Name</a></h2>
velcube - create a data cube from a velocity field 
<p> 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>velcube</b>
[parameter=value] 
<p> 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<b>velcube</b> creates a theoretical position-position-velocity
data cube with signal derived from a velocity field (required) surface
density and velocity dispersion map (both optional). <p>

<p> 
<h2><a name='sect3' href='#toc3'>Parameters</a></h2>
 The following
parameters are recognized in order; they may be given in any order if the
keyword is also given. Use <b>--help</b> to confirm this man page is up to date. 

<dl>

<dt><b>out=</b> </dt>
<dd>Output file name (a cube) in <a href='image.5.html'><i>image(5NEMO)</i></a>
 format.  The X,Y coordinates
will be inherited from the input velocity field, the Z coordinates set
via <b>nz=</b>  and <b>zrange=</b> (see below). No default. </dd>

<dt><b>invel=</b> </dt>
<dd>Input velocity field.
No default. This map </dd>

<dt><b>inden=</b> </dt>
<dd>Input surface density (optional).  Should be
0 or positive Negative densities are skipped and reported. </dd>

<dt><b>insig=</b> </dt>
<dd>Input
velocity dispersion map (optional). Should be 0 or positive Negative dispersions
are skipped and reported. Zero dispersion amounts to only 1 slice to be
populated. </dd>

<dt><b>zrange=</b><i>low:high</i> </dt>
<dd>Range in (Z) velocity. The lower value must really
be lower than the higher value.  [-2:2]. </dd>

<dt><b>nz=</b> </dt>
<dd>Number of gridding pixels in
Z [64]   </dd>

<dt><b>sigdefault=</b> </dt>
<dd>Default (constant) velocity dispersion in case no
dispersion map is given. [0]. 
<p> </dd>
</dl>

<h2><a name='sect4' href='#toc4'>Examples</a></h2>
A model velocity field can be easily
made with <a href='ccdvel.1NEM0.html'><i>ccdvel(1NEM0)</i></a>
, and  using the <b>amp=t</b> keyword density and dispersion
(sigma) maps can also be created. Another way to create a smooth velocity
field is using  <a href='rotcurshape.1.html'><i>rotcurshape(1NEMO)</i></a>
 using a 0 input map and fixing all fittable
parameters. The resulting output residual map then contains -1 times the
desired velocity field. <p>
<br>
<pre>  nemoinp 0:100:1 &gt; map1.radt
  tabmath map1.radt - "%1/sqrt(40+%1*%1)" all &gt; map1.velt
  ccdvel out=map1.vel radii=@map1.radt vrot=@map1.velt pa=30 inc=60 size=256
</pre><p>
Here is an example of creating a (0/1) mask cube based on where you expect
emission from a rotating disk given the geometry <br>
<pre>ccdvel out=$tmp.d radii=0,$r0,$r1 vrot=1,1,1      inc=$inc pa=$pa size=$nx
cell=$cell amp=t
ccdvel out=$tmp.v radii=0,$r0,$r1 vrot=0,$v1,$v1  inc=$inc pa=$pa size=$nx
cell=$cell amp=f vsys=$vsys
ccdvel out=$tmp.s radii=0,$r0,$r1 vrot=100,100,50 inc=$inc pa=$pa size=$nx
cell=$cell amp=t
velcube - $tmp.v $tmp.d zrange=${vsys}-5*${nz}:${vsys}+5*${nz} nz=$nz sigdefault=$sig
|\
  ccdmath - -  &rsquo;ifgt(%1,0,1,0)&rsquo; |\
  ccdfits - $mask refmap=$refmap refaxis=1,2,3 crpix=$nx/2,$nx/2,$nz/2 cdelt=-$cell/3600,$cell/3600,$chan

</pre>where a $refmap was used to inherit the WCS from. 
<p> 
<h2><a name='sect5' href='#toc5'>See Also</a></h2>
<a href='ccdvel.1.html'>ccdvel(1NEMO)</a>

, <a href='ccdmath.1.html'>ccdmath(1NEMO)</a>
 , <a href='rotcurshape.1.html'>rotcurshape(1NEMO)</a>
 
<p> 
<h2><a name='sect6' href='#toc6'>Files</a></h2>
src/image/rotcur/velcube.c 
<p>

<h2><a name='sect7' href='#toc7'>Author</a></h2>
Peter Teuben 
<p> 
<h2><a name='sect8' href='#toc8'>Update History</a></h2>
<br>
<pre>29-May-04<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.0 Created<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
6-may-2021<tt> </tt>&nbsp;<tt> </tt>&nbsp;Add full example<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Parameters</a></li>
<li><a name='toc4' href='#sect4'>Examples</a></li>
<li><a name='toc5' href='#sect5'>See Also</a></li>
<li><a name='toc6' href='#sect6'>Files</a></li>
<li><a name='toc7' href='#sect7'>Author</a></li>
<li><a name='toc8' href='#sect8'>Update History</a></li>
</ul>
</body>
</html>
