<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>RUNBODY6(1NEMO) manual page</title>
</head>
<body bgcolor='white'>
HTML automatically generated with <A HREF=http://manpages.ubuntu.com/manpages/bionic/man1/rman.1.html>rman</A><br>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
runbody6 - Hermite N-body code with optional stellar evolution, NEMO
frontend to nbody6 and nbody6++ 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<br>
<pre>runbody6 [parameter=value]
nbody6   &lt; nbody6.in
nbody6++   &lt; nbody6.in
</pre>
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<b>runbody6</b> is a NEMO frontend to the Aarseth family NBODY6(++)
program. It creates a run directory, prepares a parameter input file, and
optionally input <i>(<a href='snapshot.5.html'>snapshot(5NEMO)</i></a>
 data, and runs the NBODY6(++) program.
This can be particularly useful if you need to run a lot of simulations
unattended. <p>
Note that this front-end is not yet designed to run every possible
way in which NBODY6++ can be run, particularly re-runs, but it most useful
to run initial conditions from a NEMO <a href='snapshot.5.html'><i>snapshot(5NEMO)</i></a>
 file. <p>
Although the
<b>kz=</b> vector can be specified, an alternative way is the indexed parameter
access method that <a href='getparam.3.html'><i>getparam(3NEMO)</i></a>
 provides, which overrides the default
<b>kz=</b>. For example to turn off KS, use <br>
<pre>      KZ15=0 KZ30=0
</pre>note the all-caps name of these indexed keywords. Since in NBODY6++ this
vector has 50 elements, overriding them with an indexed parameter may be
easier. It also bypasses any decisions of using the correct default for
certain KZ&rsquo;s that is done in the kz= vector. For example, for nbody6=1 the
default value for kz(22)=2 will be reset to kz(22)=3, but by setting KZ22=2
you can cheat and override these. 
<h2><a name='sect3' href='#toc3'>Parameters</a></h2>
The following parameters are
recognized in any order if the keyword is also given:  
<dl>

<dt><b>in=</b> </dt>
<dd>input file (optional,
see <b>nbody=</b> to generate your own input  data on the fly). If input data are
given, it forces KZ(22)=2 (see  below).   Default: not used. </dd>

<dt><b>outdir=</b> </dt>
<dd>Output
run directory. This directory should not exist, although can be overriden
with NEMO&rsquo;s standard <b>error=</b> system keyword. No default. </dd>

<dt><b>nbody=</b> </dt>
<dd>Total particle
number. The maximum value (NMAX) is compiled into the NBODY4 program. Note
that even if <i>in=</i> is supplied, this parameter is needed. No default. </dd>

<dt><b>nfix=</b>
</dt>
<dd>Output frequency of data save or binaries; KZ(3 &amp; 6) [Default: 1] </dd>

<dt><b>nrand=</b>
</dt>
<dd>Random number sequence skip. [Default: 0] </dd>

<dt><b>nrun=</b> </dt>
<dd>Run identification index.
[Default: 1] </dd>

<dt><b>eta=</b> </dt>
<dd>Time-step parameter for force polynomials. [Default: 0.02]
</dd>

<dt><b>deltat=</b> </dt>
<dd>Output time interval in units of the crossing. [Default: 0.25] </dd>

<dt><b>tcrit=</b>
</dt>
<dd>Termination time in units of the crossing time. [Default: 5] </dd>

<dt><b>qe=</b> </dt>
<dd>Energy
tolerance (restart if DE/E &gt; 5*QE &amp; <a href='KZ.2.html'>KZ(2)</a>
 &gt; 1) [Default: 2e-5] </dd>

<dt><b>eps=</b> </dt>
<dd>Potential
softening parameter      [Default: 0.01] </dd>

<dt><b>kz=</b> </dt>
<dd>Non-zero options for alternative
paths (up to 50) <br>
<pre>[0 0 1 0 0 0 5 0 0 1  0 0 0 0 2 0 0 0 0 0  1 2 2 0 0 2 0 0 0 2  0 0 2 0
0 0 1 0 0 0  0 0 0 0 0 0 0 0 0 0]
1<tt> </tt>&nbsp;<tt> </tt>&nbsp;COMMON save on unit 1 at end of run (=2: every 100*NMAX steps).
2<tt> </tt>&nbsp;<tt> </tt>&nbsp;COMMON save on unit 2 at output (=1); restart if DE/E &gt; 5*QE (=2).
3<tt> </tt>&nbsp;<tt> </tt>&nbsp;Basic data on unit 3 at output (freq. NFIX; &gt;1: cluster + tail).
4 #<tt> </tt>&nbsp;<tt> </tt>&nbsp;Binary diagnostics on unit 4 (# threshold levels = KZ(4) &lt; 10).
5<tt> </tt>&nbsp;<tt> </tt>&nbsp;Initial conditions (#22 =0; =0: uniform &amp; isotropic sphere;
      <tt> </tt>&nbsp;<tt> </tt>&nbsp;      =1: Plummer; =2: two Plummer models in orbit, extra input;
      <tt> </tt>&nbsp;<tt> </tt>&nbsp;      =3: massive perturber and planetesimal disk, extra input).
      <tt> </tt>&nbsp;<tt> </tt>&nbsp;      =4: massive initial binary, extra input; output on unit 35).
6<tt> </tt>&nbsp;<tt> </tt>&nbsp;Output of significant &amp; regularized binaries (=1, 2, 3 &amp; 4).
7<tt> </tt>&nbsp;<tt> </tt>&nbsp;Lagrangian radii (&gt;0: RSCALE; =2, 3, 4: output units 6, 7, 12;
      <tt> </tt>&nbsp;<tt> </tt>&nbsp;      &gt;=5: density &amp; rms velocity at given radii on unit 26 &amp; 27;
              &gt;=5: average mass at given radii on unit 36 every DELTAT;
      <tt> </tt>&nbsp;<tt> </tt>&nbsp;       =6: Lagrangian radii for two mass groups on unit 31 &amp; 32.
8<tt> </tt>&nbsp;<tt> </tt>&nbsp;Primordial binaries (=1 &amp; &gt;=3; &gt;0: BINOUT; &gt;2: BINDAT; &gt;3: HIDAT).
9<tt> </tt>&nbsp;<tt> </tt>&nbsp;Individual bodies printed at output time (MIN(5**KZ9,NTOT)).
10<tt> </tt>&nbsp;<tt> </tt>&nbsp;Diagnostic KS output (&gt;0: begin; &gt;1: end; &gt;=3: each step).
11 #<tt> </tt>&nbsp;<tt> </tt>&nbsp;Synchronization of circular orbits (suppressed).
12<tt> </tt>&nbsp;<tt> </tt>&nbsp;Disk shocks (=1: standard model) or interstellar clouds (&lt; 0).
13<tt> </tt>&nbsp;<tt> </tt>&nbsp;Scaling of time (1: variable by t_cr; 2: variable by t_r;
      <tt> </tt>&nbsp;<tt> </tt>&nbsp;       -1: constant scaling to t_r; -2: constant scaling to t_c).
14<tt> </tt>&nbsp;<tt> </tt>&nbsp;External force (=1: linearized; -1: cutoff; =2: point-mass galaxy;
      <tt> </tt>&nbsp;<tt> </tt>&nbsp;   =3: point-mass + disk + logarithmic halo in any combination).
15<tt> </tt>&nbsp;<tt> </tt>&nbsp;Triple, quad, chain (#30 &gt; 0) or merger search (&gt;1: full output).
16<tt> </tt>&nbsp;<tt> </tt>&nbsp;Updating of regularization parameters (RMIN, DTMIN &amp; ECLOSE).
17<tt> </tt>&nbsp;<tt> </tt>&nbsp;Modification of ETA (&gt;=1) &amp; ETAU (&gt;1) by tolerance QE.
18<tt> </tt>&nbsp;<tt> </tt>&nbsp;Hierarchical systems (=1: diagnostics; =2: primordial; =3: both).
19<tt> </tt>&nbsp;<tt> </tt>&nbsp;Stellar evolution and mass loss (=1: old supernova scheme;
      <tt> </tt>&nbsp;<tt> </tt>&nbsp;            =3: Eggleton, Tout &amp; Hurley; &gt;4: Chernoff--Weinberg).
20<tt> </tt>&nbsp;<tt> </tt>&nbsp;Initial mass function (=0,1: Salpeter; &gt;1: various, see IMF).
21<tt> </tt>&nbsp;<tt> </tt>&nbsp;Extra output (&gt;0: model, etc; &gt;1: CENTRE; &gt;2: MTRACE; &gt;3: GLOBAL).
22<tt> </tt>&nbsp;<tt> </tt>&nbsp;Initial conditions on unit 10 (=1: output; =2,3(unscaled): input).
23<tt> </tt>&nbsp;<tt> </tt>&nbsp;Escaper removal (&gt;1: diagnostics in file ESC; =2: angles unit #6;
      <tt> </tt>&nbsp;<tt> </tt>&nbsp;                 &gt;1: tidal tails output if #14 = 3).
24<tt> </tt>&nbsp;<tt> </tt>&nbsp;Initial conditions for subsystem (routine SCALE; KZ(24) = #).
25 #<tt> </tt>&nbsp;<tt> </tt>&nbsp;Partial reflection of KS binary orbit (GAMMA &lt; GMIN; suppressed).
25<tt> </tt>&nbsp;<tt> </tt>&nbsp;HR diagnostics of evolving stars (output of B &amp; S on #82 &amp; 83).
26<tt> </tt>&nbsp;<tt> </tt>&nbsp;Slow-down of two-body motion (=1: KS binary; =2: chain binary).
27<tt> </tt>&nbsp;<tt> </tt>&nbsp;Two-body interactions (-2: RADIUS = 0; -1: collision detection;
      <tt> </tt>&nbsp;<tt> </tt>&nbsp;                       =1: sequential circ; &gt; 0: collision).
28<tt> </tt>&nbsp;<tt> </tt>&nbsp;(not used).
29 #<tt> </tt>&nbsp;<tt> </tt>&nbsp;Boundary reflection for hot system (suppressed).
30<tt> </tt>&nbsp;<tt> </tt>&nbsp;Chain regularization (=1: basic; &gt;1: main output; &gt;2: each step).
31<tt> </tt>&nbsp;<tt> </tt>&nbsp;Centre of mass correction after energy check.
32<tt> </tt>&nbsp;<tt> </tt>&nbsp;Increase of output intervals (based on single particle energy).
33<tt> </tt>&nbsp;<tt> </tt>&nbsp;Block-step diagnostics at main output (=2: active pipes).
34 <tt> </tt>&nbsp;<tt> </tt>&nbsp;Roche lobe overflow (suppressed).
35<tt> </tt>&nbsp;<tt> </tt>&nbsp;Time offset (global time from TTOT = TIME + DTOFF; offset = 100).
36<tt> </tt>&nbsp;<tt> </tt>&nbsp;Step reduction for hierarchical systems (not recommended).
37<tt> </tt>&nbsp;<tt> </tt>&nbsp;Step reduction for encounters with high-velocity particles.
38 <tt> </tt>&nbsp;<tt> </tt>&nbsp;Multiple use of GRAPE-6 (sleep 1 sec after each timer check).
39<tt> </tt>&nbsp;<tt> </tt>&nbsp;Neighbour list (=-1: on host; =0: full list or closest on GRAPE).
40      Use force and first deriv to estimate time steps (0), &gt;0 uses Flploy2
41      proto-star evolution properties
42      Initial binary distribution
43      (unused)
44      (unused)
45      (unused)
46      HDF5/binary/ANSI format
47      frequency of KZ(47) output
48      (unused)
49      compute moments of inertia (Chr. Theis)
50      for unpert KS binary.
#<tt> </tt>&nbsp;<tt> </tt>&nbsp;currently surpressed
</pre></dd>

<dt><b>xtpar1=</b> </dt>
<dd>Mass of external Plummer model (KZ(15) = 1; [Default: 1] </dd>

<dt><b>xtpar2=</b>
</dt>
<dd>Length scale for Plummer model (KZ(15) = 1) [Default: 2] </dd>

<dt><b>zmgas=</b> </dt>
<dd>Mass scale
for logarithmic potential (KZ(15) = 2) </dd>

<dt><b>rgas=</b> </dt>
<dd>Length scale for logarithmic
potential (KZ(15) = 2) </dd>

<dt><b>alphas=</b> </dt>
<dd>Power-law index for initial mass function
(routine DATA) [Default: 2.3] </dd>

<dt><b>body1=</b> </dt>
<dd>Maximum particle mass before scaling
   [Default: 5.0] </dd>

<dt><b>bodyn=</b> </dt>
<dd>Minimum particle mass before scaling    [Default:
1.0] </dd>

<dt><b>q=</b> </dt>
<dd>Virial ratio (q=0.5 for virial equilibrium)   [Default: 0] </dd>

<dt><b>vxrot=</b>
</dt>
<dd>XY-velocity scaling factor (&gt; 0 for solid-body rotation) [Default: 0] </dd>

<dt><b>vzrot=</b>
</dt>
<dd>Z-velocity scaling factor (not used if VXROT = [Default: 0] </dd>

<dt><b>rbar=</b> </dt>
<dd>Virial
radius in pc (for scaling to physical [Default: 1] </dd>

<dt><b>zmbar=</b> </dt>
<dd>Mean mass in
solar units    [Default: 1] </dd>

<dt><b>xcm=</b> </dt>
<dd>Displacement for subsystem (routine SCALE;
KZ(17))  </dd>

<dt><b>ecc=</b> </dt>
<dd>Eccentricity of relative motion for subsystem (ECC =&lt; 1) </dd>

<dt><b>KZ#=</b>
</dt>
<dd>This is an indexed keyword, and the upper case version of the kz= array
keyword. This way the user can override single elements of the kz= vector,
and using a default for the long kz= vector. For example "kz=@kz.def KZ22=2
KZ5=2". See <a href='getparam.3.html'><i>getparam(3NEMO)</i></a>
 for a description of indexed keywords. </dd>

<dt><b>nbody6=0|1<b>
</b></b></dt>
<dd>Support mode for nbody6:  1=nbody6, 0=nbody6++ (default) </dd>

<dt><b>exe=</b> </dt>
<dd>Name of the
nbody6 executable in your $PATH (absolute or relative path also allowed).
Both nbody6 and nbody6++ are supported. The default for <b>exe</b> depends on the
value for <b>nbody6=</b>:   1=nbody6  0=nbody6++ Note that for nbody6=1 the default
nbody6 executable is the single-processing version, there is also a parallel
version, dubbed <b>nbody7.sse</b>. For nbody6++ there is the default <b>nbody6++.sse</b>
and the possibly faster <b>nbody6++.avx</b> available. </dd>
</dl>

<h2><a name='sect4' href='#toc4'>Examples</a></h2>
<b>nbody6</b> can also be
used to generate snapshots. Here is an example to create a 1024 body homogeneous
sphere in the directory run1 and a plummer sphere in run2. <br>
<pre>    % runbody6 "" run1 1024 tcrit=0 KZ5=0 KZ22=1
    % snapplot run1/OUT3.snap
    % runbody6 "" run2 1024 tcrit=0 KZ5=1 KZ22=1
    % snapplot run2/OUT3.snap
</pre><p>
You can also supply existing NEMO snapshots as initial conditions, this
is actually the best supported way to use runbody6: <br>
<pre>    % mkplummer p1024 1024
    % runbody6 p1024 run3 tcrit=1
</pre>
<h2><a name='sect5' href='#toc5'>Caveats</a></h2>
Small N systems may need to be tuned with larger <b>rs0=</b> and <b>nnbopt=</b>,
but don&rsquo;t even think of trying a 3-body problem. <p>
The dreaded CALCULATIONS
HALTED message means you will need to consult the NBODY6++ manual <p>
The interface
has been primarely tested with nbody6++, it&rsquo;s possible that some differences
between nbody6 and nbody6++ have not been taken care of. 
<h2><a name='sect6' href='#toc6'>Bugs</a></h2>
In mode nbody6=1
the end-time does not seem to be reached. Seem to halt at tcrit-dtadj ? 
<h2><a name='sect7' href='#toc7'>See
Also</a></h2>
<a href='runbody1.1.html'>runbody1(1NEMO)</a>
, <a href='nbody2.1.html'>nbody2(1NEMO)</a>
, <a href='nbody4.5.html'>nbody4(5NEMO)</a>
, <a href='snapshot.5.html'>snapshot(5NEMO)</a>
, <a href='u3tos.1.html'>u3tos(1NEMO)</a>
,
<a href='stou4.1.html'>stou4(1NEMO)</a>
, <a href='snapprint.1.html'>snapprint(1NEMO)</a>
 <p>
<br>
<pre>nbody6:    ftp://ftp.ast.cam.ac.uk/pub/sverre/nbody6/nbody6.tar.gz
nbody6++:  https://github.com/nbodyx/Nbody6ppGPU
</pre>
<h2><a name='sect8' href='#toc8'>Files</a></h2>
<br>
<pre>$NEMO/usr/aarseth<tt> </tt>&nbsp;<tt> </tt>&nbsp;support to install and test the codes
$outdir/OUT3.snap<tt> </tt>&nbsp;<tt> </tt>&nbsp;particle dump (see u3tos(1NEMO)) in snapshot(5NEMO) format.
</pre>
<h2><a name='sect9' href='#toc9'>Author</a></h2>
Peter Teuben 
<h2><a name='sect10' href='#toc10'>Update History</a></h2>
<br>
<pre>20-feb-2019<tt> </tt>&nbsp;<tt> </tt>&nbsp;V0.1 cloned off runbody4, some of keyword descriptions not complete
yet<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
22-feb-2019<tt> </tt>&nbsp;<tt> </tt>&nbsp;V0.5 support nbody6/nbody6++<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
5-apr-2019<tt> </tt>&nbsp;<tt> </tt>&nbsp;V0.7 support writing snapshots without virtual particles<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
26-apr-2019<tt> </tt>&nbsp;<tt> </tt>&nbsp;V0.8 reversed logic of nbody6=, fix  KZ22 option for nbody6=1<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Parameters</a></li>
<li><a name='toc4' href='#sect4'>Examples</a></li>
<li><a name='toc5' href='#sect5'>Caveats</a></li>
<li><a name='toc6' href='#sect6'>Bugs</a></li>
<li><a name='toc7' href='#sect7'>See Also</a></li>
<li><a name='toc8' href='#sect8'>Files</a></li>
<li><a name='toc9' href='#sect9'>Author</a></li>
<li><a name='toc10' href='#sect10'>Update History</a></li>
</ul>
</body>
</html>
