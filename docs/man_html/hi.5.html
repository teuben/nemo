<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>HI(5NEMO) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
hi - ascii format for (ADC and other) HI surveys 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<br>
<pre>#include &lt;hi.h&gt;</pre>
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<a href='hi.5.html'><i>hi(5)</i></a>
 describes the raw ascii HI survey dataformat
from the standard NSSDC data archive.  Five datasets are currently available
from the  Astronomical Data Center (ADC) in a more-or-less uniform format
(albeit not FITS). Other datasets have been converted and  added to  this
database to provide an all sky coverage.  Users can define their own format,
for which an extra slot is available. Subsequent processing (mapmaking)
can be done with <a href='hispectrum.1NEMO.html'><i>hispectrum(1NEMO)</i></a>
. <p>
The ascii format is basically as follows:
 each record, with line length <i>reclen</i> (excluding the newline), consists
of a small header followed by <i>nchan</i> values of the spectrum. The header must
at least contain the pointing position, <i>glon</i> and <i>glat</i>,  and sometimes variables
that are only known to the decoding routines (see <b>decode.f</b>).  All values
in the header are integers, typically 10 times or 100 times, the actual
real value, but this is certainly no requirement. It merely saves space.
<p>
Here are some properties of the available surveys from $HI_DIR: <br>
<pre>id<tt> </tt>&nbsp;<tt> </tt>&nbsp;reclen<tt> </tt>&nbsp;<tt> </tt>&nbsp;nrec<tt> </tt>&nbsp;<tt> </tt>&nbsp;nchan<tt> </tt>&nbsp;<tt> </tt>&nbsp;Survey<tt> </tt>&nbsp;<tt> </tt>&nbsp;Authors<tt> </tt>&nbsp;<tt> </tt>&nbsp;Source
hh<tt> </tt>&nbsp;<tt> </tt>&nbsp;643<tt> </tt>&nbsp;<tt> </tt>&nbsp;134932<tt> </tt>&nbsp;<tt> </tt>&nbsp;100<tt> </tt>&nbsp;<tt> </tt>&nbsp;Hat Creek High-Latitude <tt> </tt>&nbsp;<tt> </tt>&nbsp;(Heiles+ 1974-1976) <tt> </tt>&nbsp;<tt> </tt>&nbsp;ADC 8007
pk<tt> </tt>&nbsp;<tt> </tt>&nbsp;420<tt> </tt>&nbsp;<tt> </tt>&nbsp;9891<tt> </tt>&nbsp;<tt> </tt>&nbsp;64<tt> </tt>&nbsp;<tt> </tt>&nbsp;Parkes High-Latitude    <tt> </tt>&nbsp;<tt> </tt>&nbsp;(Cleary+ 1979)       <tt> </tt>&nbsp;<tt> </tt>&nbsp;ADC 8008
ar<tt> </tt>&nbsp;<tt> </tt>&nbsp;396<tt> </tt>&nbsp;<tt> </tt>&nbsp;55470<tt> </tt>&nbsp;<tt> </tt>&nbsp;56<tt> </tt>&nbsp;<tt> </tt>&nbsp;Argentina High-Latitude <tt> </tt>&nbsp;<tt> </tt>&nbsp;(Colomb 1980)       <tt> </tt>&nbsp;<tt> </tt>&nbsp;ADC 8009
bl<tt> </tt>&nbsp;<tt> </tt>&nbsp;703<tt> </tt>&nbsp;<tt> </tt>&nbsp;22261<tt> </tt>&nbsp;<tt> </tt>&nbsp;124<tt> </tt>&nbsp;<tt> </tt>&nbsp;Bell Laboratories       <tt> </tt>&nbsp;<tt> </tt>&nbsp;(Stark+ 1990)        <tt> </tt>&nbsp;<tt> </tt>&nbsp;ADC 8010
ww<tt> </tt>&nbsp;<tt> </tt>&nbsp;1204<tt> </tt>&nbsp;<tt> </tt>&nbsp;38961<tt> </tt>&nbsp;<tt> </tt>&nbsp;238<tt> </tt>&nbsp;<tt> </tt>&nbsp;Berkeley Low-Latitude     <tt> </tt>&nbsp;<tt> </tt>&nbsp;(Weaver, Williams 1973)<tt> </tt>&nbsp;<tt> </tt>&nbsp;ADC 8011
jo<tt> </tt>&nbsp;<tt> </tt>&nbsp;1314<tt> </tt>&nbsp;<tt> </tt>&nbsp;38961<tt> </tt>&nbsp;<tt> </tt>&nbsp;260<tt> </tt>&nbsp;<tt> </tt>&nbsp;Berkeley Low-Latitude     <tt> </tt>&nbsp;<tt> </tt>&nbsp;(Weaver, Williams 1973)<tt> </tt>&nbsp;<tt> </tt>&nbsp;JO fits
kj<tt> </tt>&nbsp;<tt> </tt>&nbsp;1514<tt> </tt>&nbsp;<tt> </tt>&nbsp;17901<tt> </tt>&nbsp;<tt> </tt>&nbsp;300<tt> </tt>&nbsp;<tt> </tt>&nbsp;Parkes Southern Low-Latitude <tt> </tt>&nbsp;<tt> </tt>&nbsp;(Kerr+ 1986)   <tt> </tt>&nbsp;<tt> </tt>&nbsp;JO fits
lb<tt> </tt>&nbsp;<tt> </tt>&nbsp;1130<tt> </tt>&nbsp;<tt> </tt>&nbsp;1842<tt> </tt>&nbsp;<tt> </tt>&nbsp;224<tt> </tt>&nbsp;<tt> </tt>&nbsp;Galactic Center             <tt> </tt>&nbsp;<tt> </tt>&nbsp;(Burton, Liszt, 1983)<tt> </tt>&nbsp;<tt> </tt>&nbsp;Liszt fits
</pre><p>
Some telescope properties, in particular the conversion from antenna temperature
to brightness temperature, are: <br>
<pre>id<tt> </tt>&nbsp;<tt> </tt>&nbsp;beam<tt> </tt>&nbsp;<tt> </tt>&nbsp;spacing<tt> </tt>&nbsp;<tt> </tt>&nbsp;spacing<tt> </tt>&nbsp;<tt> </tt>&nbsp;TA/TB
        <tt> </tt>&nbsp;<tt> </tt>&nbsp;(deg)<tt> </tt>&nbsp;<tt> </tt>&nbsp;(deg)<tt> </tt>&nbsp;<tt> </tt>&nbsp;(km/s)<tt> </tt>&nbsp;<tt> </tt>&nbsp;conversion
hh<tt> </tt>&nbsp;<tt> </tt>&nbsp;0.5<tt> </tt>&nbsp;<tt> </tt>&nbsp;0.5<tt> </tt>&nbsp;<tt> </tt>&nbsp;2 :<tt> </tt>&nbsp;<tt> </tt>&nbsp;?<tt> </tt>&nbsp;<tt> </tt>&nbsp;Hat Creek 26m (85ft)
pk<tt> </tt>&nbsp;<tt> </tt>&nbsp;0.5<tt> </tt>&nbsp;<tt> </tt>&nbsp;0.5<tt> </tt>&nbsp;<tt> </tt>&nbsp;2 :<tt> </tt>&nbsp;<tt> </tt>&nbsp;?<tt> </tt>&nbsp;<tt> </tt>&nbsp;Parkes 64m (210ft)
ar<tt> </tt>&nbsp;<tt> </tt>&nbsp;0.5<tt> </tt>&nbsp;<tt> </tt>&nbsp;2<tt> </tt>&nbsp;<tt> </tt>&nbsp;4<tt> </tt>&nbsp;<tt> </tt>&nbsp;?<tt> </tt>&nbsp;<tt> </tt>&nbsp;PPI 30m
bl<tt> </tt>&nbsp;<tt> </tt>&nbsp;2<tt> </tt>&nbsp;<tt> </tt>&nbsp;2<tt> </tt>&nbsp;<tt> </tt>&nbsp;5.2767<tt> </tt>&nbsp;<tt> </tt>&nbsp;?<tt> </tt>&nbsp;<tt> </tt>&nbsp;7m Bell Labs
ww<tt> </tt>&nbsp;<tt> </tt>&nbsp;0.5<tt> </tt>&nbsp;<tt> </tt>&nbsp;0.25<tt> </tt>&nbsp;<tt> </tt>&nbsp;1.055<tt> </tt>&nbsp;<tt> </tt>&nbsp;?<tt> </tt>&nbsp;<tt> </tt>&nbsp;T_A Hat Creek 26m (85ft)
jo   <tt> </tt>&nbsp;<tt> </tt>&nbsp;0.5  <tt> </tt>&nbsp;<tt> </tt>&nbsp;0.25 <tt> </tt>&nbsp;<tt> </tt>&nbsp;1.0<tt> </tt>&nbsp;<tt> </tt>&nbsp;?<tt> </tt>&nbsp;<tt> </tt>&nbsp;T_A Hat Creek 26m (85ft)
kj<tt> </tt>&nbsp;<tt> </tt>&nbsp;0.5<tt> </tt>&nbsp;<tt> </tt>&nbsp;0.25<tt> </tt>&nbsp;<tt> </tt>&nbsp;1.0<tt> </tt>&nbsp;<tt> </tt>&nbsp;0.975<tt> </tt>&nbsp;<tt> </tt>&nbsp;T_A Parkes 18m
lb<tt> </tt>&nbsp;<tt> </tt>&nbsp;0.5<tt> </tt>&nbsp;<tt> </tt>&nbsp;0.5<tt> </tt>&nbsp;<tt> </tt>&nbsp;2.75<tt> </tt>&nbsp;<tt> </tt>&nbsp;0.66<tt> </tt>&nbsp;<tt> </tt>&nbsp;NRAO 140ft
</pre>Currently <p>

<h2><a name='sect3' href='#toc3'>Examples</a></h2>
On a UNIX system one can read the ADC tapes as follows:
<br>
<pre>    # ADC tape 1, skip the software, and read the data
    mt -f /dev/rmt12 fsf 1
    dd if=/dev/rmt12 of=hh.hi ibs=8464  cbs=643 conv=unblock
    dd if=/dev/rmt12 of=pk.hi ibs=8464  cbs=420 conv=unblock
    dd if=/dev/rmt12 of=ar.hi ibs=8464  cbs=396 conv=unblock ?
    dd if=/dev/rmt12 of=bl.hi ibs=14060 cbs=703 conv=unblock
    # ADC tape 2, skip the software, and read the data
    mt -f /dev/rmt12 fsf 1
    dd if=/dev/rmt12 of=ww.hi ibs=12040 cbs=1204 conv=unblock
    # JO fits files
    fitstohi in=fits id=482:702:1 lon=240:350:0.5 out=kj.hi cdelt1=1000
    # BL fits cube
    fitstohi in=hicenter.vlb out=lb.hi
</pre>The <i>conv=unblock</i> causes a newline to be inserted after each record, such
that (in principle) <a href='fgets.3S.html'><i>fgets(3S)</i></a>
 and <a href='wc.1.html'><i>wc(1)</i></a>
 can be used for processing (but
see BUGS below). <p>
On a VMS system the <b>DUMP_NSDC</b> program (generally found
in the first file on the ADC tape) can be used to convert (ADC) tape data
into a disk file. 
<h2><a name='sect4' href='#toc4'>Bugs</a></h2>
The <i>pk</i> format contains a NULL (0x00) at position 36
in each record. It separates header from spectrum. <i>decode_pk</i> can handle this,
but it is not always clear that <i>fgets</i> would, hence programs like <i>hispectrum</i>
should use <a href='fread.3.html'><i>fread(3)</i></a>
 with the correct record-length to read data. <p>
The <i>ww</i> seems
to contain bad data for L=11.5, 29 and 91.5. Use <i>jo</i> instead, which has been
derived from the equivalent VB-FITS files. <p>
Ra and Dec are not known for the
WW, LB and KJ datasets. <p>
If you modify/add a new dataformat, you have to
modify <i>hi.h</i>,  <i>decode.f</i> and the switch-table in <i>hispectrum.c</i>. This should have
been clearly isolated to one routine. 
<h2><a name='sect5' href='#toc5'>Acknowledgements</a></h2>
<p>
<b>LB:</b> The original data
from H.S.Liszt (<i>hicenter.vlb</i>) is a FITS cube of spectra in <i>l</i> and  <i>b</i>, with
the velocity axis specified in m/s.   Reference: W. B. Burton and H. S. Liszt,
1983 <i>A&amp;A Suppl</i> <b>52</b>, p. 63. <p>
<b>KJ:</b> The original data from P. Jackson consist of
221 separate VB fits  files, each one at a different galactic longitude.
Created by J. Ohlmacher and P. Jackson (11-dec-84) Reference: Kerr, F. J., Bauer
P.F.,  Jackson, P.D. &amp; Kerr, M., 1986 <i>A&amp;A Suppl</i> <b>66</b>, p. 373. <p>
<b>JO/WW:</b> Gridded fits
data are 481 separate VB fits file, each on a different galactic longitude.
Created by J. Ohlmacher and P. Jackson (14-dec-81) Reference: Weaver, H. &amp; Williams,
D.R.W., 1974 <i>A&amp;A Suppl</i> <b>17</b>, p. 1. <p>
<b>PK</b> Reference: Cleary, M. N., Haslam, C. G. T. &amp; Heiles,
C. 1979 <i>A&amp;A Suppl</i> <b>36</b>, p.95-127. 
<h2><a name='sect6' href='#toc6'>Adc Acknowledgements</a></h2>
By using these programs
and the data that they access, the user also agrees to the following: 
<ol>
.
<li>If data from any survey are used in a publication, the user will reference
the original authors of the survey, as if the original authors had themselves
provided the data to the user, by quoting the appropriate publication in
the usual fashion. </li>.<li>Whenever data obtained from the NSSDC are used in a publication
acknowledgment shall be made to Dr. Wayne H. Warren Jr. and/or the Astronomical
Data Center/National Space Science Data Center for storing and distributing
the data. </li>.<li>If the survey data or software described herein are used, acknowledgment
shall be made to William T. Reach for creating the tape and writing the
software. </li>
</ol>
<p>
There is no implied guarantee that these routines will perform
the tasks they claim. In other words, user beware--check the results before
using them. 
<h2><a name='sect7' href='#toc7'>See Also</a></h2>
<a href='hispectrum.1NEMO.html'>hispectrum(1NEMO)</a>
, <a href='fitstohi.1NEMO.html'>fitstohi(1NEMO)</a>
, <a href='fitshicube.1NEMO.html'>fitshicube(1NEMO)</a>
,
decode.f 
<h2><a name='sect8' href='#toc8'>Author</a></h2>
Peter Teuben, William T. Reach (decode.f) 
<h2><a name='sect9' href='#toc9'>Files</a></h2>
<br>
<pre>$HI_DIR/??.hi             <tt> </tt>&nbsp;<tt> </tt>&nbsp;all ascii versions [200 Mb]
$HI_DIR/??.hi.Z         <tt> </tt>&nbsp;<tt> </tt>&nbsp;compressed ascii [49 Mb]
$HI_DIR/??.hi.gz         <tt> </tt>&nbsp;<tt> </tt>&nbsp;compressed ascii
$HI_DIR/fits/hifits.*     <tt> </tt>&nbsp;<tt> </tt>&nbsp;WW (1-481) and KJ (482-702) VB maps [33 Mb]
$HI_DIR/fits/hicenter.vlb<tt> </tt>&nbsp;<tt> </tt>&nbsp;Burton &amp; Liszt VLB cube [1 Mb]
$NEMO/usr/pjt/hi               <tt> </tt>&nbsp;<tt> </tt>&nbsp;NEMO programs source code
</pre>
<h2><a name='sect10' href='#toc10'>Update History</a></h2>
<br>
<pre>29-jun-92<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.0: Created                   <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
 7-jul-92<tt> </tt>&nbsp;<tt> </tt>&nbsp;documented all associated data    <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
8-apr-94    <tt> </tt>&nbsp;<tt> </tt>&nbsp;added JO dataset                  <tt> </tt>&nbsp;<tt> </tt>&nbsp;pjt
11-apr-94<tt> </tt>&nbsp;<tt> </tt>&nbsp;renamed .raw extension to .hi      <tt> </tt>&nbsp;<tt> </tt>&nbsp;pjt
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Examples</a></li>
<li><a name='toc4' href='#sect4'>Bugs</a></li>
<li><a name='toc5' href='#sect5'>Acknowledgements</a></li>
<li><a name='toc6' href='#sect6'>Adc Acknowledgements</a></li>
<li><a name='toc7' href='#sect7'>See Also</a></li>
<li><a name='toc8' href='#sect8'>Author</a></li>
<li><a name='toc9' href='#sect9'>Files</a></li>
<li><a name='toc10' href='#sect10'>Update History</a></li>
</ul>
</body>
</html>
