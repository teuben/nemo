<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>MSTROPEN(3NEMO) manual page</title>
</head>
<body bgcolor='white'>
HTML automatically generated with <A HREF=http://manpages.ubuntu.com/manpages/bionic/man1/rman.1.html>rman</A><br>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
mstr_init, mstr_open, mstr_close, mstr_count, mstr_multi - multiple
template based file-stream utilities 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<br>
<pre>#include &lt;stdinc.h&gt;mstr *mstr_init(string template)stream mstr_open(mstr *mp,
string mode)void mstr_close(mstr *mp)int mstr_count(mstr *mp)int mstr_multi(mstr
*mp)
Descriptionmstr_init() returns a structure that is used to aid in writing
to a set of related files whose name is derived from a template and embedded
integer counter. The argument is a string which can optionally contain a
template in the form of a  printf(3) style string in which an integer is
used to derive a variable name, e.g. run%03d.dat. This call will also open
the first (or only, if no template is used)  file for writing. mstr_open
will however have  to be used to get a stream in order to write actual
data (see example below). mstr_open() returns the stream (see stropen(3NEMO))
to the next file.  It also closes the previously opened stream, if there
was such one. 
mstr_close() closes access to an mstr and free&rsquo;s all allocated
memory associated with it. 
mstr_count() returns the number of previous calls
to mstr_open. 
mstr_multi() returns if multiple files will be used in mstr_open
(currently set by checking for the existence of the % character in the
filename. 
Example
<tt> </tt>&nbsp;<tt> </tt>&nbsp;mstr *mp = mstr_init("test%03d.dat");
<tt> </tt>&nbsp;<tt> </tt>&nbsp;for (int i=0; i&lt;10; i++) {
<tt> </tt>&nbsp;<tt> </tt>&nbsp;   stream ostr = mstr_open(mp,"w");
<tt> </tt>&nbsp;<tt> </tt>&nbsp;   fprintf(ostr,"Hello world, i=%d\n",i);
<tt> </tt>&nbsp;<tt> </tt>&nbsp;}
<tt> </tt>&nbsp;<tt> </tt>&nbsp;mstr_close(mp);
</pre>
<h2><a name='sect4' href='#toc4'>Todo</a></h2>
Add reading them back in again 
<h2><a name='sect5' href='#toc5'>See Also</a></h2>
<a href='stropen.3.html'>stropen(3NEMO)</a>
 
<h2><a name='sect6' href='#toc6'>Author</a></h2>
Peter Teuben

<h2><a name='sect7' href='#toc7'>Files</a></h2>
<br>
<pre>~/src/kernel/io  <tt> </tt>&nbsp;<tt> </tt>&nbsp;mstropen.c
</pre>
<h2><a name='sect8' href='#toc8'>Update History</a></h2>
<br>
<pre>8-may-2002<tt> </tt>&nbsp;<tt> </tt>&nbsp;created, on Amtrak<tt> </tt>&nbsp;<tt> </tt>&nbsp;Peter
14-sep-2002<tt> </tt>&nbsp;<tt> </tt>&nbsp;added mstr_count,mode<tt> </tt>&nbsp;<tt> </tt>&nbsp;Peter
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Example</a></li>
<li><a name='toc4' href='#sect4'>Todo</a></li>
<li><a name='toc5' href='#sect5'>See Also</a></li>
<li><a name='toc6' href='#sect6'>Author</a></li>
<li><a name='toc7' href='#sect7'>Files</a></li>
<li><a name='toc8' href='#sect8'>Update History</a></li>
</ul>
</body>
</html>
