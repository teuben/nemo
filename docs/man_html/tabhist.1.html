<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>TABHIST(1NEMO) manual page</title>
</head>
<body bgcolor='white'>
This HTML automatically generated with <A HREF=http://manpages.ubuntu.com/manpages/bionic/man1/rman.1.html>rman</A> for <A HREF=https://astronemo.readthedocs.io>NEMO</A><br>
<a href='#toc'>Table of Contents</a><p>

<p> 
<h2><a name='sect0' href='#toc0'>Name</a></h2>
tabhist - histogram plotter and gaussian fit for tabular data 
<p> 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<p>
<b>tabhist
in=</b>infile [parameter=value] 
<p> 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<i>tabhist</i> plots a histogram and computes
the first  4 moments of points obtained from an (set of) column(s) from
an ascii  <a href='table.5.html'><i>table(5NEMO)</i></a>
. It calculates the mean, dispersion, skewness and
kurtosis. It then plots the data in the form of a histogram, optionally
with a &rsquo;best&rsquo; gaussian fit and residuals. It can also plot a cumulative histogram
of the data (see also <a href='tabtrend.1.html'><i>tabtrend(1NEMO)</i></a>
 and <a href='tabint.1.html'><i>tabint(1NEMO)</i></a>
). <p>
The Median is
also optionally computed, for which an  alternate sorting routine can be
selected (if available). <p>
The TriMean is reported, which is a robust statistic
for the central tendency, the weighted average of Median and two quartiles:
 (Q1 + 2*Q2 + Q3) / 4. <p>
If multiple columns are used, they are appended to
each other and treated like a single long column. If you need simple statistics
for multiple columns, see <a href='tabstat.1.html'><i>tabstat(1NEMO)</i></a>
  instead.  <p>
Using the <b>nsigma</b> keyword,
outliers can be removed and statistics re-computed. 
<p> 
<h2><a name='sect3' href='#toc3'>Parameters</a></h2>
 The following
parameters are recognized in order; they may be given in any order if the
keyword is also given. Use <b>--help</b> to confirm this man page is up to date. 

<dl>

<dt><b>in=<i>infile</i></b> </dt>
<dd>input file, in tabular format [no default]. </dd>

<dt><b>xcol=<i>column</i></b> </dt>
<dd>column(s)
from which the (X) values are taken.  Multiple columns can be given in the
usual <a href='nemoinp.3.html'><i>nemoinp(3NEMO)</i></a>
 notation for integers. [default <b>1</b>]. </dd>

<dt><b>xmin=<i>x_min</i></b> </dt>
<dd>Minimum
value along X-axis to include  [default: autoscaling on minimum of datapoints].
</dd>

<dt><b>xmax=<i>x_max</i></b> </dt>
<dd>Maximum value along X-axis to include  [default: autoscaling
on maximum of datapoints]. </dd>

<dt><b>bins=<i>n_bins</i></b> </dt>
<dd>If one number is given, it is the
number of (equal size) bins between  min and max.  If more than one number
is given, they are the bin edges (thus one more than the number of bins
need to be supplied). One rule of thumb is that the number of bins be the
square root of the number of values. [default: <b>16</b>]. </dd>

<dt><b>maxcount=<i>count</i></b> </dt>
<dd>Maximum
count value per bin plotted along the Y-axis [default: autoscaling]. </dd>

<dt><b>nmax=<i>max_lines</i></b>
</dt>
<dd>Maximum number of lines allowed to read from datafile, if the data comes
from a pipe as supposed from file.  A regular file will use the number of
lines in the file as default. [Default: <b>0</b>]. </dd>

<dt><b>ylog=t|f</b> </dt>
<dd>Take log of Y-axis? This
option is really redundant, since <a href='tabmath.1.html'><i>tabmath(1NEMO)</i></a>
 can handle any transformation
[default: <b>f</b>]. </dd>

<dt><b>xlab=<i>x-label</i></b> </dt>
<dd>Label along the X-axis [default: <b>value</b>]. </dd>

<dt><b>ylab=<i>y-label</i></b>
</dt>
<dd>Label along the Y-axis [default: <b>N</b> or <b>log(N)</b>]. </dd>

<dt><b>headline=<i>text</i></b> </dt>
<dd>Random verbiage,
will be plotted along right top of plot for identification [default: none].
The left top will contain the filename <i>infile</i>. </dd>

<dt><b>tab=t|f</b> </dt>
<dd>Table output? If false,
a plot using your current <a href='yapp.5.html'><i>yapp(5NEMO)</i></a>
 device will be given. If true, a simple
ascii version of a histogram is shown. The default choice of <b>bins=16</b> keeps
all the information on a simple 80*24 screen. [Default: <b>f</b>] </dd>

<dt><b>gauss=t|f</b> </dt>
<dd>If true,
plot output will contain a gaussian fit. The "best" gaussian fit is the
one that has the same mean, dispersion and integrated area as the data.
[Default: <b>t</b>]. </dd>

<dt><b>residual=t|f</b> </dt>
<dd>If true, the residual (data - fit) will be plotted
as a dashed line. [Default: <b>t</b>]. </dd>

<dt><b>cumul=t|f</b> </dt>
<dd>Plot a cumulative histogram instead.
If set, the keywords gauss, residual, and ylog are automatically re-set
to false.   [Default: <b>f</b>]. </dd>

<dt><b>norm=t|f</b> </dt>
<dd>Normalize the cumulative histogram to 1.
By default the maxcount is used. [Default: <b>f</b>]. </dd>

<dt><b>median=t|f</b> </dt>
<dd>Compute median too?
This can be timeconsuming for large numbers of points. [Default: <b>t</b>]. </dd>

<dt><b>torben=t|f</b>
</dt>
<dd>Fast median calculator in case N is large. No sort will be used, but instead
an iterative O(N) method will be used. [Default: <b>f</b>]. </dd>

<dt><b>robust=t|f</b> </dt>
<dd>Use a robust
estimator to remove outliers before taking statistics again. [Default: <b>f</b>].
</dd>

<dt><b>mad=t|f</b>  </dt>
<dd>Also compute the Mean Absolute Deviation (MAD). [Default: <b>f</b>]. </dd>

<dt><b>dual=t|f</b>
</dt>
<dd>Dual pass over the data, subtracting the mean. This can be important if
the data have a large average value with a small spread around the mean.
Notice that in this mode the mean is subtracted but never added to the
min/max/mean/median etc.  Default: f </dd>

<dt><b>nsigma=<i> </i></b></dt>
<dd>Delete points more than nsigma
times the sigma from the mean. After each point sigma and mean are recomputed.
[Default: none] </dd>

<dt><b>qac=t|f<i> </i></b></dt>
<dd>If selected, a QAC listing is selected. This gives
the mean, rms, min and max. [Default: f] </dd>

<dt><b>sort=</b><i>sort_mode</i> </dt>
<dd>Default:  qsort.
  If flogger is enabled additional sorting modes are available: bubble,
heap, insert, merge, quick, shell. </dd>

<dt><b>pyplot=</b> </dt>
<dd>If given, it will be the filename
where a template python script that can serve as starting point for more
elaborate plotting. Default: none. 
<p> </dd>
</dl>

<h2><a name='sect4' href='#toc4'>Examples</a></h2>
There is no direct way to plot
a particular column from a table while selecting from another column. The
<a href='tabmath.1.html'><i>tabmath(1NEMO)</i></a>
 program would need to be used in pipe to select, as given
in the following example: <br>
<pre>    % tabgen - 1000 2 | tabmath - - selfie=&rsquo;range(%1,0.0,0.5)&rsquo; | tabhist - 2
    
</pre>where column 2 is only used where column 1 is between 0 and 0.5. 
<p> 
<h2><a name='sect5' href='#toc5'>Flogger</a></h2>
There
is a compile option to make <b>tabhist_flogger</b> which enables more sorting
modes. 
<p> 
<h2><a name='sect6' href='#toc6'>Bugs</a></h2>
Points that fall exactly on the boundary of a bin, are added
to the right side. Another way of saying is that a cell includes the left
side, but is open ended on the right side, i.e. [---). Note this behavior is
exactly opposite that of SM&rsquo;s behavior, which was used to compare results.

<p> 
<h2><a name='sect7' href='#toc7'>See Also</a></h2>
<a href='tablsqfit.1.html'>tablsqfit(1NEMO)</a>
, <a href='tabmath.1.html'>tabmath(1NEMO)</a>
, <a href='tabstat.1.html'>tabstat(1NEMO)</a>
, <a href='tabtrend.1.html'>tabtrend(1NEMO)</a>
,
<a href='tabint.1.html'>tabint(1NEMO)</a>
, <a href='tabgen.1.html'>tabgen(1NEMO)</a>
 <p>
<a href='http://vostat.org'>http://vostat.org</a>
 <p>
<a href='http://www.star.bris.ac.uk/~mbt/stilts/'>http://www.star.bris.ac.uk/~mbt/stilts/</a>

<p>
http://arxiv.org/ps/0807.4820 (<i>choosing the binning for a histogram</i>) 
<p> 
<h2><a name='sect8' href='#toc8'>Author</a></h2>
Peter

<p>Teuben 
<p> 
<h2><a name='sect9' href='#toc9'>Files</a></h2>
<br>
<pre>~/src/kernel/tab<tt> </tt>&nbsp;<tt> </tt>&nbsp;sources
</pre>
<p> 
<h2><a name='sect10' href='#toc10'>Update History</a></h2>
<br>
<pre>xx-mar-88<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.0: created          <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
15-Apr-88<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.1: higher order moments, Y scale  <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
1-jun-88<tt> </tt>&nbsp;<tt> </tt>&nbsp;V2.0: new name, code same<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
28-oct-88<tt> </tt>&nbsp;<tt> </tt>&nbsp;V2.0a: updated doc + labels plotting done<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
13-nov-93<tt> </tt>&nbsp;<tt> </tt>&nbsp;V2.7: added gaussian model + residuals<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
11-jul-96<tt> </tt>&nbsp;<tt> </tt>&nbsp;V2.8: log scale is now 10-based, not e<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
12-apr-97<tt> </tt>&nbsp;<tt> </tt>&nbsp;V3.0: added cumulative option<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
24-apr-98<tt> </tt>&nbsp;<tt> </tt>&nbsp;V3.0a: fix median calculation for restricted range<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
22-dec-99<tt> </tt>&nbsp;<tt> </tt>&nbsp;V3.1a: optional median, fix N=1 reporting bug<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
24-jan-00<tt> </tt>&nbsp;<tt> </tt>&nbsp;documentation updated with program<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
7-jun-01<tt> </tt>&nbsp;<tt> </tt>&nbsp;3.2: added nsigma, corrected man page options<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
7-may-03<tt> </tt>&nbsp;<tt> </tt>&nbsp;4.0: multiple columns allowed<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
28-jan-05<tt> </tt>&nbsp;<tt> </tt>&nbsp;5.0: separate xmin/xmax=, added sort=, fix median if nsigma <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
1-jun-10<tt> </tt>&nbsp;<tt> </tt>&nbsp;6.0: bins= now allowed to have manual edges<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
22-aug-12<tt> </tt>&nbsp;<tt> </tt>&nbsp;6.2: added torben= option for fast large-N median<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
16-jan-14<tt> </tt>&nbsp;<tt> </tt>&nbsp;6.4: added mad= <tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
8-jan-2020<tt> </tt>&nbsp;<tt> </tt>&nbsp;7.0: added pyplot=<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
2-mar-2020<tt> </tt>&nbsp;<tt> </tt>&nbsp;7.1: added norm=<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
14-nov-2021<tt> </tt>&nbsp;<tt> </tt>&nbsp;7.4: added qac=<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre>
<p> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Parameters</a></li>
<li><a name='toc4' href='#sect4'>Examples</a></li>
<li><a name='toc5' href='#sect5'>Flogger</a></li>
<li><a name='toc6' href='#sect6'>Bugs</a></li>
<li><a name='toc7' href='#sect7'>See Also</a></li>
<li><a name='toc8' href='#sect8'>Author</a></li>
<li><a name='toc9' href='#sect9'>Files</a></li>
<li><a name='toc10' href='#sect10'>Update History</a></li>
</ul>
</body>
</html>
