<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>density_centre(1falcON) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<p> 
<h2><a name='sect0' href='#toc0'>name</a></h2>
density_centre - find the global density maximum; center snapshots

<p> 
<h2><a name='sect1' href='#toc1'>synopsis</a></h2>
<b>density_centre</b> [parameter=value] 
<p> 
<h2><a name='sect2' href='#toc2'>requirement</a></h2>
requires NEMO version
3.0.13 or higher, see <a href='http://www.astro.umd.edu/nemo.'>http://www.astro.umd.edu/nemo.</a>
 
<p> 
<p> 
<h2><a name='sect3' href='#toc3'>description</a></h2>
<b>density_centre</b>
finds the position <b>x</b>_c at which <br>
<pre><tt> </tt>&nbsp;<tt> </tt>&nbsp;               1              |x_c-x_i|
(1)<tt> </tt>&nbsp;<tt> </tt>&nbsp;rho_h(x_c) = ----- Sum m_i W( --------- )
<tt> </tt>&nbsp;<tt> </tt>&nbsp;              h^3   i             h
has a global maximum.  The  kernel  W(r) is  proportional  to (1-r^2)^3
for r&lt;1  and  W=0 for r&gt;1  (Ferrers n=3 sphere),   while the  smoothing
length h is determined such that a fixed number of bodies contribute to
the density estimate.
The routine  first builds an  oct-tree with final cells containing less
then  Ncen/4  bodies  and then  uses the  center of mass of the densest
final  cell  as  the  initial  guess for   x_c,   which  is iteratively
improved.  This process is  somewhat  slow, but reliable,  i.e.  really
finds even a weak density peak.  (If you think you have a better/faster
way to do it, I would like  to test it on some snapshots which my older
versions failed.)
parameters in=file Input snapshots are read from file, which must be in
NEMO snapshot format and contain at least masses and positions. If file=-,
input is expected from stdin, useful for piping data from another program.
Default: required out=file If given, snapshots are first centred on the
position and velocity of the density centre found and then written in NEMO
snapshot format to file with same body data as the input, unless give specifies
otherwise. No default. give=IOstring If given, only body data indicated by
IOstring (and present in the input) are written out with the snapshot output.
No default. step=val If snapshots are written out, the outputs are made
every val simulation time units.  If val=0, every snapshot processed is
written out.  Default: 0. times=time range(s) Range(s) of simulation times,
for which snapshots shall be processed. Default: all. Ncen=num The smoothing
length h is set such that num bodies contribute to the density estimate
(1). Default: 200 centrefile=file Simulation time, position x_c, velocity
v_c (if body velocities are given), and density rho_h(x_c) of the centre
are written to file for every snapshot processed.  If file=-, output is made
to stdout, while if file=. no output is made. Default:  - . centerfile=file
If given, this superseeds the file given with centrefile. (to please American
spellers)  remarkUseful for isolated stellar systems only.  files
falcON/doc/user_guide.pdf                         User Guide for falcON
</pre>
<h2><a name='sect7' href='#toc7'>author</a></h2>
<br>
<pre>Walter Dehnen                              walter.dehnen@astro.le.ac.uk
update history of this man page
18-May-2004<tt> </tt>&nbsp;<tt> </tt>&nbsp;first version of manual  WD
</pre>
<p> 
<p> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>name</a></li>
<li><a name='toc1' href='#sect1'>synopsis</a></li>
<li><a name='toc2' href='#sect2'>requirement</a></li>
<li><a name='toc3' href='#sect3'>description</a></li>
<li><a name='toc4' href='#sect4'>parameters</a></li>
<li><a name='toc5' href='#sect5'>remark</a></li>
<li><a name='toc6' href='#sect6'>files</a></li>
<li><a name='toc7' href='#sect7'>author</a></li>
<li><a name='toc8' href='#sect8'>update history of this man page</a></li>
</ul>
</body>
</html>
