<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>CCDSKY(1NEMO) manual page</title>
</head>
<body bgcolor='white'>
HTML automatically generated with <A HREF=http://manpages.ubuntu.com/manpages/bionic/man1/rman.1.html>rman</A><br>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
ccdsky - lazy (cosmology) sky scaling calculator 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<b>ccdsky</b> [parameter=value]

<h2><a name='sect2' href='#toc2'>Description</a></h2>
<b>ccdsky</b> is a lazy sky scaling calculator. It will give you the
scaling parameters for a FITS file (which uses degrees for angles, and
m/s for velocities), to make your typical observer or astronomical software
package happy and print out values  in units observers can be in awe about.
It is also useful to remind yourself how many arcseconds/minutes a given
object is at a given distance. <p>
Although you can transform an image/cube,
the default only needs to know the distance (in AU, pc, kpc, mpc, z, ...)
and unit size (in AU, pc, kpc, mpc, ....) of the object. This will give you
the scaling factors for length and velocities. <p>
When the distance is given
in z, Wright&rsquo;s (2006) cosmology calculator is used. 
<p> 
<h2><a name='sect3' href='#toc3'>Parameters</a></h2>
 The following
parameters are recognized in order; they may be given in any order if the
keyword is also given. Use --help to confirm this man page is up to date. 

<dl>

<dt><b>in=</b> </dt>
<dd>Optional input image file. Must be in <a href='image.5.html'><i>image(5NEMO)</i></a>
 format. </dd>

<dt><b>out=</b> </dt>
<dd>Output
image file, only required if an input image is given.  Will be in  <a href='image.5.html'><i>image(5NEMO)</i></a>

format, with optionally scaled image values and axes coordinates. </dd>

<dt><b>d=#,[unit]</b>
</dt>
<dd>Distance to your object, and optionally a unit.   AU, pc, Kpc, Mpc, and
Gpc are allowed. You can also specify a dimensionless number &rsquo;z&rsquo;, in which
case the special cosmology calculator is used. Or if you know the recession
speed and assume a Hubble constant, d=4500/69,Mpc [default: 1,pc]     </dd>

<dt><b>r=#,[unit]</b>
</dt>
<dd>Length scale of object, and optionally a unit. km, AU, pc, Kpc, Mpc, and
Gpc are allowed.  Together with a distance <b>d=</b>, this will convert the length
scale in your maps to degrees, required for FITS. [default: 1,AU]    </dd>

<dt><b>v=#,[unit]</b>
</dt>
<dd>Velocity scale of object, and optionally a unit. The output units will be
the one that FITS uses, m/s. [Default: 1,km/s]    </dd>

<dt><b>sdv=#</b> </dt>
<dd>Total flux, in Jy.km/s,
of the source. Based on the distance, it will the compute the HI and H2
(given some reasonable X factor) masses, in units of solar masses. Default:
1 </dd>

<dt><b>scale=#</b> </dt>
<dd>Scale the intensity values in the data itself. Default: 1. </dd>

<dt><b>H=</b> </dt>
<dd>Specify
the cosmology model, with up to 3 parameters. Only used when units in <b>d=</b>
are &rsquo;z&rsquo; were specified. The first parameter is the Hubble Constant. Optionally
followed by the WM (Omega(matter)) and WV (Omega(vacuum)), for different
cosmologies. If only H0 and WM are given, a flat universe (WV=0) is used.
See also Wright(2006). WMAP-9 values: H=71,0.27,0.73 (2011?), Planck-1 values:
H=67.15,0.317,0.683 (2013) [Default:  71,0.27,0.73] </dd>

<dt><b>nsteps=</b> </dt>
<dd>Max. number of integration
steps in the cosmo code to achieve accuracy. [Default: 1000] 
<p> 
<p> </dd>
</dl>

<h2><a name='sect4' href='#toc4'>H</a></h2>
It will
be amusing to see the evolution of H: <br>
<pre>WMAP-9 (2011)<tt> </tt>&nbsp;<tt> </tt>&nbsp;71<tt> </tt>&nbsp;<tt> </tt>&nbsp;0.27<tt> </tt>&nbsp;<tt> </tt>&nbsp;0.73
Planck (2013)<tt> </tt>&nbsp;<tt> </tt>&nbsp;67.15<tt> </tt>&nbsp;<tt> </tt>&nbsp;0.317<tt> </tt>&nbsp;<tt> </tt>&nbsp;0.683
Planck (2018)<tt> </tt>&nbsp;<tt> </tt>&nbsp;67.66<tt> </tt>&nbsp;<tt> </tt>&nbsp;0.3111<tt> </tt>&nbsp;<tt> </tt>&nbsp;0.6889
</pre>
<p> 
<p> 
<h2><a name='sect5' href='#toc5'>Examples</a></h2>
Viewing a model at a distance 1 pc, where 1 length unit represents
1 AU, the coordinates need to be multiplied by 0.000277785 in order for
FITS to view them in the correct angular size of 1 arcsec.  <br>
<pre>% ccdsky d=1,pc r=1,AU v=1,km/s
d=1 pc
r=1 AU
v=1 km/s
rscale=0.000277785  (1.00003 arcsec)
vscale=1000
</pre>
<p> To find out the radius of 2 pc at the distance of the galactic center:
<br>
<pre>ccdsky r=2,pc d=8.5,kpc
rscale=0.0134814  (48.5329 arcsec)
</pre>
<p> Here is an example of creating a small bar, at position angle 30, and
observed at RA=6h and DEC=30d: <br>
<pre>% ccdgen "" map4 bar 1,10,0.5,30 size=512,512,1 
% ccdsky map4 map4b
% ccdfits in=map4b out=map4b.fits radecvel=t crval=90,30 crpix=256.5,256.5
% # now switch to MIRIAD
% fits in=map4b.fits out=map4b.mir op=xyin
% cgdisp in=map4b.mir device=/xs labtyp=arcmin
</pre>and you should see a bar (possibly with a sign error position angle) of
about 1 arcmin in length, in an 8 arcmin field. Notice that <a href='ccdfits.1.html'><i>ccdfits(1NEMO)</i></a>

also has various options to specify a WCS which can override the one set
by <a href='ccdgen.1.html'><i>ccdgen(1NEMO)</i></a>
. <p>
Here is a cosmological example: <br>
<pre>% ccdsky H=67.7,0.307,0.693   d=2.19,z
-------------------------------------------------------------
For H_o = 67.7  Omega_M = 0.31 Omega_vac = 0.69 z = 2.190
It is now 13.830 Gyr since the Big Bang.
The age at redshift z was 3.012 Gyr.
The light travel time was 10.818 Gyr.
The comoving radial distance, which goes into Hubbles law, is 5592.2 Mpc
or 18.239 Gly
The comoving volume within redshift z is 732.530 Gpc^3.
The angular size distance D_A is 1753.026 Mpc or 5.718 Gly.
This gives a scale of 8.499  kpc/arcsec
The luminosity distance D_L is 17839.0 Mpc or 58.183 Gly.
The distance modulus, m-M, is 46.26
-------------------------------------------------------------
d=2.19 z  [3635.8 Mpc]
r=1 AU
v=1 km/s
SdV=1 Jy.km/s
rscale=1.5846e-13  [ 5.70457e-10 arcsec   5.70457e-07 mas]
vscale=1000
iscale=1
Mass(HI) = 7.25098e+11  
Mass(H2) = 3.22675e+10  (alpha=4.3; includes 1.36 He contribution)
</pre>compare this with the (selected) output for <b>gnuastro</b>&rsquo;s <a href='astcosmiccal.1.html'><i>astcosmiccal(1)</i></a>
 program:
<br>
<pre>  % astcosmiccal  --H0=67.7 --olambda=0.693 --omatter=0.307 -z2.19
  CosmicCalculator (GNU Astronomy Utilities) 0.11
Universe now
 ------------
 - Age of Universe now (Ga*):                             13.844296
 - Critical density now (g/cm^3):                         8.610662e-30
 - Proper distance to z (Mpc):                            5592.995113
 - Angular diameter distance to z (Mpc):                  1753.290004
 - Tangential distance covered by 1 arcsec at z (Kpc):    8.500190
 - Luminosity distance to z (Mpc):                        17841.654411
 - Distance modulus at z (no unit):                       46.257176
 - Conversion to absolute magnitude (no unit):            44.997699
Universe at desired redshift z
 ------------------------------
 - Age of Universe at z (Ga*):                            3.017860
 - Look-back time to z (Ga*):                             10.826436
 - Critical density at z (g/cm^3):                        9.177897e-29
</pre>
<h2><a name='sect6' href='#toc6'>Caveats</a></h2>
Although the conversion from an observed HI flux to mass is not
too controversial (sans optical depth effects), the conversion  from CO
to a mass is still under debate. We use the X value 2e20 cm-2/K km/s. 
<h2><a name='sect7' href='#toc7'>See
Also</a></h2>
<a href='ccdgen.1.html'>ccdgen(1NEMO)</a>
, <a href='ccdmath.1.html'>ccdmath(1NEMO)</a>
, <a href='ccd2vel.1.html'>ccd2vel(1NEMO)</a>
, <a href='ccdfits.1.html'>ccdfits(1NEMO)</a>
, <a href='snapscale.1.html'>snapscale(1NEMO)</a>
,
<a href='image.5.html'>image(5NEMO)</a>
 <p>
<a href='http://arxiv.org/abs/astro-ph/0609593'>http://arxiv.org/abs/astro-ph/0609593</a>
  <i>A Cosmology Calculator
for the Web</i> (E.Wright) <p>
<a href='http://www.astro.ucla.edu/~wright/CosmoCalc.html'>http://www.astro.ucla.edu/~wright/CosmoCalc.html</a>
 <i> The
CosmoCalc website</i> <p>
<a href='https://ui.adsabs.harvard.edu/abs/2013ARA%26A..51..207B/abstract'>https://ui.adsabs.harvard.edu/abs/2013ARA%26A..51..207B/abstract</a>

<p>
<a href='https://ascl.net/gnuastro'>https://ascl.net/gnuastro</a>
 
<h2><a name='sect8' href='#toc8'>Files</a></h2>
NEMO/src/image/trans<tt> </tt>&nbsp;<tt> </tt>&nbsp;ccdsky.c - source code

<h2><a name='sect9' href='#toc9'>Author</a></h2>
Peter Teuben 
<h2><a name='sect10' href='#toc10'>Update History</a></h2>
<br>
<pre>17-Aug-2012<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.0 Created<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
23-aug-2012<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.1 added sdv=<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
28-aug-2012<tt> </tt>&nbsp;<tt> </tt>&nbsp;V1.2 implemented scale=<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
28-feb-2013<tt> </tt>&nbsp;<tt> </tt>&nbsp;V2.2 more verbose, added H=<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
16-mar-2013<tt> </tt>&nbsp;<tt> </tt>&nbsp;V3.0 added Wright&rsquo;s cosmology calculator<tt> </tt>&nbsp;<tt> </tt>&nbsp;PJT
</pre><p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Parameters</a></li>
<li><a name='toc4' href='#sect4'>H</a></li>
<li><a name='toc5' href='#sect5'>Examples</a></li>
<li><a name='toc6' href='#sect6'>Caveats</a></li>
<li><a name='toc7' href='#sect7'>See Also</a></li>
<li><a name='toc8' href='#sect8'>Files</a></li>
<li><a name='toc9' href='#sect9'>Author</a></li>
<li><a name='toc10' href='#sect10'>Update History</a></li>
</ul>
</body>
</html>
